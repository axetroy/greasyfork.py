// ==UserScript==
// @name         RespawnBack Design - 2015
// @namespace    
// @version      3.0
// @description  go back to the old design of respawn
// @author       Craftbukkit
// @match        http://www.jeuxvideo.com/forums*
// @grant        none
// @run-at document-start
// ==/UserScript==
(function() {
    'use strict';
    var h ='';
    h += '<div class="header-top"><div class="header-container"><div class="global-web"><span class="nav-open"><span class="nav-open-text">Menu</span>&nbsp;<span class="nav-open-hamburger"></span></span><span class="logo"><span class="JvCare 1F logo-link"><span>jeuxvideo.com</span></span></span></div><div class="global-search"><form action="http://www.jeuxvideo.com/recherche.php" class="search" ><button><i class="icon-search"></i></button><input type="search" placeholder="Rechercher un jeu, une news" id="search" name="q" /></form></div><div class="search-keyword"><span class="search-keyword-inner"> Ex :';
	h += '                                        <a href="http://www.jeuxvideo.com/evenement/e3/">E3 2016</a>,                                        <a href="http://www.jeuxvideo.com/jeux/playstation-4-ps4/00050900-uncharted-4-a-thief-s-end.htm">Uncharted 4 : A Thief&#039;s End</a>,                                        <a href="http://www.jeuxvideo.com/jeux/jeu-80805/">Tom Clancy&#039;s The Division</a>,                                        <a href="http://www.jeuxvideo.com/jeux/jeu-454829/">Clash Royale</a></span></div><script type="text/javascript">';
	h += '    WadsUtil.setAdStyle(wads.createAdPosition(\'onglet\'), \'onglet\', {';
	h += '        zIndex: 0,';
	h += '        height: \'26px\',';
	h += '        verticalAlign: \'middle\',';
	h += '        lineHeight: \'30px\',';
	h += '        maxWidth: \'150px\',';
	h += '        paddingLeft: \'10px\',';
	h += '        overflow: \'hidden\',';
	h += '        display: \'table-cell\',';
	h += '        right: 0,';
	h += '        top: \'10px\'';
	h += '    });';
	h += '</script></div></div><div class="header-bottom"><div class="header-sticky"><div class="header-container"><div class="right-nav"><span class="JvCare 1FC143424543C142454319C045C012C2434AC142451E494AC4 nav-link-search"><i class="icon-search"></i></span><!--';
	h += '    --><div class="JvCare 1FC2C24F1FC243CBCB46494CC219C045C0 nav-link-account"><div class="account"><div class="account-cell"><span class="account-img"><span class="account-avatar-box" style="background-image:url(\'[+icon+]\')"></span></span></div><div class="account-cell"><span class="account-pseudo">[+pseudo+]</span>[+mp+][+notif+]</div></div></div></div><!--';
	h += '                --><nav class="main-nav" id="main-nav"><div class="nav-container nav-platform"><ul class="lvl1"><li class="item"><a href="http://www.jeuxvideo.com/pc.htm" class="nav-link">';
	h += '                                        PC';
	h += '                </a></li><li class="item"><a href="http://www.jeuxvideo.com/ps4-playstation-4.htm" class="nav-link">';
	h += '                                        PS4';
	h += '                </a></li><li class="item"><a href="http://www.jeuxvideo.com/xbox-one-xone-xo.htm" class="nav-link">';
	h += '                                        ONE';
	h += '                </a></li><li class="item"><a href="http://www.jeuxvideo.com/wii-u-nintendo-wii-wiiu.htm" class="nav-link">';
	h += '                                        Wii U';
	h += '                </a></li><li class="item nav-dropdown"><span class="nav-toggler"></span><ul class="lvl2"><li class="item"><a href="http://www.jeuxvideo.com/ps3-playstation-3.htm" class="nav-link">';
	h += '                                        PS3';
	h += '                </a></li><li class="item"><a href="http://www.jeuxvideo.com/x360-xbox-360.htm" class="nav-link">';
	h += '                                        XBOX 360';
	h += '                </a></li><li class="item"><a href="http://www.jeuxvideo.com/3ds-nintendo-3ds.htm" class="nav-link">';
	h += '                                        3DS';
	h += '                </a></li><li class="item"><a href="http://www.jeuxvideo.com/ps-vita-playstation-vita.htm" class="nav-link">';
	h += '                                        PS VITA';
	h += '                </a></li><li class="item"><a href="http://www.jeuxvideo.com/ds.htm" class="nav-link">';
	h += '                                        DS';
	h += '                </a></li><li class="item"><a href="http://www.jeuxvideo.com/wii-nintendo-wii.htm" class="nav-link">';
	h += '                                        Wii';
	h += '                </a></li><li class="item"><a href="http://www.jeuxvideo.com/apple-iphone-ipod-touch.htm" class="nav-link">';
	h += '                                        IOS';
	h += '                </a></li><li class="item"><a href="http://www.jeuxvideo.com/android.htm" class="nav-link">';
	h += '                                        ANDROID';
	h += '                </a></li></ul></li></ul></div><!--';
	h += '                    --><div class="nav-container nav-primary"><ul class="lvl1"><li class="item nav-dropdown"><span class="JvCare 1FCB4FC3C21E4843C21E4D43C3C51F nav-link">Jeux</span><span class="nav-toggler"></span><ul class="lvl2"><li class="item"><span class="JvCare 1FCB43C2CBC21945CB4E nav-link">';
	h += '                                        Tests';
	h += '                </span></li><li class="item"><span class="JvCare 1F4245434ACBC21945CB4E nav-link">';
	h += '                                        Astuces et Wikis';
	h += '                </span></li><li class="item"><a href="http://www.jeuxvideo.com/previews.htm" class="nav-link">';
	h += '                                        Aperçus';
	h += '                </a></li><li class="item"><span class="JvCare 1FC24FC1CB4643C21F4B4ACB43C21E4B431EC24FC1CB46431945CB4E nav-link">';
	h += '                                        Sorties';
	h += '                </span></li><li class="item"><span class="JvCare 1F4E4346484843C3C1C21F4E4F4E4349CB1F nav-link">';
	h += '                                        Hit Parade';
	h += '                </span></li><li class="item"><span class="JvCare 1F4D43C3C51F4ACBCB43494BC3C21F nav-link">';
	h += '                                        Les + attendus';
	h += '                </span></li><li class="item"><a href="http://www.jeuxvideo.com/fonds-ecran-wallpapers.htm" class="nav-link">';
	h += '                                        Wallpapers';
	h += '                </a></li><li class="item"><a href="http://www.jeuxvideo.com/demos.htm" class="nav-link">';
	h += '                                        Téléchargements';
	h += '                </a></li><li class="item"><span class="JvCare 1FCB4FC3C21E4843C21E4D43C3C51F nav-link nav-link-repeat">';
	h += '                                        Tous les Jeux';
	h += '                </span></li></ul></li><li class="item"><span class="JvCare 1F4A42CBC34A4846CB43C21945CB4E nav-link">';
	h += '                                        Actu';
	h += '                </span></li><li class="item"><a href="http://www.jeuxvideo.com/gaming-live/tv01.htm" class="nav-link">';
	h += '                                        Live';
	h += '                </a></li><li class="item nav-dropdown"><span class="JvCare 1FC4464B434FC21E4B431E4D43C3C51945CB4E nav-link">Vidéos</span><span class="nav-toggler"></span><ul class="lvl2"><li class="item"><span class="JvCare 1F4245C14F4946CAC343C21EC4464B434F1945CB4E nav-link">';
	h += '                                        Chroniques';
	h += '                </span></li><li class="item"><a href="http://www.jeuxvideo.com/gaming_live.htm" class="nav-link">';
	h += '                                        Gaming Live';
	h += '                </a></li><li class="item"><a href="http://www.jeuxvideo.com/toutes-les-videos/type-7780/" class="nav-link">';
	h += '                                        Vidéos Tests';
	h += '                </a></li><li class="item"><a href="http://www.jeuxvideo.com/bandes-annonces-videos-jeux.htm" class="nav-link">';
	h += '                                        Trailers';
	h += '                </a></li><li class="item"><a href="http://www.jeuxvideo.com/le-direct.htm" class="nav-link">';
	h += '                                        Replay Web TV';
	h += '                </a></li><li class="item item-separator"></li><li class="item"><span class="JvCare 1FC4464B434FC21F2B262C2222241F4CC1464E1E4B4ACC491E494FCBC1431E4AC446C21E43491E211E4E4649C3CB43C21945CB4E nav-link"><img class="nav-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-srcset="//image.jeuxvideo.com/medias-md/146522/1465216456-4336-card.jpg">                    Dernier vidéo test';
	h += '                </span></li><li class="item"><span class="JvCare 1FC4464B434FC21F4245C14F4946CAC343C21F2B2623222B2B1FC2C04F464843C1C21E4E4AC5464E431E494FC3C21EC14A424F49CB431E4CCB4A1E211945CB4E nav-link"><img class="nav-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-srcset="//image.jeuxvideo.com/medias-md/146477/1464770344-4227-card.jpg">                    Dernière chronique';
	h += '                </span></li><li class="item"><span class="JvCare 1FC4464B434FC21F4C4A4E46494C1E4846C4431F2B262420242A1F4B434A4B1E46C2484A494B1E4B4344464946CB46C4431E434B46CB464F491EC0C14F4E43494A4B431EC24A494C484A49CB431E4AC31EC24F484346481945CB4E nav-link"><img class="nav-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-srcset="//image.jeuxvideo.com/medias-md/146488/1464878342-5203-card.jpg">                    Dernier Gaming Live';
	h += '                </span></li><li class="item"><span class="JvCare 1FCB4FC3CB43C21E4843C21EC4464B434FC21F nav-link nav-link-repeat">';
	h += '                                        Toutes les vidéos';
	h += '                </span></li></ul></li><li class="item nav-dropdown"><a href="http://www.jeuxvideo.com/forums.htm" class="nav-link">Forums</a><span class="nav-toggler"></span><ul class="lvl2"><li class="item"><span class="JvCare 1F444FC1C34EC21F201E2A231E201E2A1E201E2A1E201E41484A41484A1E4E4F4649C21E4B431E2A231E4A49C21945CB4E nav-link">';
	h += '                                        Blabla moins de 15 ans';
	h += '                </span></li><li class="item"><span class="JvCare 1F444FC1C34EC21F201E23201E201E2A1E201E2A1E201E41484A41484A1E2A231E2A251E4A49C21945CB4E nav-link">';
	h += '                                        Blabla 15-18 ans';
	h += '                </span></li><li class="item"><span class="JvCare 1F444FC1C34EC21F201E232A1E201E2A1E201E2A1E201E41484A41484A1E2A251E21231E4A49C21945CB4E nav-link">';
	h += '                                        Blabla 18-25 ans';
	h += '                </span></li><li class="item"><span class="JvCare 1F444FC1C34EC21F201E22241E201E2A1E201E2A1E201E4CC343C1C1431E4B43C21E424F49C24F4843C21945CB4E nav-link">';
	h += '                                        Guerre des Consoles';
	h += '                </span></li><li class="item"><span class="JvCare 1F444FC1C34EC21F201E2A20202020212A1E201E2A1E201E2A1E201E424F4E4EC3494AC3CB431945CB4E nav-link">';
	h += '                                        Communauté';
	h += '                </span></li><li class="item item-separator"></li><li class="item"><a href="http://www.jeuxvideo.com/forums/0-19163-0-1-0-1-0-league-of-legends.htm" class="nav-link">';
	h += '                                        League of Legends';
	h += '                </a></li><li class="item"><a href="http://www.jeuxvideo.com/forums/0-3004984-0-1-0-1-0-football-manager-2016.htm" class="nav-link">';
	h += '                                        Football Manager 2016';
	h += '                </a></li><li class="item"><a href="http://www.jeuxvideo.com/forums/0-33972-0-1-0-1-0-overwatch.htm" class="nav-link">';
	h += '                                        Overwatch';
	h += '                </a></li><li class="item"><span class="JvCare 1F444FC1C34EC21945CB4E nav-link nav-link-repeat">';
	h += '                                        Tous les Forums';
	h += '                </span></li></ul></li><li class="item"><a href="http://www.wearefans.com/?utm_source=jvc" class="nav-link" target="_blank">';
	h += '                                        Store';
	h += '                </a></li></ul></div></nav></div></div></div>';
    document.getElementsByTagName("head")[0].innerHTML += '<style type="text/css">#header-search{display:none;}</style><link href="http://static.jvc.gg/1.28.0/css/skin-forum.css" rel="stylesheet" /><link href="http://static.jvc.gg/1.28.0/css/skin-common.css" rel="stylesheet" />';
    (function ifLoad()
     {
        if(document.body)
        {
            var tmpPseudo = document.getElementsByTagName("header")[0].innerHTML.split('account-pseudo">')[1].split('<')[0];
            var tmpIcon = "http://image.jeuxvideo.com"+document.getElementsByTagName("header")[0].innerHTML.split("background-image:url('//image.jeuxvideo.com")[1].split("'")[0];
            var tmpMp = "<a href='http://www.jeuxvideo.com/messages-prives/boite-reception.php'>"+document.getElementsByTagName("header")[0].innerHTML.split('nav-account-mp dropdown">')[1].split('<div')[0]+"</a>";
			var tmpNotif = document.getElementsByTagName("header")[0].innerHTML.split('-account-notif dropdown">')[1].split('<div')[0];
			h = h.split("[+icon+]").join(tmpIcon);
            h = h.split("[+pseudo+]").join(tmpPseudo);
			h = h.split("[+mp+]").join("&nbsp;"+tmpMp);
			h = h.split("[+notif+]").join(tmpNotif);
            document.getElementsByTagName("header")[0].innerHTML = h;
            var link = document.getElementsByTagName("link").length;
            for(var i = 0;i<link;i++) {
                if(document.getElementsByTagName("link")[i].href.indexOf("29.2") != "-1") {
                    document.getElementsByTagName("link")[i].href = "";
                }
            }
			!function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+r+"'")}var l=n[r]={exports:{}};t[r][0].call(l.exports,function(e){var n=t[r][1][e];return i(n?n:e)},l,l.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<o.length;r++)i(o[r]);return i}({1:[function(e,t,n){function o(){p||(p=!0,r(),u(),s(),h(),c(),f(),d(),l(),m())}e("./core/jvcare").Transformation(),e("./core/media-query"),e("./core/srcset").render(),e("./core/slider-roller")(),e("./core/modal"),e("./core/bootstrap-without-jquery"),e("./core/nav-header"),e("./core/cookie-notifier"),e("./core/autocomplete"),e("./core/search"),"__DEV__"==='1.27.2'&&(window._request=e("./core/request"),window._dom=e("./core/dom"));var i=e("./core/abonnement"),a=e("./core/dom");a(".top-nav-link .subscription").on("click",function(){var e=a(":scope > span",this),t=this;e.hasClass("icon-notif-off")?i.create(t.getAttribute("data-type"),t.getAttribute("data-id"),function(n){e.removeClass("icon-notif-off").addClass("icon-notif-on"),t.setAttribute("data-id-abonnement",n["id-abonnement"])}):i.remove(t.getAttribute("data-id-abonnement"),function(){e.removeClass("icon-notif-on").addClass("icon-notif-off"),t.setAttribute("data-id-abonnement",0)})});var r=e("./core/webediads").init,s=e("./core/analytics"),c=e("./core/captcha").init,l=e("./core/facebook"),d=e("./core/outbrain"),u=e("./core/estat"),f=e("./core/affiliation"),m=e("./core/footer"),h=e("./core/googletagmanager"),p=!1;window.onload=o,document.addEventListener("DOMContentLoaded",function(){setTimeout(o,1500)})},{"./core/abonnement":2,"./core/affiliation":3,"./core/analytics":4,"./core/autocomplete":5,"./core/bootstrap-without-jquery":7,"./core/captcha":8,"./core/cookie-notifier":9,"./core/dom":11,"./core/estat":12,"./core/facebook":13,"./core/footer":14,"./core/googletagmanager":15,"./core/jvcare":16,"./core/media-query":18,"./core/modal":20,"./core/nav-header":21,"./core/outbrain":24,"./core/request":25,"./core/search":29,"./core/slider-roller":30,"./core/srcset":31,"./core/webediads":34}],2:[function(e,t,n){var o=e("./request.js"),i={};i.create=function(e,t,n){o({method:"POST",url:"/abonnements/ajax/ajax_abo_insert.php",data:{ajax_hash:document.body.getAttribute("data-abo-session"),type:e,ids_liste:t},dataType:"json",success:function(e){0!==e.error.length?modal("erreur",{message:e.error}):"function"!=typeof n?modal("succes",{message:"Votre abonnement a bien été pris en compte."}):n(e)}})},i.remove=function(e,t){o({method:"POST",url:"/abonnements/ajax/ajax_abo_delete.php",data:{ajax_hash:document.body.getAttribute("data-abo-session"),id:e},dataType:"json",success:function(e){0!==e.error.length?modal("erreur",{message:e.error}):"function"!=typeof t?modal("succes",{message:"Votre abonnement a bien été supprimé."}):t(e)}})},t.exports=i},{"./request.js":25}],3:[function(e,t,n){function o(){var e=document.createElement("script");e.type="text/javascript",e.src="//wms.assoc-amazon.com/20070822/US/js/auto-tagger.js?tag=jeuxvideo_autotag-21&locale=FR&overwrite=1",document.body.appendChild(e);var t=t||[];t.push(["AT","11lHhL"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https:"==document.location.protocol?"https://autolinkmaker.itunes.apple.com/js/itunes_autolinkmaker.js":"http://autolinkmaker.itunes.apple.com/js/itunes_autolinkmaker.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()}var i=e("./dom");i(".affiliation-boutique-tr a").on("click",function(){var e=this.getAttribute("data-urlboutique"),t=this.getAttribute("data-partner"),n=this.getAttribute("data-category");e&&t&&n&&ga("send","event",n,t,e)}),i(".datalayer-push").on("click",function(e){var t={event:this.getAttribute("data-push")};if("affiliation_click"===t.event){t.partner=this.getAttribute("data-partner"),t.id_jeu=this.getAttribute("data-id-jeu");var n=i(".label-machine",this).text();n||(n=i(".label-machine",this.parentNode).text()),n||(n=i(this).closest(".boutique-version").find(".label-machine").text()),n&&(t.machine=n.trim());var o=i(".prix-neuf, .prix-neuf > *, .prix",this).text();o&&(t.price=o.trim())}window.dataLayer&&window.dataLayer.push(t)}),t.exports=function(){window.jsli&&!window.jsli.IsDone?window.jsli.callbackStoreScript=o:o()}},{"./dom":11}],4:[function(e,t,n){function o(e,t){if(void 0!==e.data_ga){var n={};if(n.dimension4="",n.dimension5="",n.dimension6=e.data_ga.title,n.dimension20=e.data_ga.date_publication,n.dimension80=e.data_ga.type,void 0!==e.data_ga.jeu_id&&e.data_ga.jeu_id.length>0&&(n.dimension43=e.data_ga.jeu_id),void 0!==e.data_ga.jeu_titre&&e.data_ga.jeu_titre.length>0&&(n.dimension44=e.data_ga.jeu_titre),void 0!==e.data_ga.chronique_titre&&(n.dimension17=e.data_ga.chronique_titre),n.metric1=e.data_ga.length,e.data_ga.hasOwnProperty("video_position")){var o=["sorties","jvcode-content","jvcode-comment","fichejeu"];"footer"===e.data_ga.video_position?n.dimension4="auto-play-on-scroll":-1!==o.indexOf(e.data_ga.video_position)?n.dimension4="play":n.dimension4="auto-play","footer"===e.data_ga.video_position?n.dimension5="footer":"jvcode-comment"===e.data_ga.video_position?n.dimension5="in-comment":n.dimension5="in-content"}return void 0===t?n.eventLabel=e.file:n.eventLabel=t,n}}function i(e){return m[e].status}function a(e){return m[e].duration}function r(e,t){m[e].duration=t}function s(e){return m[e].ad_position?m[e].ad_position:""!==i&&50===a?"video-midroll":""!==i&&a>50?"video-postroll":"video-preroll"}function c(e,t){"pre"===t?m[e].ad_position="video-preroll":"mid"===t?m[e].ad_position="video-midroll":m[e].ad_position="video-postroll"}function l(e){h[e]={},h[e].started=!0,m[e].status="",m[e].ad_status="",m[e].duration=0,m[e].ad_duration=0}var d=e("./dom"),u=e("./load");window.ga=window.ga||function(){ga.q=ga.q||[],ga.q.push(arguments)},ga.l=ga.l+new Date;var f="UA-30147725-3",m={},h={},p=d(document);p.on("video_player_thumbnail_displayed",function(e){var t=e.data;m[t.id]={};var n=o(t);n.nonInteraction=1,ga("send","event","video-player","thumbnail-displayed",n)}),p.on("video_player_starts",function(e){var t=e.data;"pause"===m[t.id].status&&(m[t.id].status="playing",ga("send","event","video-content","resume",o(t)))}),p.on("video_player_crashes",function(e){var t=e.data,n=o(t);n.nonInteraction=1,ga("send","event","video-player","crashes",n)}),p.on("video_ad_play",function(e){var t=e.data;"paused"===m[t.id].ad_status&&(m[t.id].ad_status="",ga("send","event",s(t.id),"resume",o(t)))}),p.on("video_ad_impression",function(e){var t=e.data;c(t.id,t.adposition),m[t.id].ad_status="",m[t.id].ad_duration=0;var n=o(t);if(t.data_ga.hasOwnProperty("video_position")&&"play"!==n.dimension4&&(n.nonInteraction=1),void 0===h[t.id]&&(l(t.id),ga("send","event","video-player","starts",n)),t.data_ga.hasOwnProperty("vast_url")){var i=t.data_ga.vast_url;n=o(t),n.dimension7=i,n.nonInteraction=1,ga("send","event",s(t.id),"calls-vast",n)}ga("send","event",s(t.id),"starts",n)}),p.on("video_ad_paused",function(e){var t=e.data;m[t.id].ad_status="paused",ga("send","event",s(t.id),"pause",o(t))}),p.on("video_ad_clicked",function(e){var t=e.data;ga("send","event",s(t.id),"clic",o(t))}),p.on("video_ad_skipped",function(e){var t=e.data;ga("send","event",s(t.id),"skip",o(t))}),p.on("video_ad_completed",function(e){var t=e.data,n=o(t);n.nonInteraction=1,ga("send","event",s(t.id),"finish",n),"video-postroll"===s(t.id)&&(h[t.id]=void 0)}),p.on("video_ad_time",function(e){var t=e.data,n=o(t);t.data_ga.hasOwnProperty("video_position")&&"play"!==n.dimension4&&(n.nonInteraction=1),t.pub_percent>=25&&m[t.id].ad_duration<25?(m[t.id].ad_duration=25,ga("send","event",s(t.id),"play-25",n)):t.pub_percent>=50&&m[t.id].ad_duration<50?(m[t.id].ad_duration=50,ga("send","event",s(t.id),"play-50",n)):t.pub_percent>=75&&m[t.id].ad_duration<75&&(m[t.id].ad_duration=75,ga("send","event",s(t.id),"play-75",n))}),p.on("video_ad_crashes",function(e){var t=e.data,n=o(t);n.nonInteraction=1,ga("send","event",s(t.id),"crash",n);var i=o(t,t.pub_error_label);i.nonInteraction=1,ga("send","event",s(t.id),"crash-details",i)}),p.on("video_content_starts",function(e){var t=e.data,n=o(t);t.data_ga.hasOwnProperty("video_position")&&"play"!==n.dimension4&&(n.nonInteraction=1),"pause"===m[t.id].status?(m[t.id].status="playing",ga("send","event","video-content","resume",n)):"playing"!==m[t.id].status&&(void 0===h[t.id]&&(l(t.id),ga("send","event","video-player","starts",n)),ga("send","event","video-content","starts",n),m[t.id].status="playing")}),p.on("video_content_pause",function(e){var t=e.data;m[t.id].status="pause",ga("send","event","video-content","pause",o(t))}),p.on("video_content_seek",function(e){var t=e.data;m[t.id].status="playing",ga("send","event","video-content","seek",o(t))}),p.on("video_content_finish",function(e){var t=e.data,n=o(t);n.nonInteraction=1,ga("send","event","video-content","finish",n)}),p.on("video_content_time",function(e){var t=e.data,n=o(t);t.data_ga.hasOwnProperty("video_position")&&"play"!==n.dimension4&&(n.nonInteraction=1),t.video_percent>=25&&a(t.id)<25&&(r(t.id,25),ga("send","event","video-content","play-25",n)),t.video_percent>=50&&a(t.id)<50&&(r(t.id,50),ga("send","event","video-content","play-50",n)),t.video_percent>=75&&a(t.id)<75&&(r(t.id,75),ga("send","event","video-content","play-75",n))}),p.on("video_content_crash",function(e){var t=e.data,n=o(t);n.nonInteraction=1,ga("send","event","video-content","crash",n);var i=o(t,t.video_error_label);i.nonInteraction=1,ga("send","event","video-content","crash-details",i)}),p.on("video_related",function(e){var t=e.data,n=o(t,t.item.title);ga("send","event","clic-interne","video-related",n)}),d(".registerconfirmed").each(function(){ga("send","event","register","registration-complete","email")}),d(".registeremailconfirmed").each(function(){ga("send","event","register","email-confirmed")}),t.exports=function(){u("https://www.google-analytics.com/analytics.js");var e=parseInt(d(".account").data("id-compte"),10);ga("create",f,"auto",e?{userId:e}:null);var t=!!e;ga("set","dimension1",window.wadsBlocking?"adblock":"noblock"),ga("set","dimension2",window.wadsBlocking?"adblock":"noblock"),ga("set","dimension3",window.wadsBlocking?"adblock":"noblock");var n=d(".player-jv").length>0;ga("set","dimension8",n?"1":"0"),t?"false"===sessionStorage.getItem("loggedEventSent")&&(ga("send","event","register","login-complete","email"),sessionStorage.setItem("loggedEventSent","true")):sessionStorage.setItem("loggedEventSent","false"),void 0===window.gaudata||0===window.gaudata.length?ga("send","pageview"):ga("send","pageview",window.gaudata)}},{"./dom":11,"./load":17}],5:[function(e,t,n){var o=e("./dom.js");o.fn("autocomplete",function(e){return this.each(function(){function t(t,n){var a=null,r=0;s&&s.each(function(){n===this&&(a=r),r++}),o.removeClass(d,"on"),"function"==typeof e.select&&e.select(t,null!==a?i[a]:null,c),c.get(0).focus()}function n(){var t=c.get(0);e.wrapper||o(d).css({top:t.offsetTop+t.clientHeight+"px",left:t.offsetLeft+"px"})}var i,a,r,s,c=o(this),l=parseInt(e.minLength,10)||1;this.setAttribute("autocomplete","off");var d=document.createElement("div");o.addClass(d,"autocomplete-jv"),e.wrapper instanceof Object?e.wrapper.appendChild(d):this.parentNode.appendChild(d),c.on("keydown",function(u){var f=window.event?u.keyCode:u.which;if(40===f||38===f){var m,h=o(".selected",d).get(0);m=h?40===f?h.nextSibling:h.previousSibling:o("li",d).get(0),m&&(h&&o.removeClass(h,"selected"),o.addClass(m,"selected"),m.offsetTop+m.clientHeight>d.scrollTop+d.clientHeight&&(d.scrollTop=m.offsetTop+m.clientHeight-d.clientHeight),m.offsetTop<d.scrollTop&&(d.scrollTop=m.offsetTop))}else if(13===f||9===f){var p=o(".selected",d).get(0);p?t(u,p):o.removeClass(d,"on")}else 27===f?(u.stop(),o.removeClass(d,"on")):this.value.length+1>=l&&(window.clearTimeout(a),a=setTimeout(function(){var a=c.val();a?e.source(a,function(a){if(0===a.length)return void o.removeClass(d,"on");i=a;var c="<ul>",l=0;for(l=0;l<a.length;l++)c+=e.renderItem(a[l]);c+="</ul>";var u=document.createDocumentFragment(),f=document.createElement("div");for(f.innerHTML=c;f.childNodes.length>0;)u.appendChild(f.childNodes[0]);"function"==typeof e.beforeRender&&e.beforeRender(d),r?d.replaceChild(u,r):d.appendChild(u),r=d.childNodes[0],n(),o.addClass(d,"on"),s=o("li",d),s.on("mouseenter",function(){o(".selected",d).removeClass("selected"),o.addClass(this,"selected")}).on("mouseleave",function(){o.removeClass(this,"selected")}).on("click",function(e){t(e,this)}),"function"==typeof e.afterRender&&e.afterRender()}):o.removeClass(d,"on")},300))}).on("click",function(e){e.stopPropagation()}),o(d).on("mouseenter","li",function(){o.addClass(this,"selected")}),o(d).on("mouseleave","li",function(){o.removeClass(this,"selected")})})}),window.addEventListener("click",function(){o(".autocomplete-jv.on").removeClass("on")}),window.addEventListener("scroll",function(){o("header .autocomplete-jv.on").removeClass("on")})},{"./dom.js":11}],6:[function(e,t,n){function o(e,t){e.find(".active").removeClass("active"),i.addClass(t.parentNode,"active");var n=i(t.getAttribute("data-target")||t.getAttribute("href"));i(".active",n.get(0).parentNode).removeClass("active"),n.addClass("active")}var i=e("./dom.js");i.fn("tab",function(e){switch(e){case"show":var t=this.closest("ul");this.each(function(){o(t,this)});break;default:var n=this;n.find("[data-toggle=tab]").on("click",function(){return o(n,this),!1})}return this}),i(document).on("click","[data-toggle=tab]",function(){o(i(this).closest("ul"),this)})},{"./dom.js":11}],7:[function(e,t,n){function o(){var e,t=document.createElement("div"),n={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(n.hasOwnProperty(e)&&void 0!==t.style[e])return n[e];return!1}function i(e){var t={};e=e||window.event,t.evTarget=e.currentTarget||e.srcElement;var n=t.evTarget.getAttribute("data-target");return t.dataTarget=n?document.querySelector(n):!1,t}function a(e){var t=e.style.height;e.style.height="auto";var n=getComputedStyle(e).height;return e.style.height=t,e.offsetHeight,n}function r(e,t){if(document.createEvent){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!1),e.dispatchEvent(n)}else e.fireEvent("on"+t)}function s(e,t){e.classList.remove("collapse"),e.classList.add("collapsing"),t.classList.remove("collapsed"),t.setAttribute("aria-expanded",!0),e.style.height=a(e),m?e.addEventListener(m,function(){l(e)},!1):l(e)}function c(e,t){e.classList.remove("collapse"),e.classList.remove("in"),e.classList.add("collapsing"),t.classList.add("collapsed"),t.setAttribute("aria-expanded",!1),e.style.height=getComputedStyle(e).height,e.offsetHeight,e.style.height="0px"}function l(e){e.classList.remove("collapsing"),e.classList.add("collapse"),e.setAttribute("aria-expanded",!1),"0px"!==e.style.height&&(e.classList.add("in"),e.style.height="auto")}function d(e){e.preventDefault();var t=i(e),n=t.dataTarget;return n.classList.contains("in")?c(n,t.evTarget):s(n,t.evTarget),!1}function u(e){function t(){try{o.parentNode.removeChild(o),r(o,"closed.bs.alert")}catch(e){window.console.error("Unable to remove alert")}}e.preventDefault();var n=i(e),o=n.dataTarget;if(!o){var a=n.evTarget.parentNode;a.classList.contains("alert")?o=a:a.parentNode.classList.contains("alert")&&(o=a.parentNode)}return r(o,"close.bs.alert"),o.classList.remove("in"),m&&o.classList.contains("fade")?o.addEventListener(m,function(){t()},!1):t(),!1}for(var f=e("./dom.js"),m=o(),h=document.querySelectorAll("[data-toggle=collapse]"),p=0,v=h.length;v>p;p++)h[p].onclick=d;for(var g=document.querySelectorAll("[data-dismiss=alert]"),_=0,b=g.length;b>_;_++)g[_].onclick=u;f(document).on("click","[data-toggle=dropdown]",function(e){e.stopPropagation();var t=this.parentNode;f.toggleClass(t,"open"),f(".dropdown").each(function(){this!==t&&f.removeClass(this,"open")})}),window.addEventListener("click",function(e){f(".dropdown").removeClass("open")})},{"./dom.js":11}],8:[function(e,t,n){var o="https://www.google.com/recaptcha/api.js",i=e("./load");t.exports={render:function(e){i(o,function(){var t=e.find(".g-recaptcha");if(t.length){var n=t.get(0),o=window.grecaptcha.render(n,{sitekey:t.data("sitekey")});n.setAttribute("data-widgetid",o)}})},init:function(){document.querySelector(".g-recaptcha")&&i(o)}}},{"./load":17}],9:[function(e,t,n){!function(){function e(){var e=document.createElement("div");e.id="cookies_notifier",e.className="__wads_no_click",e.style.display="table",e.style.position="fixed",e.style.bottom="0",e.style.left="0",e.style.color="#FFF",e.style.background="#000",e.style.zIndex="200",e.style.width="100%",e.style.minHeight="35px",e.style.fontFamily="Verdana",e.style.fontSize="10px",e.style.textAlign="center";var n=document.createElement("p");n.style.display="table-cell",n.style.verticalAlign="middle",n.style.padding="0 30px",n.innerHTML='En poursuivant votre navigation sur ce site, vous acceptez l\'utilisation de cookies. Ces derniers assurent le bon fonctionnement de nos services. <a style="color:#FFF;" href="http://www.webedia.fr/cookies/" target="_blank">En savoir plus sur les cookies</a>';var o=document.createElement("a");o.style.position="absolute",o.style.top="0",o.style.right="0",o.style.display="block",o.style.width="25px",o.style.lineHeight="25px",o.style.backgroundColor="#656565",o.style.color="#FFF",o.style.textDecoration="none",o.href="javascript:closeWbCookieNotifier();",o.innerHTML="X",document.body.appendChild(e),e.appendChild(n),e.appendChild(o),window.wbCookieNotifier=e,t("wbCookieNotifier",1,730)}function t(e,t,n,o){var i=new Date;i.setDate(i.getDate()+n);var a=escape(t)+(null==n?"":"; expires="+i.toUTCString())+(null==o?"":"; domain="+o)+";path=/";document.cookie=e+"="+a}function n(e){var t,n,o,i=document.cookie.split(";");for(t=0;t<i.length;t++)if(n=i[t].substr(0,i[t].indexOf("=")),o=i[t].substr(i[t].indexOf("=")+1),n=n.replace(/^\s+|\s+$/g,""),n==e)return unescape(o)}var o=n("wbCookieNotifier");1!=o&&e(),window.closeWbCookieNotifier=function(){window.wbCookieNotifier.style.display="none"}}()},{}],10:[function(e,t,n){function o(e,t){return e.toLowerCase()===t.tagName.toLowerCase()}function i(e,t){return this.rootElement===window?t===document:this.rootElement===t}function a(e,t){return e===t.id}function r(e){this.listenerMap=[{},{}],e&&this.root(e),this.handle=r.prototype.handle.bind(this)}var s=function(e){if(e){var t=e.prototype;return t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector}}(Element);r.prototype.root=function(e){var t,n=this.listenerMap;if(this.rootElement){for(t in n[1])n[1].hasOwnProperty(t)&&this.rootElement.removeEventListener(t,this.handle,!0);for(t in n[0])n[0].hasOwnProperty(t)&&this.rootElement.removeEventListener(t,this.handle,!1)}if(!e||!e.addEventListener)return this.rootElement&&delete this.rootElement,this;this.rootElement=e;for(t in n[1])n[1].hasOwnProperty(t)&&this.rootElement.addEventListener(t,this.handle,!0);for(t in n[0])n[0].hasOwnProperty(t)&&this.rootElement.addEventListener(t,this.handle,!1);return this},r.prototype.captureForType=function(e){return-1!==["blur","error","focus","load","resize","scroll"].indexOf(e)},r.prototype.on=function(e,t,n,r){var c,l,d,u;if(!e)throw new TypeError("Invalid event type: "+e);if("function"==typeof t&&(r=n,n=t,t=null),void 0===r&&(r=this.captureForType(e)),"function"!=typeof n)throw new TypeError("Handler must be a type of Function");return c=this.rootElement,l=this.listenerMap[r?1:0],l[e]||(c&&c.addEventListener(e,this.handle,r),l[e]=[]),t?/^[a-z]+$/i.test(t)?(u=t,d=o):/^#[a-z0-9\-_]+$/i.test(t)?(u=t.slice(1),d=a):(u=t,d=s):(u=null,d=i.bind(this)),l[e].push({selector:t,handler:n,matcher:d,matcherParam:u}),this},r.prototype.off=function(e,t,n,o){var i,a,r,s,c;if("function"==typeof t&&(o=n,n=t,t=null),void 0===o)return this.off(e,t,n,!0),this.off(e,t,n,!1),this;if(r=this.listenerMap[o?1:0],!e){for(c in r)r.hasOwnProperty(c)&&this.off(c,t,n);return this}if(s=r[e],!s||!s.length)return this;for(i=s.length-1;i>=0;i--)a=s[i],t&&t!==a.selector||n&&n!==a.handler||s.splice(i,1);return s.length||(delete r[e],this.rootElement&&this.rootElement.removeEventListener(e,this.handle,o)),this},r.prototype.handle=function(e){var t,n,o,i,a,r,s,c=e.type,l=[],d="ftLabsDelegateIgnore";if(e[d]!==!0){switch(s=e.target,3===s.nodeType&&(s=s.parentNode),o=this.rootElement,i=e.eventPhase||(e.target!==e.currentTarget?3:2)){case 1:l=this.listenerMap[1][c];break;case 2:this.listenerMap[0]&&this.listenerMap[0][c]&&(l=l.concat(this.listenerMap[0][c])),this.listenerMap[1]&&this.listenerMap[1][c]&&(l=l.concat(this.listenerMap[1][c]));break;case 3:l=this.listenerMap[0][c]}for(n=l.length;s&&n;){for(t=0;n>t&&(a=l[t],a);t++)if(a.matcher.call(s,a.matcherParam,s)&&(r=this.fire(e,s,a)),r===!1)return e[d]=!0,void e.preventDefault();if(s===o)break;n=l.length,s=s.parentElement}}},r.prototype.fire=function(e,t,n){return n.handler.call(t,e,t)},r.prototype.destroy=function(){this.off(),this.root()},t.exports=r},{}],11:[function(e,t,n){function o(e,t){var n=e.className.split(/\s+/);n.indexOf(t)<=-1&&n.push(t),e.className=n.join(" ")}function i(e,t){var n=e.className.split(/\s+/);n.indexOf(t)>-1&&n.splice(n.indexOf(t),1),e.className=n.join(" ")}function a(e,t){var n=e.className.split(/\s+/);n.indexOf(t)>-1?n.splice(n.indexOf(t),1):n.push(t),e.className=n.join(" ")}var r=(e("./request.js"),Event.prototype),s=e("./jvcare.js"),c=e("./delegate.js");r.preventDefault||(r.preventDefault=function(){this.returnValue=!1}),r.stopPropagation||(r.stopPropagation=function(){this.cancelBubble=!0}),r.stop=function(){this.preventDefault(),this.stopPropagation()},window.scrollTop=function(){return document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop},window.height=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},window.width=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth};var l=document.createElement("div");l.style.visibility="hidden",l.style.width="100px",l.style.msOverflowStyle="scrollbar",document.body.appendChild(l);var d=l.offsetWidth;l.style.overflow="scroll";var u=document.createElement("div");u.style.width="100%",l.appendChild(u);var f=u.offsetWidth;l.parentNode.removeChild(l),window.widthScrollBar=d-f;var m=function(e,t){e?e instanceof Object&&!t?e instanceof NodeList||e instanceof Array?this.el=e:this.el=[e]:t instanceof m?t.length&&(this.el=t.get(0).querySelectorAll(e)):this.el=(t||document).querySelectorAll(e):this.el=[],this.length=this.el&&this.el.length||0};m.prototype={find:function(e){return new m(e,this.get(0))},each:function(e){if(this.el){var t,n=!0;for(t=0;t<this.el.length&&(n=e.call(this.el[t],t+1),n!==!1);t++);}return this},on:function(e,t,n){return this.each(function(){var o,i=e.split(/\s+/);for(this.delegate||(this.delegate=new c(this)),o=0;o<i.length;o++)this.delegate.on(i[o],t,n)})},off:function(e){return this.each(function(){var t,n=e.split(/\s+/);if(this.delegate)for(t=0;t<n.length;t++)this.delegate.off(n[t])})},remove:function(){return this.each(function(){this.parentElement.removeChild(this)})},hide:function(){return this.each(function(){this.style.display="none"})},show:function(){return this.each(function(){this.style.display="block"})},addClass:function(e){return this.each(function(){o(this,e)})},removeClass:function(e){return this.each(function(){i(this,e)})},toggleClass:function(e){return this.each(function(){a(this,e)})},hasClass:function(e){var t=!1,n=e.split(/\s+/);return this.each(function(){var e,o=this.className.split(/\s+/);for(e=0;e<n.length;e++)t=t||o.indexOf(n[e])>-1}),t},css:function(e){return this.each(function(){var t;for(t in e)e.hasOwnProperty(t)&&(this.style[t]=e[t])})},html:function(e){return void 0===e?this.get(0).innerHTML:this.each(function(){this.innerHTML=e,s.Transformation(this)})},append:function(e){return this.each(function(){this.insertAdjacentHTML("beforeEnd",e),s.Transformation(this)})},prepend:function(e){return this.each(function(){this.insertAdjacentHTML("afterBegin",e),s.Transformation(this)})},before:function(e){return this.each(function(){this.insertAdjacentHTML("beforeBegin",e),s.Transformation(this)})},after:function(e){return this.each(function(){this.insertAdjacentHTML("afterEnd",e),s.Transformation(this)})},get:function(e){return this.el[e]},offset:function(){var e={left:null,top:null};return this.each(function(){for(var t=this,n=0,o=0;void 0!==t.offsetParent&&null!==t.offsetParent;)n+=t.offsetLeft+(null!==t.clientLeft?t.clientLeft:0),o+=t.offsetTop+(null!==t.clientTop?t.clientTop:0),t=t.offsetParent;e={left:n,top:o}}),e},closest:function(e){var t,n,o=this.get(0);for(["matches","webkitMatchesSelector","msMatchesSelector"].some(function(e){return"function"==typeof document.body[e]?(t=e,!0):!1});null!==o;){if(n=o.parentElement,null!==n&&n[t](e))return new m(n,null);o=n}return new m(null,null)},visible:function(){return this.length&&this.el[0].offsetWidth>0&&this.el[0].offsetHeight>0},isEmpty:function(){return""===this.get(0).innerHTML.trim()},val:function(e){if(void 0!==e)this.each(function(){this.value=e});else{var t=this.get(0);if(t)return this.get(0).value}},data:function(e,t){if(e&&t)return this.each(function(){this.data||(this.data=[]),this.data[e]=t}),this;if(e){var n=this.get(0);return n&&(n.getAttribute("data-"+e)||n.data&&n.data.hasOwnProperty(e)&&n.data[e])}},trigger:function(e,t){var n=document.createEvent("Event");return n.data=t||{},n.initEvent(e,!0,!1),this.each(function(){this.dispatchEvent(n)})},text:function(){if(0===this.length)return null;var e="",t=this.get(0).nodeType;return 1===t||9===t||11===t?this.get(0).textContent:3===t||4===t?this.get(0).nodeValue:e},serialize:function(){var e,t,n,o=this.get(0),i={};if("object"==typeof o&&"form"===o.nodeName.toLowerCase()){var a=o.elements.length;for(t=0;a>t;t++)if(e=o.elements[t],e.name&&!e.disabled&&"file"!==e.type&&"reset"!==e.type&&"submit"!==e.type&&"button"!==e.type)if("select-multiple"===e.type)for(n=o.elements[t].options.length-1;n>=0;n--)e.options[n].selected&&(i[encodeURIComponent(e.name)]=e.options[n].value);else("checkbox"!==e.type&&"radio"!==e.type||e.checked)&&(i[encodeURIComponent(e.name)]=e.value)}return i}};var h=function(e,t){return new m(e,t)};h.addClass=o,h.removeClass=i,h.toggleClass=a,h.fn=function(e,t){m.prototype[e]=t},t.exports=h},{"./delegate.js":10,"./jvcare.js":16,"./request.js":25}],12:[function(e,t,n){var o=e("./load");t.exports=function(){o("http://w.estat.com/js/whap.js",function(){window.eStatWhap&&(window.eStatWhap.serial("800000207013"),window.eStatWhap.send())})}},{"./load":17}],13:[function(e,t,n){t.exports=function(){if(document.querySelector(".fb-page")){var e=document.createElement("div");e.className="fb-root",document.body.appendChild(e),function(e,t,n){var o,i=e.getElementsByTagName(t)[0];e.getElementById(n)||(o=e.createElement(t),o.id=n,o.src="//connect.facebook.net/fr_FR/all.js#xfbml=1&appId=202446416762",i.parentNode.insertBefore(o,i))}(document,"script","facebook-jssdk")}}},{}],14:[function(e,t,n){var o=e("./request.js"),i=document.getElementById("jv-footer");t.exports=function(){i.children.length||o({url:"/cache/footer.php",dataType:"html",success:function(e){i.appendChild(e)}})}},{"./request.js":25}],15:[function(e,t,n){t.exports=function(){!function(e,t,n,o,i){e[o]=e[o]||[],e[o].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],r=t.createElement(n),s="dataLayer"!=o?"&l="+o:"";r.async=!0,r.src="//www.googletagmanager.com/gtm.js?id="+i+s,a.parentNode.insertBefore(r,a)}(window,document,"script","dataLayer","GTM-T9WX8T")}},{}],16:[function(e,t,n){var o=!1;t.exports={callbackStoreScript:null,Transformation:function(e){try{for(var t,n,i,a,r,s,c,l,d,u,f,m,h,p=(e||document).querySelectorAll(".JvCare"),v=p.length,g="0A12B34C56D78E9F",_=["charset","name","rel","rev","target","accesskey","id","style","tabindex","title"],b=["blur","click","dblclick","focus","mousedown","mousemove","mouseover","mouseup","keydown","keyppress","keyup"],y="",w=null,j=0,k=v;k--;)if(n=p[k],l=n.className,c=l.indexOf(" "),j=l.indexOf(" ",c+1),-1===j&&(j=l.length),/[0A12B34C56D78E9F]+/.test(l.substr(c+1,j-c-1))){if(y="",c>0)for(t=l.substr(c+1,j-c-1),s=0;s<t.length;s+=2)a=g.indexOf(t.charAt(s)),r=g.indexOf(t.charAt(s+1)),y+=String.fromCharCode(16*a+r);for(i="xXx "+l.substr(j+1,l.length-j-1),w=document.createElement("a"),w.href=y,s=_.length;s--;)try{c=_[s],j=n.getAttribute(c),j&&(void 0!==w.style.cssText&&"style"===c?w.style.cssText=j:w[c]=j)}catch(x){}for(d=0,u=n.attributes,f=u.length;f>d;d++)if("data-"===u[d].nodeName.substring(0,5))try{w.setAttribute(u[d].nodeName,u[d].nodeValue)}catch(x){}for(s=b.length;s--;)try{c=b[s],j=n["on"+c],j&&(w.addEventListener?w.addEventListener(c,j,!1):w.attachEvent&&w.attachEvent("on"+c,j))}catch(x){}for(w.className=i,h=document.createDocumentFragment(),h.appendChild(w),d=0,m=n.childNodes.length;m>d;d++)w.appendChild(n.childNodes[d].cloneNode(!0));n.parentNode.replaceChild(w,n)}}catch(x){}!o&&this.callbackStoreScript&&(o=!0,this.callbackStoreScript.call())}}},{}],17:[function(e,t,n){function o(e,t){var n;return t.length>e.length&&(n=t,t=e,e=n),e.filter(function(e){return-1!==t.indexOf(e)?!0:void 0})}function i(e){function t(){l=!0;var e,t;for(e=0,t=r.length;t>e;e+=1)r[e]()}function n(){d=!0;var e,t;for(e=0,t=c.length;t>e;e+=1)c[e]()}var o,i,a,r=[],c=[],l=!1,d=!1;this.count?this.count+=1:this.count=1,i=this.count,a="load-css-"+i,o={done:function(e){return r.push(e),l&&e(),o},fail:function(e){return c.push(e),d&&e(),o}};var u=s.createElement("link");return u.setAttribute("id",a),u.setAttribute("rel","stylesheet"),u.setAttribute("type","text/css"),u.setAttribute("async",!0),"undefined"!==u.addEventListener?(u.addEventListener("load",t,!1),u.addEventListener("error",n,!1)):"undefined"!==u.attachEvent&&u.attachEvent("onload",function(){var e,o=s.styleSheets.length;try{for(o-=1;o;){if(e=s.styleSheets[o],e.id===a)return void t();o-=1}}catch(i){}l||n()}),u.setAttribute("href",e),s.querySelector("head").appendChild(u),o}function a(e,t){var n=s.createElement("script");n.type="text/javascript",n.src=e,n.async=!1,t&&(n.onerror=n.onload=n.onreadystatechange=function(){t(e)}),s.querySelector("head").appendChild(n)}var r=e("./dom.js"),s=document;Array.prototype.unset=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)};var c=s.location.protocol+"//"+s.domain,l=[],d=[],u={};t.exports=function(e,t){var n=function(e){var t;l.push(e),d.unset(e);for(t in u)u.hasOwnProperty(t)&&u[t]&&o(l,u[t].files).length===u[t].files.length&&("function"==typeof u[t].callback&&u[t].callback(),delete u[t])};this.count?this.count+=1:this.count=1,r("script").each(function(e){var t=this.getAttribute("src");t&&"/"===t.charAt(0)&&"/"!==t.charAt(1)&&(t.substr(0,c.length)!==c&&(t=c+t),-1===l.indexOf(t)&&l.push(t))});var f=Array.isArray(e)&&e||e&&e.split(",")||[];f.length?(f.forEach(function(e,t){/(\.|\/)(js|css)$/i.test(e)||(e="/js/"+e+".js"),"//"===e.substr(0,2)?e=s.location.protocol+e:e.substr(0,c.length)!==c&&"http"!==e.substr(0,4)&&(e=c+e),-1===l.indexOf(e)&&-1===d.indexOf(e)&&(/(\.|\/)js$/i.test(e)?a(e,n):/(\.|\/)css$/i.test(e)&&i(e).done(function(){n(e)}).fail(function(){n(e)}),d.push(e)),f[t]=e}),o(l,f).length===f.length?t():u["load-"+this.count]={files:f,callback:t}):t()}},{"./dom.js":11}],18:[function(e,t,n){var o=function(){this.afterElement=window.getComputedStyle?window.getComputedStyle(document.body,":after"):!1,this.currentBreakpoint="",this.lastBreakpoint="",this.init()};o.prototype={init:function(){var e=this;e.afterElement&&e._resizeListener()},refresh:function(){var e=this;if(e.currentBreakpoint=e.afterElement.getPropertyValue("content").replace(/"/g,""),
e.currentBreakpoint!==e.lastBreakpoint){var t=document.createEvent("Event");t.breakpoint=e.currentBreakpoint,t.initEvent("breakpoint-change",!0,!1),window.dispatchEvent(t),e.lastBreakpoint=e.currentBreakpoint}},_resizeListener:function(){var e=this;["resize","orientationchange","load"].forEach(function(t){window.addEventListener(t,function(){e.refresh()})})}},window.mediaqueryListener=window.mediaqueryListener||new o},{}],19:[function(e,t,n){t.exports=function(e,t){var n,o={};for(n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);return o}},{}],20:[function(e,t,n){!function(e){void 0===window.modal&&(window.modal=e(),modal({}))}(function(){function t(e,t,n,o){var i,a,r,s=u(e),c=n+"px",l=v.width()-o,d=v.height()-o;i=t.naturalWidth,a=t.naturalHeight,r=Math.ceil(a*l/i),i>a&&i>=l&&d>=r?(i=l,u(t).css({width:i+"px",height:r+"px"}),a="auto"):a>=d&&(i=Math.ceil(i*d/a),a=d,u(t).css({height:a+"px"})),n>i&&n>a?s.css({width:c,height:c,"line-height":c,"text-align":"center"}):n>i?s.css({width:c,"text-align":"center",height:a+"px"}):n>a?s.css({height:c,"line-height":c,width:i+"px"}):s.css({width:i+"px",height:a+"px"})}function n(e){var t;e!==P&&(t=e?"addClass":"removeClass",N[t](F.cssModalGenericScroll),u("html")[t](F.cssModalGenericMode),P=e,u("html.ie7").length&&u("body").attr("scroll",e?"no":"yes"))}function o(e){"function"==typeof e?e.call():window[e]&&window[e].call()}function i(){(v.height()!==I||v.width()!==q)&&d.centrer(),I=v.height(),q=v.width()}function a(){var e=N;e&&e.visible()&&(n(!1),e.removeClass("active").off(g,y).off(g).off(g," > div"),O&&F.transition?setTimeout(function(){e.hide()},300):e.hide())}function r(e){var t=N.find("img"),n=t.length;e()}function s(e){(!e&&this.priv_wait||this.priv_wait)&&this.priv_wait.remove(),e&&(this.priv_wait=jQuery(F.htmlWait).appendTo("body").hide().delay(750).fadeIn(100))}function c(e){m({url:e.url,method:e.method,dataType:"html",data:e.data,success:function(t){if(!t.firstChild)return void W("erreur",{message:F.lang.transaction404});u("#"+t.firstChild.id).remove(),R&&(H[R]="#"+t.firstChild.id,R=null),N=u(t.firstChild);var n=N.data("fermer");n&&!D&&(D=n),document.body.appendChild(t),p(N),d.ouvrir(),e.success&&e.success()}})}function l(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}var d,u=e("./dom.js"),f=e("./load.js"),m=e("./request.js"),h=e("../lib/dataset.js"),p=e("./captcha.js").render,v=window,g="click",_="submit",b="resize orientationChanged",y=".close, [data-modal=fermer]",w=/(\.|\/)(gif|jpe?g|jpe|png)$/i,j=/_MESSAGE_/,k=/_TYPE_/,x=/_TITRE_/,C=/_ID_/,T=/_CONTENU_/,A=/_BOUTTON_/,E=function(e){return void 0!==e&&u(e)||u()},S=function(e){return e.selector||e.origine&&(e.origine.getAttribute("href")||e.origine.getAttribute("value"))||e},L=document.documentElement.style,O=L.hasOwnProperty("transition")||L.hasOwnProperty("WebkitTransition")||L.hasOwnProperty("MozTransition")||L.hasOwnProperty("msTransition")||L.hasOwnProperty("OTransition"),N=null,M=null,q=window.width(),I=window.height(),P=null,H=[],R=null,D=null,B=null,F={scan:!0,htmlWait:'<div class="modal-generic-main modal-generic_wait"><div class="modal-generic_content">Veuillez patienter ...</div></div>',htmlDefaut:'<div class="modal-generic" id="_ID_"><div class="modal-generic-main" style="width:800px;"><a class="modal-generic-close" data-modal="fermer" href="#"><span class="icon-close-popin-jv"></span></a><div class="modal-generic-header">_TITRE_</div><div class="modal-generic-content"><div>_CONTENU_</div></div></div></div>',htmlMsg:'<div class="_TYPE_"><p class="info">_MESSAGE_</p></div></div>',htmlConfirm:'_MESSAGE_</div><div class="modal-generic-footer"><a class="btn btn-valider-modal" href="_HREF_">_BOUTTON_</a> <button class="btn btn-annuler-modal" data-modal="fermer">Annuler</button></div>',htmlImage:'<div class="modal-generic" id="_ID_"><div class="modal-generic-main" data-modal="fermer"><a class="modal-generic-img-close" data-modal="fermer" href="#"><span class="icon-close"></span></a> _CONTENU_</div></div>',cssModalGenericMode:"modal-generic-mode",cssModalGenericScroll:"modal-generic-scroll",cssModalGenericShow:"modal-generic-show",selecteurModalGeneric:".modal-generic",selecteurModalContent:".modal-generic-content",selecteurModalHeader:".modal-generic-header",selecteurClassLien:"a.modal",selecteurClassForm:"form.modal button.modal",classOverflow:"modal-generic modal-generic-overflow",classErreur:"erreur",classSucces:"success",margin:50,min:0,transition:!0,lang:{transaction404:"La transaction avec le serveur web a échouée !",notfound:"La page est introuvable !",img404:"L'image est introuvable !",err_titre:"Erreur",info_titre:"Information",confirm_msg:"&nbsp;L'action que vous allez réaliser deviendra permanente. <br>&nbsp;Etes vous sur ?<br>",confirm_titre:"Confirmation",confirm_btn:"Valider"}},W=function(e,t){var n,o=this;if("object"==typeof e){d.disable();for(n in e)e.hasOwnProperty(n)&&(F[n]=e[n]);return void d.enable()}return void 0===t&&(t={}),e&&d.hasOwnProperty(e)&&d[e].call(o,t)||null};return u("head").append("<style>.modal-generic-mode body, .modal-generic-mode .header-sticky.header-affix{padding-right: "+window.widthScrollBar+"px}</style>"),d={centrer:function(){var e,t,o;N&&(t=N.find(":scope > div").get(0),o=t.clientHeight,e=(v.height()-o)/2,u(t).css({marginTop:(e>0&&e||0)+"px"}),n(!0))},nouveau:function(e){u("#"+e.id).remove();var t=F[e.html||"htmlDefaut"].replace(C,e.id);return t=t.replace(x,e.titre||""),t=t.replace(T,e.contenu||""),u(document.body).append(t).find("#"+e.id).hide()},afficher:function(e){var t=S(e),n=E(H[t]),o=1===n.length,i=void 0!==e.cache?e.cache:!0;D=e.fermer||null,B=e.ouvrir||null,i&&o||!t.length||"#"===t.charAt(0)?o||"object"!=typeof e?(o&&n||u(t))!==N&&(a(),N=o&&n||u(t),N.length?d.ouvrir():d.erreur({message:F.lang.notfound})):(a(),t.length&&"#"===t.charAt(0)?N=u(t):(l(e,{id:e.id||"boxes"}),N=d.nouveau(e)),f(e.dependance,function(){d.ouvrir(),"function"==typeof e.callback&&e.callback.call(null)})):w.test(t.split("?")[0])?d.image({url:t}):f(e.dependance,function(){R=t,c({url:t,method:"GET",success:e.callback})})},popup:function(e){d.afficher(e)},formulaire:function(e){var t=u(e.origine);e.origine&&(a(),f(e.dependance,function(){var n=t.get(0);c({url:n.getAttribute("action"),method:n.getAttribute("method")&&n.getAttribute("method").toUpperCase()||"POST",data:t.serialize(),success:e.callback})}))},ouvrir:function(){N&&N.length&&r(function(){s(!1),d.debordement(!0),N.find(y).on(g,function(){return d.fermer(),!1}),N.on(g,function(){d.fermer()}).show(),setTimeout(function(){N.addClass("active")},25),"image_modal"!==N.get(0).getAttribute("id")&&u(":scope > div",N.get(0)).on("mousedown click mouseup",function(e){e.stopPropagation()}),d.centrer(),window.addEventListener(b,i),o(F.ouvrir),o(B)})},fermer:function(){N&&N.length&&(a(),d.debordement(!1),window.removeEventListener(b,i),N=null,o(D),D=null,o(F.fermer))},obtenir:function(){return N||u()},fixer:function(e){N=u(e)},debordement:function(e){M||(M=u(document.createElement("div")).addClass(F.classOverflow),u("body").get(0).appendChild(M.get(0))),M[e?"show":"hide"]()[e?"addClass":"removeClass"]("active")},image:function(e){var n=d.nouveau({id:"image_modal",html:"htmlImage",contenu:'<img src="'+(e.url||S(e))+'" />'});n.find("img").on("load",function(){a(),N=n,t(n.get(0).firstChild,this,F.min,F.margin),d.ouvrir()}).on("error",function(){d.erreur({message:F.lang.img404})})},alert:function(e){l(e,{id:"alert_modal"}),d.afficher(e)},erreur:function(e){var t=F.htmlMsg.replace(k,F.classErreur);if(Array.isArray(e.message)){var n,o="";if(1===e.message.length)e.message=e.message[0];else{for(n=0;n<e.message.length;n++)o+="<li>"+e.message[n]+"</li>";e.message="<ul>"+o+"</ul>"}}l(e,{titre:e.titre||F.lang.err_titre,contenu:t.replace(j,e.message)}),d.alert(e)},succes:function(e){var t=F.htmlMsg.replace(k,F.classSucces);l(e,{titre:e.titre||F.lang.info_titre,contenu:t.replace(j,e.message)}),d.alert(e)},confirm:function(e){var t=F.htmlConfirm.replace(j,e.message||F.lang.confirm_msg);t=t.replace(A,e.boutton||F.lang.confirm_btn),d.alert({titre:e.titre||F.lang.confirm_titre,contenu:t.replace(/_HREF_/,e.url||e.origine&&e.origine.getAttribute.attr("href")||"#")}),e.onClickSelecteur&&e.onClickCallback&&N.find(e.onClickSelecteur).on(g,e.onClickCallback)},enable:function(){u("body").on(g,"[data-modal]:not(form)",function(e){var t={origine:this};return l(t,h(this)),W.call(null,this.getAttribute("data-modal"),t),e.stopPropagation(),!1}).on(_,"form[data-modal]",function(e){var t={origine:this};return l(t,h(this)),W.call(null,this.getAttribute("data-modal"),t),e.stopPropagation(),!1}).on(g,F.selecteurClassLien,function(){return d.afficher({origine:this}),!1}).on(_,F.selecteurClassForm,function(){return d.formulaire({origine:this}),!1}).on(g,"a.confirm",function(){return d.confirm({url:this.getAttribute("href")}),!1})},disable:function(){u("body").off(g,"[data-modal]:not(form), a.confirm, "+F.selecteurClassLien).off(_,"form[data-modal]").off(_,F.selecteurClassForm)}},W})},{"../lib/dataset.js":41,"./captcha.js":8,"./dom.js":11,"./load.js":17,"./request.js":25}],21:[function(e,t,n){function o(){window.scrollTop()>=w?x||(b.addClass("header-affix"),x=!0):x&&(b.removeClass("header-affix"),x=!1)}function i(){g(".nav-toggler, .nav-secondary-choice").removeClass("nav-toggler-on"),g(".top-nav-link").removeClass("on")}function a(){g(".nav-open").hasClass("on")&&(g(".nav-open, #main-nav, header, .top-nav-link").removeClass("on"),g("html").removeClass("modal-generic-mode"),g(".header-top, .header-bottom, .right-nav").css({right:0}))}function r(e){g(".nav-dropdown").on("click",function(t){if(g(t.target).hasClass("nav-toggler")){var n=g(this).find(".nav-toggler"),o=n.hasClass("nav-toggler-on");e&&i(),n[o?"removeClass":"addClass"]("nav-toggler-on")}y.render(),t.stopPropagation()})}function s(){g("body > *").on("click",function(){g("header").hasClass("on")||i()})}function c(){g(".nav-dropdown").on("mouseenter",function(e){return j||k?!1:(g(this).find(".nav-toggler").addClass("nav-toggler-on"),void y.render())}).on("mouseleave",function(e){return j||k?(j=!1,k||i(),!1):void g(this).find(".nav-toggler").removeClass("nav-toggler-on")}).on("touchstart",function(){j=!0,y.render()}).on("pointerover",function(e){"touch"===event.pointerType&&(k=!0,y.render())})}function l(e){g(".nav-open, .main-nav").on("click",function(t){g(t.target).hasClass("nav-open nav-open-text nav-open-hamburger main-nav ")&&(g(".nav-open, #main-nav, header").toggleClass("on"),g("html").toggleClass("modal-generic-mode"),e&&i(),g(".header-top, .header-bottom, .right-nav").css({right:g("header").hasClass("on")?window.widthScrollBar+"px":0}),t.stop())})}function d(){g(".nav-secondary-choice").on("click",function(e){g(this).toggleClass("nav-toggler-on"),g(".top-nav-link").toggleClass("on"),e.stop()})}function u(){g(".nav-dropdown").off("mouseenter mouseleave click"),g("body > *, .nav-open, .main-nav, .nav-secondary-choice").off("click")}function f(e){var t=g(e);t.length&&!g(e+" > .item > .nav-link-extra").length&&g(".nav-link-extra").each(function(){t.get(0).appendChild(this.parentNode.cloneNode(!0)),this.parentNode.parentNode.removeChild(this.parentNode)})}function m(){var e=g("#modal-account .modal-notif");0!==e.length&&e.css({"max-height":window.height()-e.offset().top+"px"})}function h(){var e=g("#modal-account-users .modal-alias");0!==e.length&&e.css({"max-height":window.height()-e.offset().top+"px"})}function p(e){var t=g(this).hasClass("modal-account");(!t||t&&g(e.target).hasClass("modal-account"))&&(a(),i(),g(".nav-open, #main-nav, header, .top-nav-link").removeClass("on"),E.hasClass("on")?(E.each(function(){this.removeEventListener("click",p)}).removeClass("transition"),setTimeout(function(){E.removeClass("on")},250),S.removeClass("modal-generic-mode")):(T.addClass("on"),T.get(0).offsetHeight&&T.addClass("transition").each(function(){this.addEventListener("click",p)}),S.addClass("modal-generic-mode"),m(),C.listMustBeLoaded&&(C.updateNotificationList(function(){C.bindReadOnClick(g(".modal-notif"))}),C.listMustBeLoaded=!1)),e.stop())}function v(e){return A.hasClass("on")?(A.each(function(){this.removeEventListener("click",p)}).removeClass("transition"),setTimeout(function(){A.removeClass("on")},250)):A.toggleClass("on").get(0).offsetHeight&&(h(),A.addClass("transition").each(function(){this.addEventListener("click",p)})),e.stop(),!1}var g=e("./dom.js"),_=e("./request.js"),b=g(".header-sticky, .header-top .logo"),y=e("./srcset.js"),w=68,j=!1,k=!1,x=!1,C=e("./notification.js");window.addEventListener("breakpoint-change",function(e){u(),m(),"screen-lg-min"===e.breakpoint?(a(),i(),r(!0),s(),c(),f(".extra-desktop")):"screen-md-min"===e.breakpoint||"screen-sm-min"===e.breakpoint?(i(),s(),l(!0),r(!1),d(),f(".sponso-tablette")):(l(!1),r(!1),d(),f(".sponso-phone"))}),window.mediaqueryListener.refresh(),document.addEventListener("scroll",o),o();var T=g("#modal-account"),A=g("#modal-account-users"),E=g("#modal-account, #modal-account-users"),S=g("html");g("#btn-modal-account, #modal-account .modal-account-close, #modal-account-users .modal-account-close, #modal-account-users").on("click",p),g(".modal-account-users").on("click",v),g("#modal-account-users .nav-link-account").on("click",function(){if(!g(this).hasClass("active")){var e=this.getAttribute("data-id"),t=this.getAttribute("data-hash");e&&t&&_({url:"/sso/ajax_use_pseudo.php",data:{id:e,hash:t},success:function(){document.location=""}})}}),g(".modal-notif-reset").on("click",function(e){e.preventDefault();var t=g(this),n=setTimeout(function(){t.addClass("loaded")},400);C.clearAllNotifications(function(){C.updateNotificationList(function(){clearTimeout(n),C.bindReadOnClick(g(".modal-notif")),t.removeClass("loaded")})})}),C.initUpdate()},{"./dom.js":11,"./notification.js":22,"./request.js":25,"./srcset.js":31}],22:[function(e,t,n){var o=e("./dom.js"),i=e("./request.js"),a={UPDATE_DELAY_MS:18e4,listMustBeLoaded:!0,initUpdate:function(){o(".account-number-notif[data-url]").length>0&&setInterval(function(){i({url:o(".account-number-notif[data-url]").data("url"),dataType:"json",success:function(e){if(0===e.erreur.length){var t=a._updateNotificationCount("abo",e.nb_notif_abo),n=a._updateNotificationCount("mp",e.nb_notif_mp);(t||n)&&(a.listMustBeLoaded=!0)}}})},a.UPDATE_DELAY_MS)},bindReadOnClick:function(e){var t=function(e){a.markNotificationAsRead(o(e.currentTarget).closest(".notif-item").get(0))};o('[data-action="mark-as-read"]',e).off("click",a.markNotificationAsRead).on("click",a.markNotificationAsRead),o(".notif-item.unread-notif a",e).off("mousedown",t).on("mousedown",t)},_showError:function(){o("#modal-account .notif-list").get(0).innerHTML='<div class="alert alert-danger modal-notif-item" >Impossible de charger les notifications</div>'},_updateNotificationCount:function(e,t){var n=[];n="abo"===e?["#btn-modal-account .account-number-notif",".nav-link-account.active .account-number-notif",".modal-account-header .icon-notif-on"]:["#btn-modal-account .account-number-mp",".nav-link-account.active .account-number-mp",".modal-account-header .icon-pm"];var i=o(n.join(",")),a=parseInt(i.data("count"),10);return"string"==typeof t&&("increment"===t?t=a+1:"decrement"===t&&(t=a-1)),t!==a?(i.each(function(){this.setAttribute("data-val",t>99?"99+":t),this.setAttribute("data-count",t)}),0===t?i.removeClass("has-notif"):i.addClass("has-notif"),!0):!1},markNotificationAsRead:function(e,t){e instanceof HTMLElement||(e=o(this).closest(".notif-item").get(0)),"function"!=typeof t&&(t=function(){});var n=o(e);if(!n.hasClass("unread-notif"))return setTimeout(t,0);n.removeClass("unread-notif");var r,s,c=n.hasClass("modal-notif-mp")?"mp":"abo";"mp"===c?(r=o(".notif-list").data("url-mark-mp-as-read"),s={conversation_id:n.data("id")}):(r=o(".notif-list").data("url-mark-abo-as-read"),s={id_notification:n.data("id")}),i({url:r,data:s,dataType:"json",success:function(e){0===e.erreur.length?(a._updateNotificationCount(c,"decrement"),setTimeout(function(){n.remove()},500),t()):modal("erreur",{message:"Impossible de marquer les notifications comme lues."})}.bind(this)})},updateNotificationList:function(e){e=e||function(){};var t,n=o("#modal-account .notif-list");t=setTimeout(function(){n.get(0).innerHTML='<div class="wait" ></div>'},750),i({url:n.data("url"),dataType:"json",success:function(o){clearTimeout(t);var i;o.erreur&&0===o.erreur.length&&void 0!==o.html?i=o.html:a._showNotificationError(),n.get(0).innerHTML=i,a._updateNotificationCount("abo",o.nb_notif_abo),a._updateNotificationCount("mp",o.nb_notif_mp),e()},error:function(){a._showNotificationError()}})},clearAllNotifications:function(e){e=e||function(){},i({url:o(".modal-notif-reset").data("url"),dataType:"json",success:function(t){0===t.erreur.length?e():a._showNotificationError()},error:function(){a._showNotificationError()}})}};t.exports=a},{"./dom.js":11,"./request.js":25}],23:[function(e,t,n){t.exports=function(e){"__DEV__"==='1.27.2'&&e()}},{}],24:[function(e,t,n){function o(e,t){var n='<div class="bloc-pres1"> <div class="heading-pres1">';for(n+='<span class="titre-pres1">'+e.toUpperCase()+"</span></div>",n+='<div class="content-slice-pres1"><ul class="list-slice-pres1">',i=0;i<t.total_count&&4>i;i+=1)n+='<li><div class="slice-pres1 img-w"><a href="'+t.doc[i].url+'" class="mask-thumb"><img class="thumb" src="'+t.doc[i].thumbnail.url+'" /></a><div class="info-slice-pres1"><a href="'+t.doc[i].url+'" class="lien-jv titre-slice-pres1"><span class="type">'+t.doc[i].source_name+"</span> "+t.doc[i].content+"</a></div></div></li>";return n+"</ul></div></div>"}var i,a=e("./dom"),r=e("./load"),s=a(".outbrain");t.exports=function(){document.querySelector(".OUTBRAIN, .outbrain")&&r("//widgets.outbrain.com/outbrain.js",function(){s.each(function(){var e=a(this),t=e.data("widget"),n=e.data("titre"),i={permalink:document.location.href.replace(/([a-z]+)\.jeuxvideo\.com/g,"www.jeuxvideo.com"),widgetId:t};void 0!==window.OBR&&window.OBR.extern.callRecs(i,function(t){t.total_count&&e.html(o(n,t))})})})}},{"./dom":11,"./load":17}],25:[function(e,t,n){var o=e("./jvcare.js"),i=e("./uuid.js"),a=e("./onDev.js"),r=function(e,t){var n,r,s,c,l,d;if("string"==typeof e)e={url:e};else if("object"!=typeof e)return;if("function"==typeof t&&(e.success=t),"function"!=typeof e.error&&(e.error=function(){}),r="string"==typeof e.method?e.method.toUpperCase():"GET",s=e.url||"",e.dataType&&(c=e.dataType),l=e.data||{},void 0!==e.cache&&e.cache===!1&&(l[i()]="nocache"),e.contentType?d=e.contentType:"POST"===r&&(d="application/x-www-form-urlencoded"),"object"==typeof l){var u,f,m=[];for(u in l)if(l.hasOwnProperty(u))if("object"==typeof l[u])if(l[u]instanceof Array)for(f=0;f<l[u].length;f++)m.push(encodeURIComponent(u+"[]")+"="+encodeURIComponent(l[u][f]));else for(f in l[u])l[u].hasOwnProperty(f)&&m.push(encodeURIComponent(u+"["+f+"]")+"="+encodeURIComponent(l[u][f]));else m.push(encodeURIComponent(u)+"="+encodeURIComponent(l[u]));l=m.join("&")}if("GET"===r&&"string"==typeof l&&l.length>0&&(s+=-1===s.indexOf("?")?"?"+l:"&"+l),!window.XMLHttpRequest&&!window.ActiveXObject)return null;if(window.ActiveXObject)try{n=new ActiveXObject("Msxml2.XMLHTTP")}catch(h){n=new ActiveXObject("Microsoft.XMLHTTP")}else n=new XMLHttpRequest;n.open(r,s,!0),d&&n.setRequestHeader("Content-Type",d),n.onreadystatechange=function(){switch(n.readyState){case 0:break;case 1:break;case 2:break;case 3:break;case 4:if(e.onComplete&&e.onComplete(n),200===n.status){if("function"==typeof e.success)if("json"===c)try{e.success(JSON.parse(n.responseText))}catch(t){a(function(){throw t}),e.error(t)}else if("xml"===c){var i,r;window.DOMParser?(r=new DOMParser,i=r.parseFromString(n.responseText,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async=!1,i.loadXML(n.responseText)),e.success(i)}else if("html"===c){var s=document.createDocumentFragment();if(n.responseText){var l=document.createElement("div");for(l.innerHTML=n.responseText.trim();l.childNodes.length>0;)s.appendChild(l.childNodes[0]);o.Transformation(s)}e.success(s)}else e.success(n.responseText)}else e.error(n);break;default:e.error(n)}},n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(l)};r.getSessionHash=function(e){var t,n=document.getElementById("ajax_hash_"+e);return n&&(t=n.value),t},t.exports=r},{"./jvcare.js":16,"./onDev.js":23,"./uuid.js":32}],26:[function(e,t,n){var o,i=window.requestAnimationFrame,a=window.cancelAnimationFrame,r=0,s=["ms","moz","webkit","o"];for(o=0;o<s.length&&!i;++o)i=window[s[o]+"RequestAnimationFrame"],a=window[s[o]+"CancelAnimationFrame"]||window[s[o]+"CancelRequestAnimationFrame"];(!i||navigator.userAgent.match(/iPad|iPhone|iPod|ios/i))&&(i=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-r)),o=window.setTimeout(function(){e(t+n)},n);return r=t+n,o}),a||(a=function(e){clearTimeout(e)}),t.exports=i},{}],27:[function(e,t,n){t.exports=function(t,n){var o=e("./dom.js");o(n||".scrollable",t).each(function(){function e(){var e=u.offsetHeight/f.scrollHeight;return e*u.offsetHeight}function t(e){var t=e.target.scrollTop/f.scrollHeight;c=t*(u.offsetHeight-5),s.style.top=c+"px"}function n(e){d=e.pageY,m=f.scrollTop,h=!0}function i(e){h=!1}function a(e){if(h===!0){var t=e.pageY-d,n=t*(f.scrollHeight/u.offsetHeight);f.scrollTop=m+n}}function r(){s=document.createElement("div"),s.className="scroller",l=e(),l/u.offsetHeight<1&&(s.style.height=l+"px",u.appendChild(s),u.className+=" showScroll",o(f).css({"margin-right":"-"+window.widthScrollBar+"px","padding-right":s.clientWidth+"px"}),s.addEventListener("mousedown",n),window.addEventListener("mouseup",i),window.addEventListener("mousemove",a))}var s,c,l,d,u=this,f=u.querySelector(".scrollable-wrapper"),m=0,h=!1;r(),f.addEventListener("scroll",t)})}},{"./dom.js":11}],28:[function(e,t,n){var o=e("./requestAnimationFrame.js"),i=window.performance,a=function(e,t,n,a,r,s){var c,l=a-n;c=i&&i.now?i.now():Date.now?Date.now():(new Date).getTime();var d=function(i){var u=i?i-c:0,f=-0.5*(Math.cos(Math.PI*u/r)-1);t[e]=n+l*f,r>u&&t[e]!==a?o(d):(t[e]=a,"function"==typeof s&&s())};d()};t.exports={top:function(e,t,n,o,i){a("scrollTop",e,t,n,o,i)},left:function(e,t,n,o,i){a("scrollLeft",e,t,n,o,i)}}},{"./requestAnimationFrame.js":26}],29:[function(e,t,n){var o=e("./dom"),i=e("./request");o.fn("recherche",function(e){var t,n={mastertag:9,session_name:"recherche",type_autocomplete:2,aff_machine:!1,aff_mastertag:!0,autoFocus:!0,minLength:1,source:function(e,t){i({url:"/recherche.php",data:{q:e,a:this.type_autocomplete,m:this.mastertag},dataType:"json",success:function(e){var n=[];e.erreur?modal("erreur",{message:e.erreur}):e.result&&(e.result.map(function(e,t){n.push({id:e.id,label:e.texte,machine:e.machine||0,mastertag:parseInt(e.mastertag||"0",10),mastertag_nom:e.mastertag_nom,url:e.url||null})}),t(n))}})},renderItem:function(e,t){var n="",o="";return this.aff_machine&&e.machine.map(function(e){n+=' <span class="label label-default label-'+e.toLowerCase()+'"> '+e+"</span>"}),this.aff_mastertag&&(o='<span class="text-muted">'+e.mastertag_nom+" - </span> "),'<li  data-id="'+e.id+'" >'+o+e.label+n+"</li>"}};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return this.autocomplete(n)}),o("#search").recherche({wrapper:document.querySelector(".global-search"),select:function(e,t,n){n.val(t.label.replace(/(<([^>]+)>)/gi,"")),t.url?(e.preventDefault(),document.location.href=t.url):n.get(0).parentNode.submit()}})},{"./dom":11,"./request":25}],30:[function(e,t,n){t.exports=function(){var t=e("./dom.js"),n=e("./srcset.js"),o=e("./scrollto.js");t(".slider-roller-btn-left, .slider-roller-btn-right").on("click",function(){var e,n,i,a,r,s,c;for(e=t(this.parentNode).find(".slider-roller-wrapper").get(0),n=t(this.parentNode).find(".item").get(1),a=getComputedStyle(n),r=n.clientWidth+parseInt(a.marginRight,10)+parseInt(a.marginLeft,10),s=parseInt(this.getAttribute("data-move"),10)||1,c=Math.abs(s);c>1&&Math.abs(n.clientWidth*s)>e.clientWidth;)c--,s>0?s--:s++;i=r*s,(0>i&&e.scrollLeft>0||i>0&&e.scrollLeft+i<e.scrollWidth)&&(0>s&&e.scrollLeft%r&&s++,o.left(e,e.scrollLeft,r*(parseInt(e.scrollLeft/r,10)+s),250))}),t(".slider-roller-wrapper").each(function(){n(this).init()})}},{"./dom.js":11,"./scrollto.js":28,"./srcset.js":31}],31:[function(e,t,n){function o(t){var n,o,a,r,s,c=e("./dom.js"),l=e("./video.js"),d={},u=function(e,t){"load"===t?c(e).addClass("loaded"):c(e).removeClass("loaded")},f=function(){u(this,"unload")},m=function(){u(this,"unload"),this.src=i},h={xs:100,sm:300,md:620,lg:960},p={xs:30,sm:60,md:140},v=function(e){return null===e.offsetParent},g=function(e,t){if(v(e))return!1;var n=e.getBoundingClientRect();return n.right>=t.l&&n.bottom>=t.t&&n.left<=t.r&&n.top<=t.b},_=function(){(r||!o)&&(clearTimeout(o),o=setTimeout(function(){d.render(),o=null},a))};return d.init=function(e){e=e||{};var o=e.offset||0,i=e.offsetVertical||o,c=e.offsetHorizontal||o,l=function(e,t){return parseInt(e||t,10)};n={t:l(e.offsetTop,i),b:l(e.offsetBottom,i),l:l(e.offsetLeft,c),r:l(e.offsetRight,c)},a=l(e.throttle,250),r=e.debounce!==!1,s=!!e.unload,u=e.callback||u,d.render(),document.addEventListener?(t.addEventListener("scroll",_,!1),t.addEventListener("load",_,!1)):(t.attachEvent("onscroll",_),t.attachEvent("onload",_))},d.render=function(){var e,o,i,a,r,d,v,_=t.querySelectorAll("img[data-srcset], [data-srcset-background], [data-srcset-video], [data-scrset-iframe]"),b=_.length,y={l:-n.l,t:-n.t,b:(t.innerHeight||window.height())+n.b,r:(t.innerWidth||window.width())+n.r};for(r=0;b>r;r++)if(o=_[r],e=o.getAttribute("data-srcset-placeholder"),g(o,y)){if(s&&o.setAttribute("data-srcset-placeholder",o.src),null!==o.getAttribute("data-srcset-background"))o.style.backgroundImage="url("+o.getAttribute("data-srcset-background")+")";else if(null!==o.getAttribute("data-srcset-video"))l(o.getAttribute("id"),o.getAttribute("data-srcset-video"));else if(null!==o.getAttribute("data-scrset-iframe"))c(o).after('<iframe src="'+o.getAttribute("data-scrset-iframe")+'" frameborder="0" allowfullscreen="true"></iframe>').remove();else{i=o.getAttribute("data-srcset"),a=/\/(avatars|avatar)(-(sm|xs|mdlg))?\//.test(i)?p:h,d=null;for(v in a)a.hasOwnProperty(v)&&a[v]>=o.clientWidth&&null===d&&(d=v);o.onload=f,o.onerror=m,null!==d&&o.clientWidth>1?o.src=i.replace(/\/(fichiers|images|medias|avatars|avatar)(-(sm|xs|md|lg))?\//,"/$1-"+d+"/"):o.src=i}s||(o.removeAttribute("data-srcset"),o.removeAttribute("data-srcset-background"),o.removeAttribute("data-srcset-video"),o.removeAttribute("data-srcset-iframe")),u(o,"load")}else s&&e&&(null!==o.getAttribute("data-srcset-background")?o.style.backgroundImage="url("+e+")":o.src=e,o.removeAttribute("data-srcset-placeholder"),u(o,"unload"))},d.detach=function(){document.removeEventListener?t.removeEventListener("scroll",_):t.detachEvent("onscroll",_),clearTimeout(o)},d}var i="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",a=null;o.render=function(){if(null===a){var e=document.querySelector(".container");a=o(document),a.init({offsetVertical:500,offsetHorizontal:e?e.clientWidth:0})}a.render()},o.detach=function(){null===a&&(a.detach(),a=null)},o.pixelTransparent=i,t.exports=o},{"./dom.js":11,"./video.js":33}],32:[function(e,t,n){t.exports=function(){"use strict";var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{}],33:[function(e,t,n){function o(e,t){u([e.player.urljs],function(){window.jwplayer.key=e.player.key,t()})}function i(e,t,n){d({url:t,dataType:"json",success:function(t){t.autostart?o(t,function(){n(t)}):(l("#"+e).addClass("play-on").html('<img src="'+m.pixelTransparent+'" data-srcset="'+t.image+'">').on("click",function(){o(t,function(){t.autostart=!0,n(t)})}),m.render())}})}function a(e){void 0!==window.WadsUtil?WadsUtil.addWadsCallback({load:function(){h||e(!1)},timeout:function(){e(!0),h=!0}}):e(!0)}function r(){void 0!==localStorage&&(null!==w?localStorage.setItem("jwplayer.mute",w):localStorage.removeItem("jwplayer.mute"))}function s(){var e=b.offset().top;0===y&&window.scrollTop()+window.height()>=e?(y=1,p(g,v.get(0).getAttribute("data-src"),{disablePersistItems:!0},function(){var t,n=jwplayer(g);n.onFullscreen(function(){j=n.getFullscreen(),j?n.setMute(!1):n.setMute(t)}),n.onMute(r),n.setMute(!0),window.scrollTop()+window.height()<e?y=3:(_.show().find(".player-contenu").on("mouseenter",function(){j?t=!1:n.setMute(!1)}).on("mouseleave",function(){j?t=!0:n.setMute(!0)}),y=2,b.addClass("active")),r()})):2===y&&window.scrollTop()+window.height()<e&&!j&&(_.remove(),y=3,b.removeClass("active"),window.removeEventListener("scroll",this.video_footer_refresh))}var c,l=e("./dom"),d=e("./request"),u=e("./load"),f=e("./merge"),m=e("./srcset");c=e("./../lib/promise-polyfill");var h=!1,p=function(e,t,n,o){var r=new c(function(e){a(e)}),s=new c(function(n){i(e,t,n)});c.all([r,s]).then(function(t){var i=t[0],a=t[1];if(void 0!==window.wads){a.advertising.client=window.wads.getVideoAdType("preroll");var r=window.wads.getVideoAdUrl(a.extraData.prerollId);a.advertising.schedule.preroll.tag=r,a.data_ga.vast_url=r,a.advertising.schedule.postroll.tag=window.wads.getVideoAdUrl("postroll")}i&&delete a.advertising,delete a.extraData;var s=!1;n&&(a=f(a,n));var c=window.jwplayer(e);c.setup(a).on("ready",function(){l(document).trigger("video_player_thumbnail_displayed",a),this.on("beforePlay",function(){a.id=e,l(document).trigger("video_player_starts",a)}).on("adPlay",function(){a.id=e,l(document).trigger("video_ad_play",a)}).on("adImpression",function(t){a.id=e,a.adposition=t.adposition,l(document).trigger("video_ad_impression",a)}).on("adPause",function(){a.id=e,l(document).trigger("video_ad_paused",a)}).on("adClick",function(){a.id=e,l(document).trigger("video_ad_clicked",a)}).on("adSkipped",function(){a.id=e,l(document).trigger("video_ad_skipped",a)}).on("adComplete",function(){a.id=e,l(document).trigger("video_ad_completed",a)}).on("adTime",function(t){a.id=e,a.pub_percent=Math.floor(t.position/t.duration*100),l(document).trigger("video_ad_time",a)}).on("adError",function(t){a.id=e,a.pub_error_label=t.message,l(document).trigger("video_ad_crashes",a)}).on("play",function(){a.id=e,l(document).trigger("video_content_starts",a),s===!1&&(s=!0,a.countv&&d(a.countv))}).on("pause",function(){a.id=e,l(document).trigger("video_content_pause",a)}).on("seek",function(){a.id=e,l(document).trigger("video_content_seek",a)}).on("beforeComplete",function(){a.id=e,l(document).trigger("video_content_finish",a)}).on("time",function(t){a.id=e,a.video_percent=Math.floor(t.position/t.duration*100),l(document).trigger("video_content_time",a)}).on("error",function(e){a.video_error_label=e.message,l(document).trigger("video_content_crash",a)}).on("levelsChanged",function(){document.cookie="defvideo="+this.getQualityLevels()[this.getCurrentQuality()].label+"; path=/"});var t=this.getPlugin("related");t.on("play",function(e){a.item=e.item,l(document).trigger("video_related",a)})}).on("setupError",function(e){a.player_error_label=e.message,l(document).trigger("video_player_crashes",a)}),"function"==typeof o&&o()})};l(".playlist-video .item").on("click",function(e){e.stop(),l(this.parentNode).find(".item").removeClass("active");var t=l(this).addClass("active").closest(".playlist-video").find(".embed-responsive-item>div").get(0).getAttribute("id");jwplayer(t).remove(),p(t,this.getAttribute("data-src"))}),l(".player-jv[data-src]").each(function(){p(this.getAttribute("id"),this.getAttribute("data-src"))});var v,g,_,b=l("#video-footer"),y=0,w=localStorage&&localStorage.getItem("jwplayer.mute"),j=!1;b.length&&(v=l(".player-jv-footer"),g=v.get(0).getAttribute("id"),_=l("#video-footer-container"),window.addEventListener("scroll",s),s()),t.exports=p},{"./../lib/promise-polyfill":42,"./dom":11,"./load":17,"./merge":19,"./request":25,"./srcset":31}],34:[function(e,t,n){var o=(e("./dom.js"),function(){});o.prototype.init=function(){void 0!==window.wads&&void 0!==window.WadsUtil&&WadsUtil.addWadsCallback({
load:WadsUtil.showAds})},t.exports=new o},{"./dom.js":11}],35:[function(e,t,n){function o(){document.location.reload()}function i(e){var t,n=document.getElementById(e);return n&&(t=n.value),t}function a(e){return e.erreur&&e.erreur.length?(modal("erreur",{message:e.erreur}),!0):!1}function r(e,t,n){m({type:t?"POST":"GET",url:e,dataType:"json",data:t,success:function(e){a(e)||(n?(n.fermer=o,modal("afficher",n)):o())}})}function s(){if(g.length){var e=f(".topic-select input:checked, .list-outils-modo input:checked"),t=g.get(0).checked?1:0;e.length>t&&!v.visible()?v.show():e.length===t&&v.visible()&&(v.hide(),g.get(0).checked=!1)}}function c(){f(".back-barre").each(function(){var e=f("span",this);e.css({width:e.data("width")+"%"})})}function l(e){var t=f(e),n=t.data("id")||t.closest(".bloc-message-forum").data("id");return parseInt(n,10)}function d(){var e=[];return f(".checkbox-message:checked").each(function(){e.push(l(this))}),e}function u(e){var t=e.data("id"),n=e.find(".bloc-pseudo-msg").text().replace(/[\r\n]/g,""),o=e.find(".bloc-date-msg").text().replace(/[\r\n]/g,"").replace(/[\r\n]/g,"").replace(/#[0-9]+$/g,"");m({url:"/forums/ajax_citation.php",dataType:"json",data:{id_message:t,ajax_hash:m.getSessionHash("liste_messages")},success:function(e){a(e)||f("#bloc-formulaire-forum .jv-editor").jvcode("insertStartLine","> Le "+o+" "+n+" a écrit :\n>"+e.txt.split("\n").join("\n> ")+"\n\n")}})}e("./app.js"),e("./core/scrollbar.js")(),e("./signalement.js");var f=e("./core/dom.js"),m=e("./core/request.js"),h=e("./core/abonnement.js"),p=e("./core/srcset.js"),v=f("#barre-moderation"),g=f("#select-all-msg"),_=f("#forum-main-col");g.on("change",function(){var e=this;f(".topic-select input, .list-outils-modo input").each(function(){this.checked=e.checked}),s()}),v.length&&f(".topic-select input, .list-outils-modo input").on("change",s),s();var b=f(".bloc-sondage-topic");if(b.length){var y=f(".form-reponse-sondage").get(0).cloneNode(!0),w=f(".href-ajouter-reponse");y.setAttribute("value","");var j=f("#submit_sondage");f(".btn-ajouter-sondage, .btn-supprimer-sondage").on("click",function(e){"0"===j.val()&&f(".btn-supprimer-spotify").trigger("click"),b.toggleClass("on"),j.val("0"===j.val()?"1":"0")}),w.on("click",function(){f(".form-reponse-sondage").length<parseInt(this.getAttribute("data-max"),10)&&b.get(0).insertBefore(y.cloneNode(!0),this.parentNode)}),b.on("click",".href-delete-reponse",function(){f(".form-reponse-sondage").length>parseInt(w.get(0).getAttribute("data-min"),10)&&b.get(0).removeChild(this.parentNode)})}_.on("click",".btn-sondage-view-response",function(){var e=this.getAttribute("data-action");m({type:"POST",url:"/forums/ajax_topic_sondage_view_response.php",dataType:"json",data:{id_topic:id_topic,action:e,ajax_hash:m.getSessionHash("liste_messages")},success:function(e){a(e)||(f(".bloc-sondage").after(e.html).remove(),c())}})}).on("click",".btn-sondage-reponse",function(){return m({url:"/forums/ajax_topic_sondage_vote.php",data:{id_topic:id_topic,id_sondage_reponse:this.getAttribute("data-id-reponse"),id_sondage:this.getAttribute("data-id-sondage"),ajax_hash:m.getSessionHash("liste_messages")},dataType:"json",success:function(e){a(e)||(f(".bloc-sondage").after(e.html).remove(),c())}}),!1}).on("click",".btn-sondage-close",function(){modal("confirm",{titre:"Clore le sondage",message:"Voulez-vous vraiment fermer votre sondage? (cette action est irréversible)",boutton:"Confirmer",onClickSelecteur:".btn-valider-modal",onClickCallback:function(){return r("/forums/ajax_topic_sondage_close.php",{id_topic:id_topic,ajax_hash:m.getSessionHash("liste_messages")}),!1}})}),f(".menu-user-forum").on("click",function(e){e.stopPropagation()}),f(".btn-actualiser-forum").on("click",o),f(".menu-user-forum .input-on-off").on("change",function(){var e=this.getAttribute("data-url");e&&m({url:e+"&action="+(this.checked?"on":"off"),dataType:"json",success:function(e){a(e)||o()}})}),f(".picto-abonnement, .picto-abonnement-full").on("click",function(){if(void 0!==window.id_topic){var e=window.id_topic,t=this.getAttribute("data-id-abonnement"),n=this.getAttribute("data-action");"add"===n?h.create("topic",e,o):h.remove(t,o)}return!1}),f(".bloc-lien-ajout-sujet .lien-jv, .liste-sujets-nomiss .picto-suppression").on("click",function(){return m({url:this.getAttribute("href")||this.getAttribute("data-url"),dataType:"json",success:function(e){a(e)||o()}}),!1}),f(".bloc-options-msg > .picto-msg-tronche, .msg-pseudo-blacklist .btn-blacklist-cancel").on("click",function(){return m({url:"/forums/ajax_forum_blacklist.php",data:{id_alias_msg:this.getAttribute("data-id-alias"),action:this.getAttribute("data-action"),ajax_hash:m.getSessionHash("preference_user")},dataType:"json",success:function(e){a(e)||o()}}),!1}),f(".msg-pseudo-blacklist-view").on("click",function(){return f(this).closest(".bloc-message-forum").addClass("msg-pseudo-blacklist-off").removeClass("msg-pseudo-blacklist"),p.render(),!1});var k=f("#bloc-formulaire-forum"),x="new_message_"+k.data("topic-id"),C=window.sessionStorage.getItem(x),T=!1;if(null!==C&&k.length>0){var A=JSON.parse(C);f("#message_topic").val(A.message),window.sessionStorage.removeItem(x),window.location.hash="#bloc-formulaire-forum"}f(".form-post-message").on("submit",function(){if(void 0!==k.data("redirect-url")){var e={};return e.message=f("#message_topic").val(),window.sessionStorage.setItem(x,JSON.stringify(e)),window.location.replace(k.data("redirect-url")),!1}var t=!1;return T?t=!0:m({method:"POST",url:this.getAttribute("data-check"),data:{new_message:f("#message_topic").val()},dataType:"json",success:function(e){a(e)||(T=!0,this.submit())}.bind(this)}),t});var E={kickAliasError:{message:"Une erreur est survenue lors de la récupération de l'utilisateur à kicker."},kickError:{message:"Vous devez sélectionner un motif pour le kick."},kickSuccess:{contenu:"Cet utilisateur a bien été kické de ce forum",titre:"Kick d'un utilisateur"},unKickSuccess:{contenu:"Cet utilisateur a bien été dékické de ce forum",titre:"Kick d'un utilisateur"},messageEmptyDelete:{message:"Vous devez sélectionner au minimum un message."}};f(".btn-topic-resolu").on("click",function(){var e=this.getAttribute("data-type"),t="";switch(e){case"resolu":t="Ce sujet est-il vraiment traité ?";break;case"non_resolu":t="Ce sujet est-il vraiment non-traité ?"}return modal("confirm",{titre:"Sujet traité",message:t,boutton:"Confirmer",onClickSelecteur:".btn-valider-modal",onClickCallback:function(){return r("/forums/ajax_topic_resolu.php",{id_topic:id_topic,ajax_hash:m.getSessionHash("liste_messages")}),!1}.bind(this)}),!1}),f("#btn_moderation_delete_message, #btn_moderation_restore_message").on("click",function(){if(f(this).hasClass("inactif")===!1){var e=f(this).data("action"),t=d();t.length>0?r("/forums/modal_del_message.php",{id_forum:id_forum,tab_message:t,type:e,action:"get",ajax_hash:m.getSessionHash("moderation_forum")}):modal("erreur",E.messageEmptyDelete)}return!1}),_.on("click",".picto-msg-croix, .picto-msg-restaurer, .moderation-message > span",function(){var e=this.getAttribute("data-type");r("/forums/modal_del_message.php",{tab_message:[l(this)],type:e,ajax_hash:m.getSessionHash("moderation_forum")})}),_.on("click",".bloc-options-msg .picto-msg-crayon",function(){var e=f(this).closest(".bloc-message-forum");if(0===e.find(".jv-editor").length){var t=e.find(".txt-msg"),n=t.get(0),o=n.cloneNode(!0),i=l(this),r=m.getSessionHash("liste_messages");m({url:"/forums/ajax_edit_message.php",data:{id_message:i,ajax_hash:r,action:"get"},dataType:"json",success:function(s){if(!a(s)){t.html(s.html);var c=e.find(".jv-editor").jvcode(),l=t.find(".g-recaptcha"),d=null;l.length&&(d=grecaptcha.render(l.get(0),{sitekey:l.data("sitekey")})),e.find(".btn-annuler-modif-msg").on("click",function(e){e.stop(),n.parentNode.replaceChild(o,n),c.jvcode("destroy")}),e.find(".form-post-topic").on("submit",function(t){t.stop();var n=e.find("textarea").val(),o={action:"post",id_message:i,message_topic:n,ajax_hash:r,"g-recaptcha-response":null!==d?grecaptcha.getResponse(d):null};return e.find(".form_session_data input[type='hidden']").each(function(){o[this.getAttribute("name")]=this.value}),m({method:"POST",url:"/forums/ajax_edit_message.php",data:o,dataType:"json",success:function(t){a(t)?t.reset_form===!0&&e.find(".form_session_data").html(t.hidden_reset):(e.after(t.html).remove(),p.render())}}),!1})}}})}}),_.on("click",".list-outils-modo .picto-msg-kick",function(){var e=m.getSessionHash("moderation_forum"),t=parseInt(this.getAttribute("data-id-alias"),10),n=l(this);t>0?m({type:"GET",url:"/forums/ajax_kick.php",data:{action:"get",id_forum:id_forum,id_message:n,id_alias_a_kick:t,ajax_hash:e},dataType:"json",success:function(o){a(o)||(modal("afficher",{contenu:o.html,titre:"Kick d'un utilisateur"}),f("#signalement_motif").on("change",function(){switch(parseInt(this.value,10)){case 8:case 10:f("#kick_need").hide();break;default:f("#kick_need").show()}modal("centrer")}),f("#btn_valid_kick").on("click",function(){var o=i("signalement_motif");""!==o?r("/forums/ajax_kick.php",{action:"post",id_forum:id_forum,id_message:n,motif_kick:o,raison_kick:i("raison_kick"),duree_kick:i("duree_kick"),id_alias_a_kick:t,ajax_hash:e},E.kickSuccess):modal("erreur",E.kickError)}))}}):modal("erreur",E.kickAliasError)}),_.on("click",".list-outils-modo .picto-msg-dekick",function(){var e=parseInt(this.getAttribute("data-id-alias"),10);e>0?r("/forums/ajax_unkick.php",{id_forum:id_forum,id_alias_a_unkick:e,ajax_hash:m.getSessionHash("moderation_forum")},E.unKickSuccess):modal("erreur",E.kickAliasError)}),f(".btn-lock-topic").on("click",function(){var e=m.getSessionHash("moderation_forum"),t=this.getAttribute("data-type");return m({methode:"POST",url:"/forums/modal_moderation_topic.php",dataType:"json",data:{id_forum:id_forum,tab_topic:[id_topic],type:t,action:"get",ajax_hash:e},success:function(t){a(t)||(t.moderation===!1?o():(modal("afficher",{contenu:t.html,titre:"Modération"}),document.getElementById("raison_moderation").focus(),f("#btn_valid_raison_moderation").on("click",function(){r("/forums/modal_moderation_topic.php",{id_forum:id_forum,tab_topic:[id_topic],type:"lock",raison_moderation:i("raison_moderation"),action:"post",ajax_hash:e})})))}}),!1}),f(".btn-epingle-topic").on("click",function(){r("/forums/modal_moderation_topic.php",{id_forum:id_forum,tab_topic:[id_topic],type:this.getAttribute("data-type"),action:"post",ajax_hash:m.getSessionHash("moderation_forum")})}),f(".bloc-options-msg .picto-msg-quote").on("click",function(){u(f(this).closest(".bloc-message-forum"))}),f("#forum-main-col [data-modif-titre-sujet='modif']").on("click",function(){f(this).addClass("hidden"),f(".bloc-modif-titre-sujet form").removeClass("hidden")}),f("#forum-main-col [data-modif-titre-sujet='cancel']").on("click",function(){f(".bloc-modif-titre-sujet form").addClass("hidden"),f(".bloc-modif-titre-sujet [data-modif-titre-sujet='modif']").removeClass("hidden")}),f("#forum-main-col [data-modif-titre-sujet='valid']").on("click",function(){var e=f(".bloc-modif-titre-sujet [data-modif-titre-sujet='new_titre']").val();m({method:"POST",url:"/forums/ajax_edit_title.php",data:{id_topic:id_topic,titre_topic:e,ajax_hash:m.getSessionHash("liste_messages")},dataType:"json",success:function(t){a(t)||(f("#bloc-title-forum").html(e),f(".bloc-modif-titre-sujet form").addClass("hidden"),f(".bloc-modif-titre-sujet [data-modif-titre-sujet='modif']").removeClass("hidden"),f(".form-post-topic.form-post-message").prop("action",t.newUrl))}})}),f(".options-crumb .picto-favoris, .options-crumb .picto-favoris-full").on("click",function(){var e,t,n=this.getAttribute("data-action"),o=this.getAttribute("data-type");e=void 0===window.id_forum?0:id_forum,t=void 0===window.id_topic?0:id_topic,r("/forums/ajax_forum_prefere.php",{id_forum:e,id_topic:t,action:n,type:o,ajax_hash:m.getSessionHash("preference_user")})}),f("#liste-sujet-prefere .picto-suppression").on("click",function(){var e=parseInt(this.parentNode.getAttribute("data-id"),10);return m({url:"/forums/ajax_forum_prefere.php",data:{id_topic:e,action:"delete",type:"topic",ajax_hash:m.getSessionHash("preference_user")},dataType:"json",success:function(t){a(t)||(f(this.parentNode).remove(),id_topic===e&&f(".options-crumb .picto-favoris-full").removeClass("picto-favoris-full").addClass("picto-favoris").get(0).setAttribute("data-action","add"),0===f("#liste-sujet-prefere li").length&&f("#liste-sujet-prefere").append('<li class="line-ellipsis">Vous n\'avez aucun sujet favori</li>'))}.bind(this)}),!1}),f("#liste-forums-preferes .picto-suppression").on("click",function(){var e=parseInt(this.parentNode.getAttribute("data-id"),10);return m({url:"/forums/ajax_forum_prefere.php",data:{id_forum:e,action:"delete",type:"forum",ajax_hash:m.getSessionHash("preference_user")},dataType:"json",success:function(t){a(t)||(f(this.parentNode).remove(),id_forum===e&&f(".options-crumb .picto-favoris-full").removeClass("picto-favoris-full").addClass("picto-favoris").get(0).setAttribute("data-action","add"),0===f("#liste-forums-preferes li").length&&f("#liste-forums-preferes").append('<li class="line-ellipsis">Vous n\'avez aucun forum favori</li>'))}.bind(this)}),!1});var S={fnac:{domain:"fnac.com",code:"PA_JV_LIEN",transform:function(e){var t=e.indexOf("?");if(-1!==t){for(var n=e.substring(0,t+1),o=e.substring(t+1),i=o.split("&"),a=0;a<i.length;)-1===i[a].indexOf("Origin=")&&(n+=i[a]+"&"),a+=1;e=n+"Origin="+this.code}else e=e+"?Origin="+this.code;return e}},ldlc:{domain:"ldlc.com",code:"53f5eca16aba1",transform:function(e){return e+"#"+this.code}}};f(".bloc-message-forum .bloc-contenu .txt-msg a").each(function(){var e,t,n=this.getAttribute("href");for(e in S)if(S.hasOwnProperty(e)&&-1!==n.indexOf(S[e].domain)){t=n.indexOf("#"),-1!==t&&(n=n.substring(0,t)),n=S[e].transform(n);break}this.setAttribute("href",n)});var L,O=function(){clearTimeout(L),L=setTimeout(function(){f(".bloc-message-forum-anchor:target + .bloc-message-forum").addClass("seen")},400)};void 0!==window.onhashchange&&(window.onhashchange=function(){f(".bloc-message-forum.seen").removeClass("seen"),O()}),O(),e("./jvcode/message.js"),f(".jv-editor").jvcode(),e("./forum/topic.js")},{"./app.js":1,"./core/abonnement.js":2,"./core/dom.js":11,"./core/request.js":25,"./core/scrollbar.js":27,"./core/srcset.js":31,"./forum/topic.js":36,"./jvcode/message.js":39,"./signalement.js":45}],36:[function(e,t,n){function o(){var e=[];return r(".checkbox_topic").each(function(){this.checked&&e.push(this.value)}),e}function i(e){e.hide(),r(".btn-supprimer-sondage").show(),r("#topic_sondage_form").show(),r("#submit_sondage").val("1"),window.has_sondage=!0,window.nb_reponse=2}function a(e){var t="";window.nb_reponse<5&&(window.nb_reponse++,t+='<div class="form-group">',t+='<div class="row">',t+='<div class="col-md-10">',t+='<input class="form-control" name="reponse_sondage[]" placeholder="Saisir une réponse">',t+="</div>",t+='<div class="col-md-2">',t+='<span class="icon-cancel-circle pointer href-delete-reponse"></span>',t+="</div>",t+="</div>",t+="</div>",e.before(t),5===window.nb_reponse&&e.hide())}var r=e("./../core/dom.js"),s=e("./../core/request.js"),c=e("./../core/onDev.js");e("./../core/modal.js");var l=r("#bloc-formulaire-forum"),d="new_topic_"+l.data("forum-id"),u=window.sessionStorage.getItem(d);if(r(".btn-ajouter-spotify").on("click",function(){r(this).addClass("hide"),r(".btn-supprimer-spotify").removeClass("hide"),r("#spotify_topic").removeClass("hide"),r(".bloc-sondage-topic").removeClass("on"),r("#submit_sondage").val("0")}),r(".btn-supprimer-spotify").on("click",function(){r(this).addClass("hide"),r(".btn-ajouter-spotify").removeClass("hide");var e=r("#spotify_topic");e.addClass("hide"),e.val("")}),null!==u&&l.length>0){var f=JSON.parse(u);r("#titre_topic").val(f.title),r("#message_topic").val(f.message),f.hasOwnProperty("spotify")?(document.getElementById("spotify_topic").value=f.spotify,r(".btn-ajouter-spotify").trigger("click")):f.hasOwnProperty("sondage")&&(i(r(".btn-ajouter-sondage")),r("#question_sondage").val(f.sondage.question),f.sondage.reponses.map(function(e,t){t>=2&&a(r(".href-ajouter-reponse")),r(r('input[name="reponse_sondage[]"]').get(t)).val(e)})),window.sessionStorage.removeItem(d),window.location.hash="#bloc-formulaire-forum"}r(".form-post-topic").on("submit",function(){if(void 0!==l.data("redirect-url")){var e={},t=document.getElementById("spotify_topic").value;if(e.title=r("#titre_topic").val(),e.message=r("#message_topic").val(),t.length>0)e.spotify=t;else{var n=r("#question_sondage");if(n.val()){var o=[];r('input[name="reponse_sondage[]"]').each(function(){r(this).val()&&o.push(r(this).val())});var i={};i.question=n.val(),o.length>0&&(i.reponses=o),e.sondage=i}}return window.sessionStorage.setItem(d,JSON.stringify(e)),window.location.replace(l.data("redirect-url")),!1}var a,c=[],u=r(this),f="",m=!1;if("1"!==u.data("confirm")){r('input[name="reponse_sondage[]"]').each(function(){c.push(r(this).val())});var h="undefined"!==window.has_sondage&&window.has_sondage;s({method:"POST",url:"/forums/ajax_check_poste_topic.php",data:{id_forum_topic:id_forum,titre_topic:r("#titre_topic").val(),message_topic:r("#message_topic").val(),has_sondage:h,question_sondage:r("#question_sondage").val(),reponse_sondage:c,ajax_hash:s.getSessionHash("liste_topics")},dataType:"json",success:function(e){if(0!==e.erreurs.length){for(a=0;a<e.erreurs.length;a+=1)f+=e.erreurs[a],a<e.erreurs.length&&(f+="<br />");modal("erreur",{message:f})}else u.data("confirm","1"),u.get(0).submit()}})}else m=!0;return m}),r(".topic-list").on("click",'[data-action="delete"], [data-action="restore"]',function(){var e,t=r(this).data("action"),n=[],o="";n.push(r(this.parentNode).data("id")),s({method:"POST",url:"/forums/modal_moderation_topic.php",dataType:"json",data:{id_forum:id_forum,tab_topic:n,type:t,ajax_hash:s.getSessionHash("moderation_forum")},success:function(t){if(0===t.erreur.length)document.location.reload();else{for(e=0;e<t.erreur.length;e+=1)o+=t.erreur[e],e<t.erreur.length&&(o+="<br />");modal("erreur",{message:o})}}})}),r("#barre-moderation").on("click","#btn_moderation_delete_topic, #btn_moderation_restore_topic",function(){if(r(this).hasClass("inactif")===!1){var e,t=r(this).data("action"),n="",i=o();i.length>0?s({method:"POST",url:"/forums/modal_moderation_topic.php",dataType:"json",data:{id_forum:id_forum,tab_topic:i,type:t,action:"get",ajax_hash:s.getSessionHash("moderation_forum")},success:function(t){if(0===t.erreur.length)document.location.reload();else{for(e=0;e<t.erreur.length;e+=1)n+=t.erreur[e],e<t.erreur.length&&(n+="<br />");modal("erreur",{message:n})}}}):modal("erreur",{message:"Vous devez sélectionner au minimum un sujet."})}}),r("#barre-moderation").on("click","#btn_moderation_lock_topic, #btn_moderation_unlock_topic",function(){var e=o();if(r(this).hasClass("inactif")===!1){var t,n=r(this).data("action"),i="",a=s.getSessionHash("moderation_forum");1===e.length?s({method:"POST",url:"/forums/modal_moderation_topic.php",dataType:"json",data:{id_forum:id_forum,tab_topic:e,type:n,action:"get",ajax_hash:a},success:function(n){if(0===n.erreur.length)n.moderation===!1?document.location.reload():(modal("afficher",{contenu:n.html,titre:"Modération"}),r("#raison_moderation").get(0).focus(),r("#btn_valid_raison_moderation").on("click",function(){var n=r("#raison_moderation").val();s({method:"POST",url:"/forums/modal_moderation_topic.php",dataType:"json",data:{id_forum:id_forum,tab_topic:e,type:"lock",raison_moderation:n,action:"post",ajax_hash:a},success:function(e){if(0===e.erreur.length)document.location.reload();else{for(t=0;t<e.erreur.length;t+=1)i+=e.erreur[t],t<e.erreur.length&&(i+="<br />");modal("erreur",{message:i})}}})}));else{for(t=0;t<n.erreur.length;t+=1)i+=n.erreur[t],t<n.erreur.length&&(i+="<br />");modal("erreur",{message:i})}}}):modal("erreur",{message:"Vous devez sélectionner un seul topic."})}}),r("#barre-moderation").on("click","#btn_moderation_epingle_topic, #btn_moderation_desepingle_topic",function(){var e=o();if(r(this).hasClass("inactif")===!1){var t,n=r(this).data("action"),i="";e.length>0?s({method:"POST",url:"/forums/modal_moderation_topic.php",dataType:"json",data:{id_forum:id_forum,tab_topic:e,type:n,action:"post",ajax_hash:s.getSessionHash("moderation_forum")},success:function(e){if(0===e.erreur.length)document.location.reload();else{for(t=0;t<e.erreur.length;t+=1)i+=e.erreur[t],t<e.erreur.length&&(i+="<br />");modal("erreur",{message:i})}}}):modal("erreur",{message:"Vous devez sélectionner au minimum un sujet."})}}),r("#barre-moderation").on("click","#btn_moderation_move_topic",function(){if(r(this).hasClass("inactif")===!1){var e,t="",n=s.getSessionHash("moderation_forum"),i=o();i.length>0?s({method:"GET",url:"/forums/modal_move_topic.php",data:{id_forum:id_forum,tab_topic:i,ajax_hash:n,action:"get"},dataType:"json",success:function(o){if(0===o.erreur.length)modal("afficher",{contenu:o.html,titre:"Déplacer "+i.length+" topics"}),r("#btn_valid_move_topic").on("click",function(){var o=parseInt(r("#select_move_topic").val(),10);s({method:"POST",url:"/forums/modal_move_topic.php",data:{id_forum:id_forum,tab_topic:i,id_forum_move:o,ajax_hash:n,action:"post"},dataType:"json",success:function(n){if(0===n.erreur.length)modal("afficher",{contenu:n.html,titre:"Déplacer "+i.length+" topics",fermer:function(){document.location.reload()}});else{for(e=0;e<n.erreur.length;e+=1)t+=n.erreur[e],e<n.erreur.length&&(t+="<br />");modal("erreur",{message:t})}},error:function(e){c(function(){throw e})}})});else{for(e=0;e<o.erreur.length;e+=1)t+=o.erreur[e],e<o.erreur.length&&(t+="<br />");modal("erreur",{message:t})}}}):modal("erreur",{message:"Vous devez sélectionner au moins un topic."})}})},{"./../core/dom.js":11,"./../core/modal.js":20,"./../core/onDev.js":23,"./../core/request.js":25}],37:[function(e,t,n){var o=document.querySelector(".account[data-id-compte]"),i=o?o.getAttribute("data-id-compte"):"";!function(e,t,n,o){e[n]=e[n]||{},o&&(o+="").length?(e[n].context={viewer:{id:o}})&&(o="-"+o):o="",e[n].q=[],e[n].on=function(t,o,i){e[n].q.push([t,o,i])}}(window,document,"flg",i.toString())},{}],38:[function(e,t,n){function o(e){return window.hasOwnProperty("CodeMirror")&&e.richtext instanceof CodeMirror}function i(e,t,n){if(n||(n=t),e.setSelectionRange)e.focus(),e.setSelectionRange(t,n);else if(e.createTextRange){var o=e.createTextRange();o.collapse(!0),o.moveEnd("character",n),o.moveStart("character",t),o.select()}}function a(e,t){var n=this;n.el=e,n.textarea=s(n.el).find("textarea").get(0),s(e).find("[data-"+u+"]").on("click",function(e){n.textarea.focus(),n.action(s(this).data(u),null,this),e.preventDefault()});var o;for(o in n.fn.init)n.fn.init.hasOwnProperty(o)&&n.fn.init[o].call(n);s(e).data("richtext")&&window.hasOwnProperty("CodeMirror")&&(n.richtext=CodeMirror.fromTextArea(n.textarea,{mode:"jvcode",lineWrapping:!0}),n.richtext.on("blur",function(){n.richtext.save(),jQuery(n.textarea).trigger("focusout")}),s(".text-editor",n.el).on("click",function(){n.richtext.hasFocus()||n.richtext.focus()}))}function r(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);"string"==typeof n.key&&("function"==typeof n.action&&(a.prototype.fn.action[n.key]=n.action),"function"==typeof n.init&&(a.prototype.fn.init[n.key]=n.init),"function"==typeof n.destroy&&(a.prototype.fn.destroy[n.key]=n.destroy))}var s=e("./../core/dom.js"),c=e("./../core/request.js"),l=e("../core/onDev.js"),d=e("./nested-quote.js"),u=(document.location.protocol+"//"+document.domain,"edit");a.prototype={richtext:null,fn:{action:{},init:{},output:{},destroy:{}},action:function(e,t,n){var i,a,r=this;o(r)?(a=r.richtext.getSelection(),i=r.richtext):(i=r.textarea,a=document.selection?document.selection.createRange().text:i.value.substring(i.selectionStart,i.selectionEnd)),"function"==typeof r.fn.action[e]?r.fn.action[e].call(r,i,a,t,n):l(function(){throw new Error("L'action JVCode '"+e+"' n'existe pas.")})},destroy:function(){var e,t=this;for(e in t.fn.destroy)t.fn.destroy.hasOwnProperty(e)&&t.fn.destroy[e].call(t)},insertText:function(e,t){var n=this.getArea();if(o(this))""===n.getSelection()?n.replaceRange(e,n.getCursor()):n.replaceSelection(e),n.focus();else{var a,r,c;document.selection?(n.focus(),a=document.selection.createRange(),a.text=e,n.focus()):n.selectionStart||"0"===n.selectionStart||0===n.selectionStart?(r=n.selectionStart,c=n.selectionEnd,n.value=n.value.substring(0,r)+e+n.value.substring(c,n.value.length),n.focus(),0===t&&r-c===0&&(t=e.length),i(n,r+t,c+t)):(n.value+=e,n.focus()),s(n).trigger("change")}},insertStartLine:function(e){var t=this.getArea();if(o(this))this.insertText(e+t.getSelection().split("\n").join("\n"+e),0);else{var n,a,r,c,l,d=0;if(t.setSelectionRange){for(n=t.selectionEnd,a=t.value.substr(0,t.selectionStart).split("\n").length-1,r=t.value.substr(0,t.selectionEnd).split("\n").length-1,c=t.value.split("\n"),l=0;l<c.length;l+=1)l>=a&&r>=l&&(c[l]=e+c[l],d+=e.length);s(t).val(c.join("\n")),i(t,n+d)}else{var u=document.selection.createRange().text.split("\n");this.insertText(t,e+u.join("\n"+e),0)}s(t).trigger("change")}},getArea:function(){return o(this)?this.richtext:this.textarea}},r({key:"previsu",init:function(){function e(e,t){i===!1&&null!==t&&""!==t?c({method:"POST",contentType:"application/x-www-form-urlencoded",url:e,data:{texte:t},dataType:"html",success:function(e){for(var t=s(".previsu-editor",n.el),o=t.get(0);o.firstChild;)o.removeChild(o.firstChild);t.get(0).appendChild(e),i=!1,d.init()}}):""===t&&s(".previsu-editor",n.el).html("")}function t(t){function i(){window.clearTimeout(a),a=setTimeout(function(){e(s(".previsu-editor",n.el).data("refresh"),r?n.richtext.getValue():n.textarea.value)},1e3)}var r=o(n);t?(s(".previsu-editor",n.el).show().on("click",function(){e(s(this).data("refresh"),s(n.textarea).val())}),r?(n.richtext.on("keyup",i),n.richtext.on("change",i)):s(n.textarea).on("change keyup",i),e(s(".previsu-editor",n.el).data("refresh"),s(n.textarea).val())):(s(n.textarea).off("change keyup"),s(".previsu-editor",n.el).off("click").hide())}var n=this,i=!1,a=null;s(".option-previsu .btn-on-off",this.el).on("click",function(){t(s(this).toggleClass("active").hasClass("active"))}),t(s(".option-previsu .btn-on-off",this.el).hasClass("active"))},destroy:function(){s(this.textarea).off("change keyup"),s(".previsu-editor",this.el).off("click").hide()}}),r({key:"insertStartLine",action:function(e){this.insertStartLine(e)}}),r({key:"insertText",action:function(e){this.insertText(e)}}),t.exports=r,s.fn("jvcode",function(e){var t=Array.prototype.slice.call(arguments,0);return this.each(function(){var n=this;n.elem&&"destroy"===e?(n.elem.destroy(),delete n.elem,n.elem=null):n.elem?2!==t.length||"insertStartLine"!==t[0]&&"insertText"!==t[0]?n.elem.action.apply(n.elem,t):n.elem[t[0]](t[1]):n.elem||"object"!=typeof e&&e||(n.elem=new a(n,e))})})},{"../core/onDev.js":23,"./../core/dom.js":11,"./../core/request.js":25,"./nested-quote.js":40}],39:[function(e,t,n){function o(){u=this,d?d.show(i(u.el).find(".jv-editor-stickers").get(0)):(void 0===window.flg&&e("./feeligo.js"),window.flg.on("ready:stickers",function(e){e["new"](function(e){e.show(i(u.el).find(".jv-editor-stickers").get(0)),e.on("insert_sticker",function(e){u.insertText(e.code()||"[[sticker:"+e.path()+"]]",0)}),d=e})}),a("http://jvc.app.flgstkr.fr/www.jeuxvideo.com/loader.js"))}var i=e("./../core/dom.js"),a=e("./../core/load.js"),r=e("./../core/request.js"),s=e("./jv-editor-core.js"),c=e("./../medias/form_video_jv_editor.js");e("./nested-quote.js").init();var l=document.location.protocol+"//"+document.domain;s({key:"bold",action:function(e,t){this.insertText("'''"+t+"'''",3)}}),s({key:"italic",action:function(e,t){this.insertText("''"+t+"''",2)}}),s({key:"underline",action:function(e,t){this.insertText("<u>"+t+"</u>",3)}}),s({key:"del",action:function(e,t){this.insertText("<s>"+t+"</s>",3)}}),s({key:"code",action:function(e,t){this.insertText("<code>"+t+"</code>",6)}}),s({key:"spoil",action:function(e,t){this.insertText("<spoil>"+t+"</spoil>",7)}}),s({key:"list",action:function(e,t){this.insertStartLine("* ")}}),s({key:"list-numbered",action:function(e,t){this.insertStartLine("# ")}}),s({key:"quote",action:function(e,t){this.insertStartLine("> ")}}),s({key:"smileys",action:function(e,t){var n=this;i("#jv-smileys").data("el",e),modal("afficher",{selector:l+"/jvcode/smileys.htm",callback:function(){i("#jv-smileys img[data-code]").on("click",function(){var e=i(this).data("code"),t=i("#jv-smileys").data("el");return modal("fermer"),t.focus(),n.insertText(" "+e+" ",0),!1}),i("#jv-smileys").data("el",e)}})}});var d=null,u=null;s({key:"stickers",init:function(){var e=this;i(e.el).find("[data-edit=stickers]").hasClass("active")&&(i(".jv-editor-stickers").removeClass("active"),i(e.el).find(".jv-editor-stickers").addClass("active"),o.call(e)),i(e.textarea).on("focus",function(){i(e.el).find("[data-edit=stickers]").hasClass("active")&&(i(".jv-editor-stickers").removeClass("active"),i(e.el).find(".jv-editor-stickers").addClass("active"),o.call(e))})},action:function(e,t,n,a){var s=i(a).toggleClass("active").hasClass("active"),c=this;s?(i(c.el).find(".jv-editor-stickers").addClass("active"),o.call(c),i(".option-stickers .btn-on-off").addClass("active"),i(".jv-editor-decouverte-stickers").length?(r(i(a).data("preference")+"&decouverte=on&action=on"),i(".jv-editor-decouverte-stickers").remove()):r(i(a).data("preference")+"&action=on")):(d.hide(i(".jv-editor-stickers.active").get(0)),i(".option-stickers .btn-on-off").removeClass("active"),i(".jv-editor-stickers").removeClass("active"),r(i(a).data("preference")+"&action=off"))}}),s({key:"decouverte-stickers-oui",action:function(e,t,n,a){i(".jv-editor-stickers").removeClass("active"),i(".jv-editor-decouverte-stickers").remove(),i(".option-stickers .btn-on-off").addClass("active"),i(this.el).find(".jv-editor-stickers").addClass("active"),r(i(".option-stickers .btn-on-off").data("preference")+"&decouverte=on&action=on"),o.call(this)}}),s({key:"decouverte-stickers-non",action:function(e,t,n,o){i(".jv-editor-decouverte-stickers").remove(),r(i(".option-stickers .btn-on-off").data("preference")+"&decouverte=on&action=off")}}),s({key:"noelshack",action:function(e,t){u=this,modal("afficher",{dependance:['//static.jvc.gg/1.27.2/'+"js/noelshack.js"],selector:l+"/jvcode/noelshack.htm",callback:function(){jQuery("#ns-webservice").noelshack({domain:l,redirect:"/jvcode/noelshack-result.json?%s",send:function(e,t){jQuery("#ns-err, #ns-debut, #ns-fin").hide(),jQuery("#ns-progress").show(),jQuery("#noelshack-progress > div").removeAttr("style")[t.context?"removeClass":"addClass"]("noprogress")},progress:function(e,t){jQuery("#noelshack-progress > div").css("width",t.pourcent+"px")},done:function(e,t){jQuery("#ns-err, #ns-debut, #ns-progress").hide(),jQuery("#ns-fin img").attr("src",t.mini),jQuery("#ns-fin .ns-lien").html(t.chats),jQuery("#ns-fin").show()},error:function(e,t){jQuery("#ns-fin, #ns-debut, #ns-progress").hide(),jQuery("#ns-err ul").empty().append("<li>"+t+"</li>"),jQuery("#ns-err").show()}}),jQuery("#ns-add-msg").on("click",function(){return modal("fermer"),jQuery(u.getArea()).focus(),u.insertText(" "+jQuery("#ns-webservice").noelshack("data").chats+" ",0),!1})}})}}),s({key:"video",action:function(e,t){function n(t){modal("fermer"),e.focus(),"number"==typeof t?u.insertText("[[video:"+t+"]]\n",0):u.insertText(t,0)}u=this,modal("afficher",{selector:l+"/jvcode/video.php",callback:function(){c.initModalVideo(n,!0)},ouvrir:function(){c.setModalVideo(n,!0)}})}})},{"./../core/dom.js":11,"./../core/load.js":17,"./../core/request.js":25,"./../medias/form_video_jv_editor.js":44,"./feeligo.js":37,"./jv-editor-core.js":38,"./nested-quote.js":40}],40:[function(e,t,n){var o=e("../core/dom.js"),i={SELECTOR_WWW:".text-enrichi-forum > blockquote > blockquote",SELECTOR_M:".text-enrichi-fmobile > blockquote > blockquote",init:function(){o(i.SELECTOR_WWW+","+i.SELECTOR_M).each(function(){
i._bindShowQuoteOnClick(this)})},_bindShowQuoteOnClick:function(e){o(e).off("click",i._showQuoteOnClick).on("click",i._showQuoteOnClick)},_showQuoteOnClick:function(e){i._showQuote(e.currentTarget)},_showQuote:function(e){i._disableMessageMaxHeight(e),e.setAttribute("data-visible","1")},_disableMessageMaxHeight:function(e){var t=o(e).closest(".text-enrichi-fmobile");if(0!==t.length){var n=o(t.get(0).parentNode).find(".lire-suite-msg").get(0);"none"===n.style.display&&(t.get(0).style.maxHeight="none")}}};t.exports=i},{"../core/dom.js":11}],41:[function(e,t,n){t.exports=function(e){function t(e){var t="";for(i=1,nameL=e.length;i<nameL;i++)t+=1!==i?e[i].charAt(0).toUpperCase()+e[i].slice(1).toLowerCase():e[i];return t}var n=(arguments[1],arguments[2]),o={parseBoolean:!0,parseFunction:!0,parseNull:!0,parseObject:!0,parseNumber:!0,parseUndefined:!0,parse:void 0,deep:!0},a=document.createElement("div"),r=a.dataset?!0:!1,s={},c=o;if(n)for(k in n)c[k]=n[k];var d=function(e){var t=e,n=e.charAt?e.charAt(0):"";if("null"===e)c.parseNull?t=null:t;else if("{"===n||"["===n)try{if(c.parseObject?t=JSON.parse(e):"",c.deep)for(var o in t)t[o]=d(t[o])}catch(i){}else if(!c.parseBoolean||"true"!==e&&"false"!==e)isNaN(1*e)?c.parseUndefined&&"undefined"===e.toLowerCase()&&(t=void 0):c.parseNumber?t=1*e:t;else switch(e){case"true":t=!0;break;case"false":t=!1}return t};switch(r){case!0:var u=e.dataset;for(i in u)value=d(u[i]),s[i]=value;break;case!1:var f=e.attributes,m="";for(i=0,l=f.length;i<l;i++)m=f[i].name.split("-"),t(m)&&t(m).length>0?s[t(m)]=d(f[i].value):""}return e.nodeType>0?s:null}},{}],42:[function(e,t,n){function o(){}function i(e,t){return function(){e.apply(t,arguments)}}function a(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function r(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void m(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?s:c)(t.promise,e._value);var o;try{o=n(e._value)}catch(i){return void c(t.promise,i)}s(t.promise,o)}))}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void u(i(n,t),e)}e._state=1,e._value=t,l(e)}catch(o){c(e,o)}}function c(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&setTimeout(function(){e._handled||h(e._value)},1);for(var t=0,n=e._deferreds.length;n>t;t++)r(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function u(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,c(t,e))})}catch(o){if(n)return;n=!0,c(t,o)}}var f=setTimeout,m="function"==typeof setImmediate&&setImmediate||function(e){f(e,1)},h=function(e){console.warn("Possible Unhandled Promise Rejection:",e)},p=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};a.prototype["catch"]=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new a(o);return r(this,new d(e,t,n)),n},a.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&p(arguments[0])?arguments[0]:arguments);return new a(function(t,n){function o(a,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,function(e){o(a,e)},n)}e[a]=r,0===--i&&t(e)}catch(c){n(c)}}if(0===e.length)return t([]);for(var i=e.length,a=0;a<e.length;a++)o(a,e[a])})},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,n){n(e)})},a.race=function(e){return new a(function(t,n){for(var o=0,i=e.length;i>o;o++)e[o].then(t,n)})},a._setImmediateFn=function(e){m=e},a._setUnhandledRejectionFn=function(e){h=e},t.exports=a},{}],43:[function(e,t,n){!function(e){"use strict";var n=function(e,t){var o=/[^\w\-\.:]/.test(e)?new Function(n.arg+",tmpl","var _e=tmpl.encode"+n.helper+",_s='"+e.replace(n.regexp,n.func)+"';return _s;"):n.cache[e]=n.cache[e]||n(n.load(e));return t?o(t,n):function(e){return o(e,n)}};n.cache={},n.load=function(e){return document.getElementById(e).innerHTML},n.regexp=/([\s'\\])(?!(?:[^[]|\[(?!%))*%\])|(?:\[%(=|#)([\s\S]+?)%\])|(\[%)|(%\])/g,n.func=function(e,t,n,o,i,a){return t?{"\n":"\\n","\r":"\\r","	":"\\t"," ":" "}[t]||"\\"+t:n?"="===n?"'+_e("+o+")+'":"'+("+o+"==null?'':"+o+")+'":i?"';":a?"_s+='":void 0},n.encReg=/[<>&"'\x00]/g,n.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},n.encode=function(e){return(null==e?"":""+e).replace(n.encReg,function(e){return n.encMap[e]||""})},n.arg="o",n.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}","function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof t&&t.exports?t.exports=n:e.tmpl=n}(this)},{}],44:[function(e,t,n){function o(){var e=setTimeout(function(){c("#jv-editor-video-recherche-onglet").addClass("loader")},300),t=c("#form-filtre-video");l({url:"/recherche.php",data:{a:t.find("[name=a]").val(),m:t.find("[name=m]").val(),q:t.find("[name=q]").val()},dataType:"json",success:function(t){if(t.result){c("#jv-editor-video-biblio > .row").get(0).innerHTML="";var n,o;for(n in t.result)t.result.hasOwnProperty(n)&&(o=t.result[n],c("#jv-editor-video-biblio > .row").append(d(o)));clearTimeout(e),c("#jv-editor-video-recherche-onglet").removeClass("loader")}}})}function i(){function e(e){c("#jv-editor-video-externe-input").val(""),u(e)}var t,n=c("#jv-editor-video-externe-input").val();if(t=n.match(/(?:twitch\.tv\/([^\s\/'"<>#&?]+)(?:\/embed)?)|player\.twitch\.tv\/\?(channel|video)=([^\s\/'"<>#&?]+)$/i),null!==t){var o,i;return void 0!==t[1]?(o="channel",i=t[1]):(o=t[2],i=t[3]),e("[[twitch"+o+":"+i+"]]\n")}return t=n.match(/^https?:\/\/vine.co\/v\/([^\s\/'"<>#&?]+)\/?(?:embed)?\/?(?:simple)?$/i),null!==t?e("[[vine:"+t[1]+"]]\n"):(t=n.match(/^https?\:\/\/(?:www\.)?youtube\.com\/watch\?v=([\w\-]+)/i),null===t&&(t=n.match(/^.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]{11,11}).*/)),null!==t?e("[[youtube:"+t[1]+"]]\n"):(t=n.match(/^https?\:\/\/(?:www\.)?vimeo\.com\/(\w+)/i),null!==t?e("[[vimeo:"+t[1]+"]]\n"):(t=n.match(/^https?\:\/\/(?:www\.)?dai\.ly\/(\w+)/i),null===t&&(t=n.match(/^https?\:\/\/(?:www\.)?dailymotion\.com\/video\/([a-zA-Z0-9]+)/i)),null!==t?e("[[dailymotion:"+t[1]+"]]\n"):(t=n.match(/^https?\:\/\/(?:www\.)?jeuxvideo\.com(\/[\w\-\/]*\-(\d+)\.htm)/i),null!==t?(l({url:"/contenu/ajax/ajax_get_id_media.php",data:{url:t[1],ajax_hash:l.getSessionHash("edit_contenu")},dataType:"json",success:function(t){e("success"===t.status&&"number"==typeof t.msg?"[[video:"+t.msg+"]]\n":"\n"+n+"\n")}}),modal("fermer")):(c("#tab-jv-editor-video-externe .alert").remove(),void c("#tab-jv-editor-video-externe").prepend(f({msg:"Veuillez saisir un lien vidéo jeuxvideo.com, Youtube, Dailymotion, Vimeo, Vine ou Twitch"})))))))}function a(e,t){u=e,c("#jv-editor-video .nav-tabs").tab(),d=s("template-thumbnail-video"),f=s("template-externe-alerte-video"),c("#jv-editor-video-recherche").on("keyup",o),c("#jv-editor-video-biblio").on("click","a",function(){return u(parseInt(this.getAttribute("data-id-media"),10),this),!1}),c("#form-filtre-video .dropdown-toggle").on("click",function(e){c("#filtre-video-liste").toggleClass("open"),e.stopPropagation()}),c("#jv-editor-video .modal-generic-main").on("click",function(){c("#filtre-video-liste").removeClass("open")}),c("#form-filtre-video .filtre-video-liste-id").on("click",function(){return c("#filtre-video-id-titre").html(c(this).html()),c("#filtre-video-id-input").val(this.getAttribute("data-id")),c("#jv-editor-video-recherche").val(""),c("#filtre-video-liste").removeClass("open"),c("#filtre-video-liste li").removeClass("active"),c(this.parentNode).addClass("active"),o(),!1}),o(),c("#tab-jv-editor-video-externe-onglet")[t?"show":"hide"](),c("#jv-editor-video-externe-form").on("submit",i)}function r(e,t){u=e,t||c("#jv-editor-video-recherche-onglet").tab("show"),c("#tab-jv-editor-video-externe-onglet")[t?"show":"hide"]()}var s=e("./../lib/tmpl.js"),c=e("./../core/dom.js"),l=e("./../core/request.js");e("./../core/bootstrap-tabs-without-jquery.js");var d,u,f;t.exports={initModalVideo:a,setModalVideo:r}},{"./../core/bootstrap-tabs-without-jquery.js":6,"./../core/dom.js":11,"./../core/request.js":25,"./../lib/tmpl.js":43}],45:[function(e,t,n){function o(e,t){a({method:"GET",url:"/gta/ajax/get_motif_description.php",data:{id:e},dataType:"json",success:function(e){t(e)},error:function(){t({error:"Erreur lors de l'exécution du script."})}})}var i=e("./core/dom.js"),a=e("./core/request.js");i("body").on("change","#signalement_motif",function(){o(i(this).val(),function(e){var t=document.getElementById("description_motif");e.error.length>0?(i(t.parentNode).addClass("hide"),t.innerHTML=""):(i(t.parentNode).removeClass("hide"),t.innerHTML=e.description),modal("centrer")})})},{"./core/dom.js":11,"./core/request.js":25}]},{},[35]);
        }
        else
        {
            setTimeout(ifLoad, 10);
        }
    }
    )();
})();