// ==UserScript==
// @name         Agario.fun Enhanced
// @namespace    agario.fun
// @version      0.0.3.1
// @description  Agario.fun ++
// @author       Varrick
// @match        http://agario.fun/*
// @run-at       document-start
// @grant        GM_xmlhttpRequest
// @connect      agario.fun
// ==/UserScript==
function inject(page){let fonts='<link href="https://fonts.googleapis.com/css?family=Roboto+Condensed" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Covered+By+Your+Grace" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Bangers|Bungee+Inline|Bungee+Shade|Faster+One|Fredericka+the+Great|Libre+Barcode+128|Monoton|Nothing+You+Could+Do|Rock+Salt|Shojumaru|Staatliches|Unica+One" rel="stylesheet">';page=page.replace(/<script src="jss\/main_out\.js"><\/script>/,'<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.min.js"></script>'+fonts+'<script src="https://pastebin.com/raw/keJjs04W"></script>');return page}
if(location.host==="agario.fun"&&location.pathname==="/"){location.href="http://agario.fun/++"+location.hash;return}
window.stop();document.documentElement.innerHTML="";GM_xmlhttpRequest({method:'GET',url:'http://agario.fun/',onload:function(e){document.open();document.write(inject(e.responseText));document.close()}});setTimeout(function(){let fontselector='<select class="form-control" id="fonts"><option>Roboto Condensed</option><option>Libre Barcode 128</option><option>Staatliches</option><option>Bangers</option><option>Monoton</option><option>Unica One</option><option>Fredericka</option><option>Faster One</option><option>Bungee Shade</option><option>Rock Salt</option><option>Nothing You Could Do</option><option>Bungee Inline</option><option>Shojumaru</option></select>';document.title="Agar++";document.getElementsByClassName("clearfix")[0].remove();$(".side-container").eq(0).after('<div id="left-container" class="plus" style="text-align: center!important;"><div id="preview"></div><br /><hr><div class="form-group clearfix"><input id="ip" type="text" class="form-control" placeholder="IP [Local=127.0.0.1:PORT]" value="127.0.0.1:5051" /></div></div>');$(".side-container").eq(1).after('<div id="right-container" class="plus"><div class="form-group clearfix"><input id="animation" type="range" min="0.1" max="1" value="0.3" step="0.01" /><br /><label id="animation-label" style="text-align: center!important;">Animation: 0.3</label></div>'+fontselector+'</div>');$(".side-container, #instructions, center, hr, .btn-settings, .btn-login-play, #preroll, .btn-spectate").remove();$("#mainPanel").prepend('<h2 id="title">Agar++</h2>')
$("#agario-main-buttons").before('<div class="form-group clearfix"><input id="skin" type="text" class="form-control" maxlength="200" placeholder="Skin SRC" style="display: inline-block;width: 100%"/></div><div class="form-group clearfix"><input id="bot-nick" type="text" class="form-control" maxlength="15" placeholder="Bot Nick" style="display: inline-block;float-left;width: 33%" /><input id="bot-skin" type="text" class="form-control" maxlength="200" placeholder="Bot Skin SRC" style="display: inline-block;float: right;width: 65%"/></div>');$("head").append('<style>#join{background: #2D7E2F!important;float: right!important;width: 49%!important;}#create{width: 49%!important;background: #1464BD!important;float: left!important;}hr {display: block!important;height: 1px!important;border-bottom: 1px solid #313131!important;}#label-r, #label-g, #label-b {float: left!important;display: inline-block!important;}#theme-r, #theme-g, #theme-b {display: inline-block!important;float: right!important; width: 75%!important;}#minimap{width: 200px!important;height: 200px!important;position: fixed!important;bottom: 10px!important;right: 10px!important;}#title{margin-bottom: 25px!important;text-align: center!important;text-transform: uppercase!important; font-size: 15px!important; letter-spacing: 5px!important;text-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5)!important;}#connect{background: #2D7E2F;width: 100%!important;}.plus{display: inline-block!important;background: #212121!important;vertical-align: top!important;padding: 25px!important;border-radius: 10px!important;width: 250px!important;}.btn{font-weight: bold!important;text-transform: uppercase!important;letter-spacing: 1.75px!important;font-size: 12px!important;}*{color: #FFFFFF!important;}#preview{margin: 0px auto!important;width: 150px!important; height: 150px!important;border-radius: 50%!important;box-shadow: 0px 0px 10px #000!important;background-size: cover!important;}.agario-panel{background: #212121!important;padding: 25px!important; width: 355px!important;border-radius: 10px!important;}input, select {paddingheight: 35px!important;background: #353535!important;border-radius: 4px!important;border: none!important;outline: none!important;}</style>');$("#skin").on("keyup",function(){skin.src=$(this).val();let url='url("'+$(this).val()+'")';$("#preview").css({"background-image":url})});$("#animation").on("change",function(){animationl=$(this).val();$("#animation-label").html("Animation: "+animationl)});$("#fonts").on("change",function(){corefont=$(this).val()});$(".btn-play-guest").html("Play").css({"width":"100%","background":"#1464BD","border":"none","margin-left":"0px"});$(".form-group").eq(4).after('<button onclick="spectate(); return false;" class="btn btn-warning btn-spectate btn-needs-server" data-itr="spectate">Spectate</button>');$(".btn-spectate").css({"width":"100%","background":"#FE8D00","border":"none","margin-left":"0px"});$("#options").css({"display":"inline-grid"});$("#options").appendTo("#right-container");$("#options > label > span").css({"margin-left":"10px"});$("#left-container").append('<button id="connect" class="btn btn-connect">Connect</button>');$("#left-container > br").after('<div class="form-group clearfix"><button id="create" class="btn btn-create">Create</button><button id="join" class="btn btn-join">Join</button></div>');$("#settings").remove();$("#connect").on("click",()=>{connect("ws://"+$("#ip").val())});$("body").append("<canvas id='minimap' ></canvas>");document.getElementById("minimap").width=200;document.getElementById("minimap").height=200;var interval,interval2;var switchy=!1,switchy2=!1;$(document).on('keydown',function(e){if(e.keyCode==69){if(switchy){return}
switchy=!0;interval=setInterval(function(){$("body").trigger($.Event("keydown",{keyCode:87}));$("body").trigger($.Event("keyup",{keyCode:87}))},3)}})
$(document).on('keyup',function(e){if(e.keyCode==69){switchy=!1;clearInterval(interval);return}})
$(document).on('keydown',function(e){if(e.keyCode==84){if(switchy2){return}
switchy2=!0;interval2=setInterval(function(){$("body").trigger($.Event("keydown",{keyCode:32}));$("body").trigger($.Event("keyup",{keyCode:32}))},3)}})
$(document).on('keyup',function(e){if(e.keyCode==84){switchy2=!1;clearInterval(interval2);return}})
render=!0;rendername=!1;shortmass=!0
console.clear()},2e3)