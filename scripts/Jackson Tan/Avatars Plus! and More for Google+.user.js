/*

Following code belongs to Avatars Plus! and More for Google+.
Copyright (C) 2013 Jackson Tan
This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program. If not, see <http://www.gnu.org/licenses/>.

*/

// ==UserScript==
// @id             AvatarsPlusnMore
// @name         Avatars Plus! and More for Google+
// @version        5.30.6
// @namespace      gplus.avatarsPlus
// @author         Jackson Tan
// @description    Google+ is now lively and fun! No more small, static and low resolution avatars, also restore In Your Circles section. Other cool features are waiting for you to discover!
// @include        https://plus.google.com/*
// @exclude        /https://plus\.google\.com(/u/\d+)?/?stream/circles/.+/i
// @exclude	       /https://plus\.google\.com(/u/\d+)?/?b/.+/i
// @run-at         document-end
// @grant          GM_xmlhttpRequest
// ==/UserScript==

var a5a = { 'c1': 'Weather', 't': '</span><span role="button" class="d-s Hy Xc" id="gbabtn" title="View all" tabindex="0" onclick="javascript:window.open(', 'w': "Background_Color", 'T0': "countryName", 'r': ' ', 'N0': '</div><a href="./', 'z1': "https://plus.google.com/circles", 'C': "undefined", 'B0': "Resize_NotiWindow", 'O0': "administrative_area_level_3", 'L': 'In your circles', 'F0': "#ff9800", 'A0': "lCd Hyc fJb", 'y': "userRankArrPresent", 'n0': '查看全部', 'H': '&&sensor=false&_reqid=', 'b1': '人在你的 </br> 社交圈中', 'x0': "ssl.gstatic.com/s2/profiles/images/silhouette64.png", 'O': "#d01716", 'V': "gbaupdt", 'd0': "administrative_area_level_1", 'm0': '気象情報読み込み中...', 'Y': "userRankUpdateDate", 'C0': 'type', 'f1': 'アップデート', 'g0': "Ypa jw Yc am", 'E0': '</div></div></div><div class="Xp"></li></ul></div></div>', 'd': "", 'a1': '</span></h3><span role="button" class="d-s Hy Xc" id="gbweather" title="Flip to local weather card" tabindex="0" style="right: 135px;">', 'W0': null, 'G1': '</font></div></div></div></div>', 'd1': '人在 </br> 您的圈子中', 'e0': '"><img src="', 'e1': 'すべて表示', 't0': '<div class="B3 Kg"><ul class="Bx wg"><li class="Zz fj c7c" rowindex="0"><div class="N5 Mq"><div><div class="Sla">', 'D1': 'In </br> your circles', 'A1': "short_name", 'g1': "CmtBox_Animations", 'l1': "Posts_Opacity", 'K0': '" class="ho rgc" id="', 'c': 'px" alt="', 's': '" class="ob Jk" oid="', 'W': '正在載入天氣信息...', 'C1': "NotiWin_Animations", 'P0': 'ona Fdb bsa', 'r1': '" style="float: left;"><div class="gbrlvc">', 'k1': '更新排名', 'H0': "administrative_area_level_2", 'Z': "gbrlvc", 'b': "Tr TA", 'F': 12, 'm1': '<div class="Tr TA" componentid="6"><div class="card"><div class="Ee fP Ue front"><div class="a5 Gi"><h3 class="EY Ni zj"><span>', 'S0': 'GET', 'h': "cityNameLocalized", 'k0': '&rt=j', 'T': 10, 'l0': "#e51c23", 'q1': "WallofAvatars", 'r0': 'View all', 'h1': '" title="', 'M0': 'Loading weather...', 'v1': 'Update', 'E1': "Clock_Night_Indctr", 'I0': '人在你的社交圈中', 'm': 'https://maps.googleapis.com/maps/api/geocode/xml?language=', 'y1': "#9e9e9e", 'V0': '<div class="Ee fP back" style="display: none;"><font style="font-weight: bold;text-transform: uppercase;font-size: 26px;">', 'U': "NOT FOUND", 'o1': '<div class="w0a d-k-l qgc o-U-s" colindex="', 't1': 'undefined', 'p0': "Ee fP back", 'o': 1080, 's1': "ShareBox_Animations", 'R0': ");\nposition: fixed;\nopacity: ", 'u1': '"></a></div>', 'l': "IYC_Display", 'i1': "Background_Display", 'f': "Clock_Day_Indctr", 'w0': 'px" height="', 'n1': "currentLongitude", 'P': "IYC_Animations", 'q0': '-c-k/photo.jpg', 'j1': '/_/socialgraph/lookup/circles/?ct=2&m=true&tag=fg&_reqid=', 'B': "locality", 'E': 11, 'c0': "Clock_Font_Size", 'R': "currentLatitude", 'h0': '</span><span role="button" class="d-s Hy Xc" id="gbaupdt" title="Update circle ranks"tabindex="0" style="right: 65px;">', 'v0': 'Ypa jw Yc am', 'N': 1000000, 'f0': 'en-US', 'D': 'Default', 's0': 'click', 'b0': "Background_URL", 'g': 'long_name', 'j0': "Remove_Borders", 'J0': '天氣', 'o0': "Btn_Animations", 'Z0': "Background_Content_Type", 'F1': "cityName1033", 'i0': '正在载入天气信息...', 'X': "Background_Opacity", 'x1': "<img src='https://", 'Y0': true, 'u0': '檢視全部', 'p1': "#259b24", 'Q': " width='32px' height='32px' class='ho rgc'>", 'J': 'IYC_Data', 'w1': '</span></div>', 'z': "Scaling_Animations", 'y0': '人を </br> サークルに追加', 'p': 200 }; GM_addStyle = function (e) { var v = document.getElementsByTagName('head')[0], j = document.createElement('style'); if (!v) { return; } j.type = 'text/css'; try { j.innerHTML = e; } catch (i) { j.innerText = e; } v.appendChild(j); }; if (localStorage[a5a.l] == a5a.t1 || localStorage[a5a.l] == undefined) localStorage[a5a.l] = 'Display'; if (localStorage[a5a.q1] == a5a.t1 || localStorage[a5a.q1] == undefined) localStorage[a5a.q1] = '400'; if (localStorage["IYC_Num"] == a5a.t1 || localStorage["IYC_Num"] == undefined) localStorage["IYC_Num"] = '30'; if (localStorage["IYC_Size"] == a5a.t1 || localStorage["IYC_Size"] == undefined) localStorage["IYC_Size"] = '62'; if (localStorage["GIF_Avatars"] == a5a.t1 || localStorage["GIF_Avatars"] == undefined) localStorage["GIF_Avatars"] = 'Enabled'; if (localStorage[a5a.P] == a5a.t1 || localStorage[a5a.P] == undefined) localStorage[a5a.P] = 'Disabled'; if (localStorage[a5a.z] == a5a.t1 || localStorage[a5a.z] == undefined) localStorage[a5a.z] = 'Enabled'; if (localStorage[a5a.C1] == a5a.t1 || localStorage[a5a.C1] == undefined) localStorage[a5a.C1] = 'Enabled'; if (localStorage[a5a.g1] == a5a.t1 || localStorage[a5a.g1] == undefined) localStorage[a5a.g1] = 'Enabled'; if (localStorage[a5a.s1] == a5a.t1 || localStorage[a5a.s1] == undefined) localStorage[a5a.s1] = 'Enabled'; if (localStorage[a5a.o0] == a5a.t1 || localStorage[a5a.o0] == undefined) localStorage[a5a.o0] = 'Enabled'; if (localStorage["Clock_Fonts"] == a5a.t1 || localStorage["Clock_Fonts"] == undefined) localStorage["Clock_Fonts"] = 'Segoe UI Mono'; if (localStorage[a5a.c0] == a5a.t1 || localStorage[a5a.c0] == undefined) localStorage[a5a.c0] = '32'; if (localStorage["Clock_TS"] == a5a.t1 || localStorage["Clock_TS"] == undefined) localStorage["Clock_TS"] = 'Enabled'; if (localStorage[a5a.f] == a5a.t1 || localStorage[a5a.f] == undefined) localStorage[a5a.f] = '☼'; if (localStorage[a5a.E1] == a5a.t1 || localStorage[a5a.E1] == undefined) localStorage[a5a.E1] = '☪'; if (localStorage["Clock_Show"] == a5a.t1 || localStorage["Clock_Show"] == undefined) localStorage["Clock_Show"] = 'Show'; if (localStorage[a5a.j0] == a5a.t1 || localStorage[a5a.j0] == undefined) localStorage[a5a.j0] = 'Enabled'; if (localStorage["Remove_Gaps"] == a5a.t1 || localStorage["Remove_Gaps"] == undefined) localStorage["Remove_Gaps"] = 'Enabled'; if (localStorage[a5a.B0] == a5a.t1 || localStorage[a5a.B0] == undefined) localStorage[a5a.B0] = a5a.D; if (localStorage[a5a.Z0] == a5a.t1 || localStorage[a5a.Z0] == undefined) localStorage[a5a.Z0] = a5a.D; if (localStorage[a5a.b0] == a5a.t1 || localStorage[a5a.b0] == undefined) localStorage[a5a.b0] = 'None'; if (localStorage[a5a.X] == a5a.t1 || localStorage[a5a.X] == undefined) localStorage[a5a.X] = '1'; if (localStorage[a5a.l1] == a5a.t1 || localStorage[a5a.l1] == undefined) localStorage[a5a.l1] = '0.8'; if (localStorage[a5a.i1] == a5a.t1 || localStorage[a5a.i1] == undefined) localStorage[a5a.i1] = 'Tile'; if (localStorage[a5a.w] == a5a.t1 || localStorage[a5a.w] == undefined) localStorage[a5a.w] = '#F1F1F1'; if (localStorage[a5a.R] == a5a.t1 || localStorage[a5a.R] == undefined) localStorage[a5a.R] = a5a.t1; if (localStorage[a5a.n1] == a5a.t1 || localStorage[a5a.n1] == undefined) localStorage[a5a.n1] = a5a.t1; if (localStorage[a5a.F1] == a5a.t1 || localStorage[a5a.F1] == undefined) localStorage[a5a.F1] = a5a.t1; if (localStorage[a5a.T0] == a5a.t1 || localStorage[a5a.T0] == undefined) localStorage[a5a.T0] = a5a.t1; if (localStorage[a5a.h] == a5a.t1 || localStorage[a5a.h] == undefined) localStorage[a5a.h] = a5a.t1; function onLoad() { var v = { '首页': { language: 'zh-CN' }, '主頁': { language: 'zh-HK' }, '首頁': { language: 'zh-TW' }, 'ホーム': { language: 'ja' }, 'Default': { language: a5a.f0 } }, j; if (document.getElementsByClassName(a5a.A0).length > 0) { j = v[document.getElementsByClassName(a5a.A0)[0].textContent]; if (!j) j = v[a5a.D]; } else j = v[a5a.D]; var q = j.language, x; if (x == undefined) { navigator.geolocation.getCurrentPosition(function (i) { x = i; console.log(i); }, function (i) { console.error(i); }); } if (localStorage[a5a.R] != x.coords.latitude || localStorage[a5a.n1] != x.coords.longitude) { localStorage[a5a.R] = x.coords.latitude; localStorage[a5a.n1] = x.coords.longitude; } var K = localStorage[a5a.F1], M = new XMLHttpRequest(); M.onreadystatechange = function () { if (M.readyState == 4 && M.status == a5a.p) { var i = M.responseXML; for (var e = 0; e < i.getElementsByTagName(a5a.C0).length; e++) { if (i.getElementsByTagName(a5a.C0)[e].textContent == a5a.B) { localStorage[a5a.F1] = i.getElementsByTagName(a5a.C0)[e].parentNode.getElementsByTagName(a5a.A1)[0].textContent; break; } } if (localStorage[a5a.F1] == a5a.C || localStorage[a5a.F1] == undefined || localStorage[a5a.F1] == a5a.W0 || localStorage[a5a.F1] == a5a.d) { for (var e = 0; e < i.getElementsByTagName(a5a.C0).length; e++) { if (i.getElementsByTagName(a5a.C0)[e].textContent == a5a.O0) { localStorage[a5a.F1] = i.getElementsByTagName(a5a.C0)[e].parentNode.getElementsByTagName(a5a.A1)[0].textContent; break; } } } if (localStorage[a5a.F1] == a5a.C || localStorage[a5a.F1] == undefined || localStorage[a5a.F1] == a5a.W0 || localStorage[a5a.F1] == a5a.d) { for (var e = 0; e < i.getElementsByTagName(a5a.C0).length; e++) { if (i.getElementsByTagName(a5a.C0)[e].textContent == a5a.H0) { localStorage[a5a.F1] = i.getElementsByTagName(a5a.C0)[e].parentNode.getElementsByTagName(a5a.A1)[0].textContent; break; } } } if (localStorage[a5a.F1] == a5a.C || localStorage[a5a.F1] == undefined || localStorage[a5a.F1] == a5a.W0 || localStorage[a5a.F1] == a5a.d) { for (var e = 0; e < i.getElementsByTagName(a5a.C0).length; e++) { if (i.getElementsByTagName(a5a.C0)[e].textContent == a5a.d0) { localStorage[a5a.F1] = i.getElementsByTagName(a5a.C0)[e].parentNode.getElementsByTagName(a5a.A1)[0].textContent; break; } } } localStorage[a5a.T0] = i.getElementsByTagName('result')[5].getElementsByTagName(a5a.g)[1].textContent; } }; M.open(a5a.S0, 'https://maps.googleapis.com/maps/api/geocode/xml?language=en-US&&latlng=' + localStorage[a5a.R] + ',' + localStorage[a5a.n1] + a5a.H + (new Date().getTime() % a5a.N) + a5a.k0, a5a.Y0); M.send(); var G = new XMLHttpRequest(); G.onreadystatechange = function () { if (G.readyState == 4 && G.status == a5a.p) { var i = G.responseXML; for (var e = 0; e < i.getElementsByTagName(a5a.C0).length; e++) { if (i.getElementsByTagName(a5a.C0)[e].textContent == a5a.B) { localStorage[a5a.h] = i.getElementsByTagName(a5a.C0)[e].parentNode.getElementsByTagName(a5a.A1)[0].textContent; break; } } if (localStorage[a5a.h] == a5a.C || localStorage[a5a.h] == undefined || localStorage[a5a.h] == a5a.W0 || localStorage[a5a.h] == a5a.d) { for (var e = 0; e < i.getElementsByTagName(a5a.C0).length; e++) { if (i.getElementsByTagName(a5a.C0)[e].textContent == a5a.O0) { localStorage[a5a.h] = i.getElementsByTagName(a5a.C0)[e].parentNode.getElementsByTagName(a5a.A1)[0].textContent; break; } } } if (localStorage[a5a.h] == a5a.C || localStorage[a5a.h] == undefined || localStorage[a5a.h] == a5a.W0 || localStorage[a5a.h] == a5a.d) { for (var e = 0; e < i.getElementsByTagName(a5a.C0).length; e++) { if (i.getElementsByTagName(a5a.C0)[e].textContent == a5a.H0) { localStorage[a5a.h] = i.getElementsByTagName(a5a.C0)[e].parentNode.getElementsByTagName(a5a.A1)[0].textContent; break; } } } if (localStorage[a5a.h] == a5a.C || localStorage[a5a.h] == undefined || localStorage[a5a.h] == a5a.W0 || localStorage[a5a.h] == a5a.d) { for (var e = 0; e < i.getElementsByTagName(a5a.C0).length; e++) { if (i.getElementsByTagName(a5a.C0)[e].textContent == a5a.d0) { localStorage[a5a.h] = i.getElementsByTagName(a5a.C0)[e].parentNode.getElementsByTagName(a5a.A1)[0].textContent; break; } } } } }; G.open(a5a.S0, a5a.m + q + '&&latlng=' + localStorage[a5a.R] + ',' + localStorage[a5a.n1] + a5a.H + (new Date().getTime() % a5a.N) + a5a.k0, a5a.Y0); G.send(); } setTimeout(onLoad, 10000); var IYC_Display = localStorage[a5a.l], WallofAvatars = localStorage[a5a.q1], IYC_Num = localStorage["IYC_Num"], IYC_Size = localStorage["IYC_Size"], GIF_Avatars = localStorage["GIF_Avatars"], IYC_Animations = localStorage[a5a.P], Scaling_Animations = localStorage[a5a.z], NotiWin_Animations = localStorage[a5a.C1], CmtBox_Animations = localStorage[a5a.g1], ShareBox_Animations = localStorage[a5a.s1], Btn_Animations = localStorage[a5a.o0], Clock_Fonts = localStorage["Clock_Fonts"], Clock_Font_Size = localStorage[a5a.c0], Clock_TS = localStorage["Clock_TS"], Clock_Day_Indctr = localStorage[a5a.f], Clock_Night_Indctr = localStorage[a5a.E1], Clock_Show = localStorage["Clock_Show"], Remove_Borders = localStorage[a5a.j0], Remove_Gaps = localStorage["Remove_Gaps"], Resize_NotiWindow = localStorage[a5a.B0], Resize_NotiWindow_Actual_Size = Resize_NotiWindow - 30, Resize_NotiWindow_Post_Text_Size = Resize_NotiWindow - 50, Background_Content_Type = localStorage[a5a.Z0], Background_URL = localStorage[a5a.b0], Background_Opacity = localStorage[a5a.X], Posts_Opacity = localStorage[a5a.l1], Background_Display = localStorage[a5a.i1], Background_Color = localStorage[a5a.w]; function getIYC() { var O1 = { '首页': { head: '人在您的圈子中', weather: '天气', middle: a5a.k1, foot: a5a.n0, loading: a5a.i0 }, '主頁': { head: a5a.I0, weather: a5a.J0, middle: a5a.k1, foot: a5a.u0, loading: a5a.W }, '首頁': { head: a5a.I0, weather: a5a.J0, middle: a5a.k1, foot: a5a.u0, loading: a5a.W }, 'ホーム': { head: '人をサークルに追加', weather: '天気', middle: a5a.f1, foot: a5a.e1, loading: a5a.m0 }, 'Default': { head: a5a.L, weather: a5a.c1, middle: a5a.v1, foot: a5a.r0, loading: a5a.M0 } }, S1 = { '首页': { head: a5a.d1, weather: '天气', middle: a5a.k1, foot: a5a.n0, loading: a5a.i0 }, '主頁': { head: a5a.b1, weather: a5a.J0, middle: a5a.k1, foot: a5a.u0, loading: a5a.W }, '首頁': { head: a5a.b1, weather: a5a.J0, middle: a5a.k1, foot: a5a.u0, loading: a5a.W }, 'ホーム': { head: a5a.y0, weather: '天気', middle: a5a.f1, foot: a5a.e1, loading: a5a.m0 }, 'Default': { head: a5a.D1, weather: a5a.c1, middle: a5a.v1, foot: a5a.r0, loading: a5a.M0 } }; if (document.URL.match(/https:\/\/plus\.google\.com(\/u\/\d)?/)) { var U0 = new XMLHttpRequest(); U0.onreadystatechange = function () { if (U0.readyState == 4 && U0.status == a5a.p) { var K1 = eval('//' + U0.responseText), a = K1[0][0][2], u = new Array(), a0 = new Array(); localStorage.setItem(a5a.J, U0.responseText); var P1 = localStorage["IYC_Data"], z0; if (document.getElementsByClassName(a5a.A0).length > 0) { if (document.getElementsByClassName(a5a.g0).length > 0 && document.getElementsByClassName(a5a.g0)[0].clientWidth >= 400) { z0 = O1[document.getElementsByClassName(a5a.A0)[0].textContent]; if (!z0) z0 = O1[a5a.D]; } else { z0 = S1[document.getElementsByClassName(a5a.A0)[0].textContent]; if (!z0) z0 = S1[a5a.D]; } } else z0 = O1[a5a.D]; var V1; if (document.getElementsByClassName(a5a.P0)[0] != undefined) { if (document.getElementsByClassName(a5a.P0)[0].clientWidth >= a5a.o) V1 = document.getElementsByClassName(a5a.v0)[2]; else if (document.getElementsByClassName(a5a.P0)[0].clientWidth >= 720) V1 = document.getElementsByClassName(a5a.v0)[1]; } var M1 = a5a.t0; for (var A = 0; A < Math.min(a.length, WallofAvatars) ; A++) { u[A] = new Array(13); if (a[A] != undefined && a[A] != a5a.W0) { if (a[A][0] != undefined && a[A][2] != undefined && a[A][0] != a5a.W0 && a[A][2] != a5a.W0) { if (a[A][0][2] != undefined && a[A][2][0] != undefined && a[A][0][2] != a5a.W0 && a[A][2][0] != a5a.W0) { var L1 = a[A][0][2], I1 = a[A][2][0], n, D0; if (a[A][2][3] != undefined && a[A][2][3] != a5a.W0) n = a[A][2][3]; else n = 0.0; var k2 = a[A][2][19], c2 = a[A][0][0]; if (a[A][0][0] == undefined) c2 = 'N\/A'; if (a[A][2][8] != undefined && a[A][2][8] != a5a.W0) D0 = a[A][2][8]; else D0 = a5a.x0; var W1 = 'gbimg' + A; D0 = D0.replace('/photo.jpg', '/s' + 2 * IYC_Size + a5a.q0); var I = a5a.o1 + A + a5a.r1 + '' + a5a.N0 + L1 + a5a.s + L1 + a5a.e0 + D0 + '" width="' + IYC_Size + a5a.w0 + IYC_Size + a5a.c + I1 + a5a.K0 + W1 + '" oid="' + L1 + a5a.h1 + L1 + a5a.r + I1 + a5a.r + n + a5a.r + c2 + a5a.u1; if (A < Math.min(a.length, IYC_Num)) M1 += I; u[A][0] = L1; u[A][1] = I1; u[A][2] = n; u[A][3] = k2; u[A][7] = I1; u[A][a5a.T] = D0; } } } } Date.prototype.getDOY = function () { var i = new Date(this.getFullYear(), 0, 1); return Math.ceil((this - i) / 86400000); }; function X1(i) { var e = i.toString().split('.'); if (e[0].length >= 4) { e[0] = e[0].replace(/(\d)(?=(\d{3})+$)/g, '$1,'); } if (e[1] && e[1].length >= 4) { e[1] = e[1].replace(/(\d{3})/g, '$1 '); } return e.join('.'); }; if (localStorage[a5a.y] == undefined || localStorage[a5a.y] == a5a.d) { a0[0] = new Date().getFullYear(); a0[1] = new Date().getMonth(); a0[2] = new Date().getDate(); for (var A = 0; A < u.length; A++) { if (u[A] != undefined) { u[A][6] = a5a.Y0; u[A][8] = false; u[A][a5a.E] = false; } } localStorage[a5a.y] = JSON.stringify(u); localStorage[a5a.Y] = JSON.stringify(a0); } if (localStorage[a5a.Y] == undefined) { a0[0] = new Date().getFullYear(); a0[1] = new Date().getMonth(); a0[2] = new Date().getDate(); localStorage[a5a.Y] = JSON.stringify(a0); } else if (JSON.stringify(u) != localStorage[a5a.y]) { var B1 = JSON.parse(localStorage[a5a.y]), G0 = JSON.parse(localStorage[a5a.Y]), L0 = new Date(G0[0], G0[1], G0[2]); if ((G0[0] == new Date().getFullYear() && new Date().getDOY() - L0.getDOY() > 1) || (G0[0] < new Date().getFullYear())) { var Q0, X0; for (var S = 0; S < u.length; S++) { var R1 = B1[S][0]; for (k = 0; k < u.length; k++) { if (u[k] != undefined) { if (u[k][0] == R1) { Q0 = S - k; X0 = (B1[k][2] * 100 - u[S][2] * 100).toFixed(1); u[k][4] = Q0; u[k][5] = X0; if (S > IYC_Num - 1 && k <= IYC_Num - 1) { u[k][6] = a5a.Y0; } else if (S == k) { u[k][6] = false; } else if (S < IYC_Num - 1 && k <= IYC_Num - 1) { u[k][6] = false; } if (u[k][9] == a5a.W0) { u[k][9] = u[k][7]; } if (B1[k][7] == u[k][7]) { u[k][8] = false; u[k][9] = u[k][7]; } else if (B1[k][7] != u[k][7]) { u[k][8] = a5a.Y0; } if (u[k][a5a.F] == a5a.W0) { u[k][a5a.F] = u[k][a5a.T]; } if (B1[k][a5a.T] == u[k][a5a.T]) { u[k][a5a.E] = false; u[k][a5a.F] = u[k][a5a.T]; } else if (B1[k][9] != u[k][9]) { u[k][a5a.E] = a5a.Y0; } } } } } localStorage[a5a.y] = JSON.stringify(u); a0[0] = new Date().getFullYear(); a0[1] = new Date().getMonth(); a0[2] = new Date().getDate(); localStorage[a5a.Y] = JSON.stringify(a0); } } else { var B1 = JSON.parse(localStorage[a5a.y]), G0 = JSON.parse(localStorage[a5a.Y]), L0 = new Date(G0[0], G0[1], G0[2]); if ((G0[0] == new Date().getFullYear() && new Date().getDOY() - L0.getDOY() > 1) || (G0[0] < new Date().getFullYear())) { if (JSON.stringify(u) == localStorage[a5a.y]) { for (var S = 0; S < u.length; S++) { if (u[S] != undefined) { u[S][4] = 0; u[S][6] = false; u[S][8] = false; u[S][a5a.E] = false; } } localStorage[a5a.y] = JSON.stringify(u); a0[0] = new Date().getFullYear(); a0[1] = new Date().getMonth(); a0[2] = new Date().getDate(); localStorage[a5a.Y] = JSON.stringify(a0); } } } M1 += a5a.E0; var N1 = document.createElement('div'), J1 = "'" + a5a.z1 + "'"; N1.innerHTML += a5a.m1 + X1(a.length) + '&nbsp;' + z0.head + a5a.a1 + z0.weather + a5a.h0 + z0.middle + a5a.t + J1 + ')">' + z0.foot + a5a.w1 + M1 + a5a.V0 + z0.loading + a5a.G1; function H1() { var i = 'none', e = 'card'; if (document.getElementsByClassName(e)[0].childNodes[0].style.display != i) { document.getElementsByClassName(e)[0].className = 'card flipped'; setTimeout(function () { document.getElementsByClassName(e)[0].childNodes[1].style.display = ''; document.getElementsByClassName(e)[0].childNodes[0].style.display = i; }, a5a.p); } else if (document.getElementsByClassName(e)[0].childNodes[0].style.display == i) { document.getElementsByClassName(e)[0].className = e; setTimeout(function () { document.getElementsByClassName(e)[0].childNodes[0].style.display = ''; document.getElementsByClassName(e)[0].childNodes[1].style.display = i; }, a5a.p); } }; setInterval(function () { var i = 'gbweather'; if (document.getElementsByClassName('Sla').length == 0) { var e; if (document.getElementsByClassName(a5a.P0)[0] != undefined) { if (document.getElementsByClassName(a5a.P0)[0].clientWidth >= a5a.o) e = document.getElementsByClassName(a5a.v0)[2]; else if (document.getElementsByClassName(a5a.P0)[0].clientWidth >= 720) e = document.getElementsByClassName(a5a.v0)[1]; } if (typeof (e) == a5a.t1) return; e.insertBefore(N1, e.childNodes[0]); for (var v = 0; v < u.length; v++) { var j = JSON.parse(localStorage[a5a.y]), q, x, K, M, G; if (j[v][4] != a5a.W0 && j[v][4] != undefined) { if (j[v][4] > 0) q = "▲" + j[v][4] + " "; else if (j[v][4] == 0) q = "〓 " + " "; else if (j[v][4] < 0) q = "▼" + -j[v][4] + " "; } else q = a5a.d; if (j[v][5] != a5a.W0 && j[v][5] != undefined) { if (j[v][5] > 0) x = "(+" + j[v][5] + ") "; else if (j[v][5] == 0) x = a5a.d; else if (j[v][5] < 0) x = "(" + j[v][5] + ") "; } else x = a5a.d; if (j[v][6] == a5a.Y0) K = "NEW"; else K = a5a.d; if (j[v][8] == a5a.Y0) { M = j[v][9]; } else if (j[v][8] == false) { M = a5a.d; } if (j[v][a5a.E] == a5a.Y0) { G = a5a.x1 + j[v][a5a.F] + a5a.Q; } else if (j[v][a5a.E] == false) { G = a5a.d; } document.getElementsByClassName(a5a.Z)[v].innerText = q + x + K; if (j[v][4] > 0) document.getElementsByClassName(a5a.Z)[v].style.color = a5a.p1; else if (j[v][4] == 0) { document.getElementsByClassName(a5a.Z)[v].style.color = a5a.y1; document.getElementsByClassName(a5a.Z)[v].style.display = "none"; } else if (j[v][4] < 0 || j[v][4] < 0) document.getElementsByClassName(a5a.Z)[v].style.color = a5a.l0; else document.getElementsByClassName(a5a.Z)[v].style.color = a5a.F0; if (j[v][a5a.F] == a5a.x0) { document.getElementsByClassName(a5a.Z)[v].innerHTML = a5a.U; document.getElementsByClassName(a5a.Z)[v].style.color = a5a.O; document.getElementsByClassName(a5a.Z)[v].style.opacity = "1"; } document.getElementById(a5a.V).addEventListener(a5a.s0, updateManually); } } else if (document.getElementsByClassName(a5a.P0)[0] != undefined) { if (document.getElementsByClassName(a5a.P0)[0].clientWidth >= a5a.o) { if (document.getElementsByClassName(a5a.v0)[2].childNodes[0].childNodes[0].className != a5a.b) { document.getElementsByClassName(a5a.g0)[2].insertBefore(document.getElementsByClassName(a5a.b)[0], document.getElementsByClassName(a5a.g0)[2].firstChild); } } else if (document.getElementsByClassName(a5a.P0)[0].clientWidth >= 720) { if (document.getElementsByClassName(a5a.v0)[1].childNodes[0].childNodes[0].className != a5a.b) { document.getElementsByClassName(a5a.g0)[1].insertBefore(document.getElementsByClassName(a5a.b)[0], document.getElementsByClassName(a5a.g0)[1].firstChild); } } } if (document.getElementById(i) != undefined && document.getElementsByClassName(a5a.p0)[0] != undefined) { document.getElementById(i).removeEventListener(a5a.s0, H1, false); document.getElementsByClassName(a5a.p0)[0].removeEventListener(a5a.s0, H1, false); document.getElementById(i).addEventListener(a5a.s0, H1, false); document.getElementsByClassName(a5a.p0)[0].addEventListener(a5a.s0, H1, false); } }, 3000); } }; U0.open(a5a.S0, document.URL.match(/https:\/\/plus\.google\.com(\/b\/\d+)/) != undefined ? document.URL.match(/https:\/\/plus\.google\.com(\/b\/\d+)/)[0] + a5a.j1 + (new Date().getTime() % a5a.N) + a5a.k0 : document.URL.match(/https:\/\/plus\.google\.com(\/u\/\d)?/)[0] + a5a.j1 + (new Date().getTime() % a5a.N) + a5a.k0, a5a.Y0); U0.send(); } } function updateManually() { var N1 = { '首页': { head: '人在您的圈子中', weather: '天气', middle: a5a.k1, foot: a5a.n0, loading: a5a.i0 }, '主頁': { head: a5a.I0, weather: a5a.J0, middle: a5a.k1, foot: a5a.u0, loading: a5a.W }, '首頁': { head: a5a.I0, weather: a5a.J0, middle: a5a.k1, foot: a5a.u0, loading: a5a.W }, 'ホーム': { head: '人をサークルに追加', weather: '天気', middle: a5a.f1, foot: a5a.e1, loading: a5a.m0 }, 'Default': { head: a5a.L, weather: a5a.c1, middle: a5a.v1, foot: a5a.r0, loading: a5a.M0 } }, J1 = { '首页': { head: a5a.d1, weather: '天气', middle: a5a.k1, foot: a5a.n0, loading: a5a.i0 }, '主頁': { head: a5a.b1, weather: a5a.J0, middle: a5a.k1, foot: a5a.u0, loading: a5a.W }, '首頁': { head: a5a.b1, weather: a5a.J0, middle: a5a.k1, foot: a5a.u0, loading: a5a.W }, 'ホーム': { head: a5a.y0, weather: '天気', middle: a5a.f1, foot: a5a.e1, loading: a5a.m0 }, 'Default': { head: a5a.D1, weather: a5a.c1, middle: a5a.v1, foot: a5a.r0, loading: a5a.M0 } }; if (document.URL.match(/https:\/\/plus\.google\.com(\/u\/\d)?/)) { var H1 = new XMLHttpRequest(); H1.onreadystatechange = function () { if (H1.readyState == 4 && H1.status == a5a.p) { var v = eval('//' + H1.responseText), j = v[0][0][2], q = new Array(), x = new Array(); localStorage.setItem(a5a.J, H1.responseText); var K = localStorage["IYC_Data"], M; if (document.getElementsByClassName(a5a.A0).length > 0) { if (document.getElementsByClassName(a5a.g0).length > 0 && document.getElementsByClassName(a5a.g0)[0].clientWidth >= 400) { M = N1[document.getElementsByClassName(a5a.A0)[0].textContent]; if (!M) M = N1[a5a.D]; } else { M = J1[document.getElementsByClassName(a5a.A0)[0].textContent]; if (!M) M = J1[a5a.D]; } } else M = N1[a5a.D]; var G; if (document.getElementsByClassName(a5a.P0)[0] != undefined) { if (document.getElementsByClassName(a5a.P0)[0].clientWidth >= a5a.o) G = document.getElementsByClassName(a5a.v0)[2]; else if (document.getElementsByClassName(a5a.P0)[0].clientWidth >= 720) G = document.getElementsByClassName(a5a.v0)[1]; } var K1 = a5a.t0; for (var a = 0; a < Math.min(j.length, WallofAvatars) ; a++) { q[a] = new Array(13); if (j[a] != undefined && j[a] != a5a.W0) { if (j[a][0] != undefined && j[a][2] != undefined && j[a][0] != a5a.W0 && j[a][2] != a5a.W0) { if (j[a][0][2] != undefined && j[a][2][0] != undefined && j[a][0][2] != a5a.W0 && j[a][2][0] != a5a.W0) { var u = j[a][0][2], a0 = j[a][2][0], P1, z0; if (j[a][2][3] != undefined && j[a][2][3] != a5a.W0) P1 = j[a][2][3]; else P1 = 0.0; var V1 = j[a][2][19], M1 = j[a][0][0]; if (j[a][0][0] == undefined) M1 = 'N\/A'; if (j[a][2][8] != undefined && j[a][2][8] != a5a.W0) z0 = j[a][2][8]; else z0 = a5a.x0; var A = 'gbimg' + a; z0 = z0.replace('/photo.jpg', '/s' + 2 * IYC_Size + a5a.q0); var L1 = a5a.o1 + a + a5a.r1 + '' + a5a.N0 + u + a5a.s + u + a5a.e0 + z0 + '" width="' + IYC_Size + a5a.w0 + IYC_Size + a5a.c + a0 + a5a.K0 + A + '" oid="' + u + a5a.h1 + u + a5a.r + a0 + a5a.r + P1 + a5a.r + M1 + a5a.u1; if (a < Math.min(j.length, IYC_Num)) K1 += L1; q[a][0] = u; q[a][1] = a0; q[a][2] = P1; q[a][3] = V1; q[a][7] = a0; q[a][a5a.T] = z0; } } } } Date.prototype.getDOY = function () { var i = new Date(this.getFullYear(), 0, 1); return Math.ceil((this - i) / 86400000); }; function I1(i) { var e = i.toString().split('.'); if (e[0].length >= 4) { e[0] = e[0].replace(/(\d)(?=(\d{3})+$)/g, '$1,'); } if (e[1] && e[1].length >= 4) { e[1] = e[1].replace(/(\d{3})/g, '$1 '); } return e.join('.'); }; if (localStorage[a5a.y] == undefined || localStorage[a5a.y] == a5a.d) { x[0] = new Date().getFullYear(); x[1] = new Date().getMonth(); x[2] = new Date().getDate(); for (var a = 0; a < q.length; a++) { if (q[a] != undefined) { q[a][6] = a5a.Y0; q[a][8] = false; q[a][a5a.E] = false; } } localStorage[a5a.y] = JSON.stringify(q); localStorage[a5a.Y] = JSON.stringify(x); } if (localStorage[a5a.Y] == undefined) { x[0] = new Date().getFullYear(); x[1] = new Date().getMonth(); x[2] = new Date().getDate(); localStorage[a5a.Y] = JSON.stringify(x); } else if (JSON.stringify(q) != localStorage[a5a.y]) { var n = JSON.parse(localStorage[a5a.y]), D0 = JSON.parse(localStorage[a5a.Y]), k2 = new Date(D0[0], D0[1], D0[2]), c2, W1; for (var I = 0; I < q.length; I++) { var X1 = n[I][0]; for (k = 0; k < q.length; k++) { if (q[k] != undefined) { if (q[k][0] == X1) { c2 = I - k; W1 = (n[k][2] * 100 - q[I][2] * 100).toFixed(1); q[k][4] = c2; q[k][5] = W1; if (I > IYC_Num - 1 && k <= IYC_Num - 1) { q[k][6] = a5a.Y0; } else if (I == k) { q[k][6] = false; } else if (I < IYC_Num - 1 && k <= IYC_Num - 1) { q[k][6] = false; } if (q[k][9] == a5a.W0) { q[k][9] = q[k][7]; } if (n[k][7] == q[k][7]) { q[k][8] = false; q[k][9] = q[k][7]; } else if (n[k][7] != q[k][7]) { q[k][8] = a5a.Y0; } if (q[k][a5a.F] == a5a.W0) { q[k][a5a.F] = q[k][a5a.T]; } if (n[k][a5a.T] == q[k][a5a.T]) { q[k][a5a.E] = false; q[k][a5a.F] = q[k][a5a.T]; } else if (n[k][9] != q[k][9]) { q[k][a5a.E] = a5a.Y0; } } } } } localStorage[a5a.y] = JSON.stringify(q); x[0] = new Date().getFullYear(); x[1] = new Date().getMonth(); x[2] = new Date().getDate(); localStorage[a5a.Y] = JSON.stringify(x); } else { var n = JSON.parse(localStorage[a5a.y]), D0 = JSON.parse(localStorage[a5a.Y]), k2 = new Date(D0[0], D0[1], D0[2]); if ((D0[0] == new Date().getFullYear() && new Date().getDOY() - k2.getDOY() > 1) || (D0[0] < new Date().getFullYear())) { if (JSON.stringify(q) == localStorage[a5a.y]) { for (var I = 0; I < q.length; I++) { if (q[I] != undefined) { q[I][4] = 0; q[I][6] = false; q[I][8] = false; q[I][a5a.E] = false; } } localStorage[a5a.y] = JSON.stringify(q); x[0] = new Date().getFullYear(); x[1] = new Date().getMonth(); x[2] = new Date().getDate(); localStorage[a5a.Y] = JSON.stringify(x); } } } K1 += a5a.E0; var B1 = document.createElement('div'), G0 = "'" + a5a.z1 + "'"; B1.innerHTML += a5a.m1 + I1(j.length) + '&nbsp;' + M.head + a5a.a1 + M.weather + a5a.h0 + M.middle + a5a.t + G0 + ')">' + M.foot + a5a.w1 + K1 + a5a.V0 + M.loading + a5a.G1; if (document.getElementsByClassName(a5a.v0)[2] != undefined) { document.getElementsByClassName(a5a.v0)[2].firstChild.innerHTML = B1.innerHTML; for (var a = 0; a < q.length; a++) { var n = JSON.parse(localStorage[a5a.y]), L0, Q0, X0, S, R1; if (n[a][4] != a5a.W0 && n[a][4] != undefined) { if (n[a][4] > 0) L0 = "▲" + n[a][4] + " "; else if (n[a][4] == 0) L0 = "〓 " + " "; else if (n[a][4] < 0) L0 = "▼" + -n[a][4] + " "; } else L0 = a5a.d; if (n[a][5] != a5a.W0 && n[a][5] != undefined) { if (n[a][5] > 0) Q0 = "(+" + n[a][5] + ") "; else if (n[a][5] == 0) Q0 = a5a.d; else if (n[a][5] < 0) Q0 = "(" + n[a][5] + ") "; } else Q0 = a5a.d; if (n[a][6] == a5a.Y0) X0 = "NEW"; else X0 = a5a.d; if (n[a][8] == a5a.Y0) { S = n[a][9]; } else if (n[a][8] == false) { S = a5a.d; } if (n[a][a5a.E] == a5a.Y0) { R1 = a5a.x1 + n[a][a5a.F] + a5a.Q; } else if (n[a][a5a.E] == false) { R1 = a5a.d; } document.getElementsByClassName(a5a.Z)[a].innerText = L0 + Q0 + X0; if (n[a][4] > 0) document.getElementsByClassName(a5a.Z)[a].style.color = a5a.p1; else if (n[a][4] == 0) { document.getElementsByClassName(a5a.Z)[a].style.color = a5a.y1; } else if (n[a][4] < 0 || n[a][4] < 0) document.getElementsByClassName(a5a.Z)[a].style.color = a5a.l0; else document.getElementsByClassName(a5a.Z)[a].style.color = a5a.F0; if (n[a][a5a.F] == a5a.x0) { document.getElementsByClassName(a5a.Z)[a].innerHTML = a5a.U; document.getElementsByClassName(a5a.Z)[a].style.color = "rgba(255, 10, 0, 0.9)"; document.getElementsByClassName(a5a.Z)[a].style.opacity = a5a.O; } document.getElementById(a5a.V).addEventListener(a5a.s0, updateManually); } } else if (document.getElementsByClassName(a5a.v0)[1] != undefined) { document.getElementsByClassName(a5a.v0)[1].firstChild.innerHTML = B1.innerHTML; for (var a = 0; a < q.length; a++) { var n = JSON.parse(localStorage[a5a.y]), L0, Q0, X0, S, R1; if (n[a][4] != a5a.W0 && n[a][4] != undefined) { if (n[a][4] > 0) L0 = "▲" + n[a][4] + " "; else if (n[a][4] == 0) L0 = "〓 " + " "; else if (n[a][4] < 0) L0 = "▼" + -n[a][4] + " "; } else L0 = a5a.d; if (n[a][5] != a5a.W0 && n[a][5] != undefined) { if (n[a][5] > 0) Q0 = "(+" + n[a][5] + ") "; else if (n[a][5] == 0) Q0 = a5a.d; else if (n[a][5] < 0) Q0 = "(" + n[a][5] + ") "; } else Q0 = a5a.d; if (n[a][6] == a5a.Y0) X0 = "NEW"; else X0 = a5a.d; if (n[a][8] == a5a.Y0) { S = n[a][9]; } else if (n[a][8] == false) { S = a5a.d; } if (n[a][a5a.E] == a5a.Y0) { R1 = a5a.x1 + n[a][a5a.F] + a5a.Q; } else if (n[a][a5a.E] == false) { R1 = a5a.d; } document.getElementsByClassName(a5a.Z)[a].innerText = L0 + Q0 + X0; if (n[a][4] > 0) document.getElementsByClassName(a5a.Z)[a].style.color = a5a.p1; else if (n[a][4] == 0) { document.getElementsByClassName(a5a.Z)[a].style.color = a5a.y1; } else if (n[a][4] < 0 || n[a][4] < 0) document.getElementsByClassName(a5a.Z)[a].style.color = a5a.l0; else document.getElementsByClassName(a5a.Z)[a].style.color = a5a.F0; if (n[a][a5a.F] == a5a.x0) { document.getElementsByClassName(a5a.Z)[a].innerHTML = a5a.U; document.getElementsByClassName(a5a.Z)[a].style.color = a5a.O; document.getElementsByClassName(a5a.Z)[a].style.opacity = "1"; } document.getElementById(a5a.V).addEventListener(a5a.s0, updateManually); } } } }; H1.open(a5a.S0, document.URL.match(/https:\/\/plus\.google\.com(\/b\/\d+)/) != undefined ? document.URL.match(/https:\/\/plus\.google\.com(\/b\/\d+)/)[0] + a5a.j1 + (new Date().getTime() % a5a.N) + a5a.k0 : document.URL.match(/https:\/\/plus\.google\.com(\/u\/\d)?/)[0] + a5a.j1 + (new Date().getTime() % a5a.N) + a5a.k0, a5a.Y0); H1.send(); } } if (IYC_Display == 'Display') { getIYC(); } var css_Stream_Profile_Photo = ".Uk.wi.hE {\nheight: 64px !important;\nmargin-top: 10px !important;\nwidth: 64px !important;\n}\n\n.Ol.Rf, .fK {\n-webkit-transition:all .5s ease;\n-moz-transition:all .5s ease;\n-o-transition:all .5s ease;\n}\n\n.Ol.Rf:hover {\n-webkit-transform:scale(1.5);\n-moz-transform:scale(1.5);\n-o-transform:scale(1.5);\n-webkit-transition:all .5s ease;\n-moz-transition:all .5s ease;\n-o-transition:all .5s ease;\n}\n}", css_Profile_Photo_Animations = ".Ol.Rf:hover, .fK:hover, .Ut:hover {\n-webkit-transform:scale(1.5);\n-moz-transform:scale(1.5);\n-o-transform:scale(1.5);\n-webkit-transition:all .5s ease;\n-moz-transition:all .5s ease;\n-o-transition:all .5s ease;\n}\n}", css_Upper_Right = ".hp, .qu {\nbackground-color: transparent !important;\n}\n\n.Om {\nwidth: 275px !important;\n}\n\n.bja {\nwidth: auto;\n}\n\n.TA {\npadding-top: 0px !important;\n}\n\n.ag, .fK, .Zb {\nheight: 48px !important;\nwidth: 48px !important;\n}\n\n#gbimg0, #gbimg1 {\nwidth: 128px;\nheight: 128px;\n-webkit-transform:scale(1);\n-moz-transform:scale(1);\n-o-transform:scale(1);\n-webkit-transform:rotate(0deg);\n-moz-transform:rotate(0deg);\n-o-transform:rotate(0deg);\n-webkit-transition:all 1s ease;\n-moz-transition:all 1s ease;\n-o-transition:all 1s ease;\n}\n\n#gbimg0:hover, #gbimg1:hover {\n-webkit-transform:scale(1);\n-moz-transform:scale(1);\n-o-transform:scale(1);\n-webkit-transform:rotate(360deg);\n-moz-transform:rotate(360deg);\n-o-transform:rotate(360deg);\n-webkit-transition:all 1s ease;\n-moz-transition:all 1s ease;\n-o-transition:all 1s ease;\n}\n\n#gbimg2, #gbimg3, #gbimg4 {\nwidth: 85.33px;\nheight: 85.33px;\n-webkit-transform:scale(1);\n-moz-transform:scale(1);\n-o-transform:scale(1);\n-webkit-transform:rotate(0deg);\n-moz-transform:rotate(0deg);\n-o-transform:rotate(0deg);\n-webkit-transition:all 1s ease;\n-moz-transition:all 1s ease;\n-o-transition:all 1s ease;\n}\n\n#gbimg2:hover, #gbimg3:hover, #gbimg4:hover {\n-webkit-transform:scale(1);\n-moz-transform:scale(1);\n-o-transform:scale(1);\n-webkit-transform:rotate(360deg);\n-moz-transform:rotate(360deg);\n-o-transform:rotate(360deg);\n-webkit-transition:all 1s ease;\n-moz-transition:all 1s ease;\n-o-transition:all 1s ease;\n}\n\n#gbimg5, #gbimg6, #gbimg7, #gbimg8 {\nwidth: 64px;\nheight: 64px;\n-webkit-transform:scale(1);\n-moz-transform:scale(1);\n-o-transform:scale(1);\n-webkit-transform:rotate(0deg);\n-moz-transform:rotate(0deg);\n-o-transform:rotate(0deg);\n-webkit-transition:all 1s ease;\n-moz-transition:all 1s ease;\n-o-transition:all 1s ease;\n}\n\n#gbimg5:hover, #gbimg6:hover, #gbimg7:hover, #gbimg8:hover {\n-webkit-transform:scale(1);\n-moz-transform:scale(1);\n-o-transform:scale(1);\n-webkit-transform:rotate(360deg);\n-moz-transform:rotate(360deg);\n-o-transform:rotate(360deg);\n-webkit-transition:all 1s ease;\n-moz-transition:all 1s ease;\n-o-transition:all 1s ease;\n}\n\n#gbimg9, #gbimg10, #gbimg11, #gbimg12, #gbimg13 {\nwidth: 51.2px;\nheight: 51.2px;\n-webkit-transition:all 1s ease;\n-moz-transition:all 1s ease;\n-o-transition:all 1s ease;\n}\n\n#gbimg9:hover, #gbimg10:hover, #gbimg11:hover, #gbimg12:hover, #gbimg13:hover {\n-webkit-transform:scale(3);\n-moz-transform:scale(3);\n-o-transform:scale(3);\n-webkit-transition:all 1s ease;\n-moz-transition:all 1s ease;\n-o-transition:all 1s ease;\n}\n\n#gbimg14, #gbimg15, #gbimg16, #gbimg17, #gbimg18, #gbimg19 {\nwidth: 42.66px;\nheight: 42.66px;\n-webkit-transition:all 1s ease;\n-moz-transition:all 1s ease;\n-o-transition:all 1s ease;\n}\n\n#gbimg14:hover, #gbimg15:hover, #gbimg16:hover, #gbimg17:hover, #gbimg18:hover, #gbimg19:hover {\n-webkit-transform:scale(3);\n-moz-transform:scale(3);\n-o-transform:scale(3);\n-webkit-transition:all 1s ease;\n-moz-transition:all 1s ease;\n-o-transition:all 1s ease;\n}\n\n#gbimg20, #gbimg21, #gbimg22, #gbimg23, #gbimg24, #gbimg25, #gbimg26 {\nwidth: 36.57px;\nheight: 36.57px;\n-webkit-transition:all 1s ease;\n-moz-transition:all 1s ease;\n-o-transition:all 1s ease;\n}\n\n#gbimg20:hover, #gbimg21:hover, #gbimg22:hover, #gbimg23:hover, #gbimg24:hover, #gbimg25:hover, #gbimg26:hover {\n-webkit-transform:scale(3);\n-moz-transform:scale(3);\n-o-transform:scale(3);\n-webkit-transition:all 1s ease;\n-moz-transition:all 1s ease;\n-o-transition:all 1s ease;\n}\n\n#gbimg27, #gbimg28, #gbimg29, #gbimg30, #gbimg31, #gbimg32, #gbimg33, #gbimg34 {\nwidth: 32px;\nheight: 32px;\n-webkit-transition:all 1s ease;\n-moz-transition:all 1s ease;\n-o-transition:all 1s ease;\n}\n\n#gbimg27:hover, #gbimg28:hover, #gbimg29:hover, #gbimg30:hover, #gbimg31:hover, #gbimg32:hover, #gbimg33:hover, #gbimg34:hover {\n-webkit-transform:scale(3);\n-moz-transform:scale(3);\n-o-transform:scale(3);\n-webkit-transition:all 1s ease;\n-moz-transition:all 1s ease;\n-o-transition:all 1s ease;\n}\n\n#gbimg35, #gbimg36, #gbimg37, #gbimg38, #gbimg39, #gbimg40, #gbimg41, #gbimg42, #gbimg43 {\nwidth: 28.44px;\nheight: 28.44px;\n-webkit-transition:all 1s ease;\n-moz-transition:all 1s ease;\n-o-transition:all 1s ease;\n}\n\n#gbimg35:hover, #gbimg36:hover, #gbimg37:hover, #gbimg38:hover, #gbimg39:hover, #gbimg40:hover, #gbimg41:hover, #gbimg42:hover, #gbimg43:hover {\n-webkit-transform:scale(3);\n-moz-transform:scale(3);\n-o-transform:scale(3);\n-webkit-transition:all 1s ease;\n-moz-transition:all 1s ease;\n-o-transition:all 1s ease;\n}\n\n#gbimg44, #gbimg45, #gbimg46, #gbimg47, #gbimg48, #gbimg49, #gbimg50, #gbimg51, #gbimg52, #gbimg53 {\nwidth: 25.6px;\nheight: 25.6px;\n-webkit-transition:all 1s ease;\n-moz-transition:all 1s ease;\n-o-transition:all 1s ease;\n}\n\n#gbimg44:hover, #gbimg45:hover, #gbimg46:hover, #gbimg47:hover, #gbimg48:hover, #gbimg49:hover, #gbimg50:hover, #gbimg51:hover, #gbimg52:hover, #gbimg53:hover {\n-webkit-transform:scale(3);\n-moz-transform:scale(3);\n-o-transform:scale(3);\n-webkit-transition:all 1s ease;\n-moz-transition:all 1s ease;\n-o-transition:all 1s ease;\n}\n}", css_Icons = ".hp, .qu {\nbackground-color: transparent !important;\n}\n\n.bja {\nwidth: auto;\n}\n\n.Ala {\npadding-top: 20px !important;\nmargin-top: 0px !important;\ntop: initial !important;\n}\n\n.go {\nheight: 48px !important;\nwidth: 48px !important;\n}\n\n.go {\nborder-radius: 50% !important;\n}\n\n.roster_row>button>img, .ho {\nborder-radius: 50% !important;\n}\n\n.co {\nborder-radius: 50% !important;\n}\n\n.om {\nborder-radius: 50% !important;\n}.Wh {\nmargin: 0 0 0 -52px !important;\n}\n\n.oBNzfb {\npadding-left: 0 !important;\n}\n}", css_Settings_Card_Your_Photo = "#gbmpi {\nheight: 128px !important;\nwidth: 128px !important;\n}\n}", css_Mention_List = ".t-C-J {\nheight: 48px !important;\nwidth: 48px !important;\n}\n}", css_Notification_Photos_and_Border = ".om {\nborder: 0px solid #444 !important;\nheight: 56px !important;\nwidth: 56px !important;\nmargin-top: -6px !important;\n}\n\n.Lv {\nheight: 56px !important;\nwidth: 56px !important;\n}\n\n.Kaa {\nborder: 0px solid black !important;\ntop: -4px !important;\nleft: 2px !important;\n}\n\n.Jaa {\nborder: 0px solid #3D3D3D !important;\ntop: -2px !important;\nleft: 4px !important;\n}\n\n.Gf.Lu {\nheight: 56px !important;\nwidth: 56px !important;\nmargin-top: -6px !important;\n}\n\n.WtbUqb.Wm.F76eVc {\nborder: 0px solid black !important;\ntop: -2px !important;\nleft: 4px !important;\n}\n\n.WtbUqb.Wm.G31rIe {\nborder: 0px solid #3D3D3D !important;top: -4px !important;\nleft: 2px !important;\n}\n\n.wE.dPbJNd.iK.ek {\nwidth: 56px !important;\nheight: 56px !important;\n}\n\n.dPbJNd.iK.ek.Lu {\nwidth: 56px !important;\nheight: 56px !important;\n}\n\nspan.Xm, img.Xm {\nborder: 0px solid #444 !important;\n}\n\ndiv.Gf.no {\nheight: 52px !important;\nwidth: 52px !important;\n}\n}", css_Notifications_Animations = ".Jc.yl.jfa.en:hover {\n background-color: red;\n -webkit-transition: background-color 1s linear, color 1s linear, width 1s linear;\n -moz-transition: background-color 1s linear, color 1s linear, width 1s linear;\n -o-transition: background-color 1s linear, color 1s linear, width 1s linear;\n-webkit-transition-duration:1s;\n-moz-transition-duration:1s;\n-o-transition-duration:1s;\n}\n\n.Jc.yl.jfa.mfa:hover {\n background-color: aqua;\n -webkit-transition: background-color 1s linear, color 1s linear, width 1s linear;\n -moz-transition: background-color 1s linear, color 1s linear, width 1s linear;\n -o-transition: background-color 1s linear, color 1s linear, width 1s linear;\n-webkit-transition-duration:1s;\n-moz-transition-duration:1s;\n-o-transition-duration:1s;\n}\n}", css_Buttons_Animations = ".d-k-l.b-c:hover {\n-webkit-transform: scale(1.2);\n-moz-transform: scale(1.2);\n-o-transform: scale(1.2);\n-webkit-transition-duration:.0s;\n-moz-transition-duration:.0s;\n-o-transition-duration:.0s;\n}\n}", css_Share_Box_Animations = ".Ff {\nbackground: white;\n-webkit-transition: background-color 1s linear, color 1s linear, width 1s linear !important;\n-moz-transition: background-color 1s linear, color 1s linear, width 1s linear !important;\n-o-transition: background-color 1s linear, color 1s linear, width 1s linear !important;\n}\n\n.Ff:hover {\nbackground: aqua;\n-webkit-transition: background-color 1s linear, color 1s linear, width 1s linear;\n-moz-transition: background-color 1s linear, color 1s linear, width 1s linear;\n-o-transition: background-color 1s linear, color 1s linear, width 1s linear;\n}\n}", css_Notifications_Resize_Arrangement = "#gbwc {\nwidth: " + Resize_NotiWindow + "px !important;\n}\n\n#gbsf {\nwidth: " + Resize_NotiWindow + "px !important;\n}\n\n#gbd1 {\nwidth: " + Resize_NotiWindow + "px !important;\n}\n\n.lfa {\nwidth: " + Resize_NotiWindow_Post_Text_Size + "px !important;\n}\n\n.Laa {\nmax-height: 64px !important;\n}.Yy>.Tg.Sb {\nwidth: auto !important;\n}\n\n.Yy.oeIGR {\nwidth: auto !important;\n}\n\n.ws .Yy {\npadding-bottom: 0 !important;\npadding-top: 0 !important;\n}\n\n.zl .ws {\npadding-left: 0 !important;\npadding-right: 0 !important;\n}\n\n.gbmwc.gbmwca.gbem, .gbmwc.gbmwca.gbexxl {\nright: 0 !important;\n}\n}", css_Notifications_Fix = ".wm.VC {\npadding-left: 0px !important;\n}\n}", css_Remove_Photos_Border = ".Fg {\nbackground-color: white !important;\n}\n\n.Km, .Lm, .Jt, .It {border-left: 0px solid transparent !important;\nborder-right: 0px solid transparent !important;\nborder-top: 0px solid transparent !important;\nborder-bottom: 0px solid transparent !important;}\n\n\n}", css_Comment_Box_Animations = ".Tt.bj {\nheight: 30px;\n-webkit-transition:all .5s ease;\n-moz-transition:all .5s ease;\n-o-transition:all .5s ease;\n}\n\n.Tt.bj:hover {\nheight: 58px;\n-webkit-transition:all .5s ease;\n-moz-transition:all .5s ease;\n-o-transition:all .5s ease;\n}\n}", css_Suggestions_Text_Arrangement = ".ala {\nmargin-left: 20px !important;\n}\n\n.QK {\nmargin-top: 20px !important;\n}\n}", css_Photo_Wall = ".yp {\nmin-height: 180px !important;\nwidth: 940px !important;\n}\n\n.uc {\nheight: 180px !important;\nwidth: 180px !important;\nmargin: 0px !important;\n}\n\n.fz {\nheight: 180px !important;\nwidth: 180px !important;\n}\n\n.aq {\nmargin-top: 0px !important;\n}\n\n.GT {\nwidth: 0px !important;\n}.Vt {\n-webkit-box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.1) !important;\n-moz-box-shadow: 0px 0px 0px rgba(0,0,0,0.1) !important;\nbox-shadow: 0px 0px 0px rgba(0, 0, 0, 0.1) !important;\nbackground-color: transparent !important;\nborder: 0px solid #E3E3E3 !important;\n}\n\n.lCa {\nbackground-color: transparent !important;\n}\n\n.vCa {\n-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .1) !important;\n-moz-box-shadow: 0 0 0 rgba(0,0,0,.1) !important;\nbox-shadow: 0 0 0 rgba(0, 0, 0, .1) !important;\nbackground-color: transparent !important;\nborder: 0px solid #CCC !important;\n}\n\n.g-oa-Sa-R-ca {\nbackground-color: transparent !important;\n}\n\n.Oka {\nborder-right: 0px solid #CCC !important;\nborder-left: 0px solid #CCC !important;\nborder-bottom: 0px solid #CCC !important;\nmargin: -5px 3px 0 5px !important;\nwidth: 250px !important;\n}\n\n.KC {\npadding: 10px 0px 5px 15px !important;\n}\n\n.Xt {\nbackground-color: transparent !important;\nborder: 0px solid #DDD !important;\n}\n}", css_Background_Image_Norm = ".CF.he {\nbackground: no-repeat url(" + Background_URL + a5a.R0 + Background_Opacity + ";\n}\n\n#contentPane {\nbackground: no-repeat url(" + Background_URL + a5a.R0 + Background_Opacity + ";\n}\n}", css_Background_Image_Tile = ".CF.he {\nbackground: url(" + Background_URL + a5a.R0 + Background_Opacity + ";\n}\n\n#contentPane {\nbackground: url(" + Background_URL + a5a.R0 + Background_Opacity + ";\n}\n}", css_Background_Color = "#contentPane {\nbackground: " + Background_Color + ";\n}\n\n.Vra {\nbackground: " + Background_Color + " !important;\n}\n}", css_Posts_Opacity = ".Sb, .Pvkdsd, .kJHn5, .Fg, .Hw, .bI, .ii, .Je, .EyKftc.HWTYYe .Ng, #sync_container, .Um8btf, .RWa.KiWa0b .Teb, .xWa, .ZX, .cuuzrf {\nbackground-color: transparent !important;\n}\n\n.r6Rtbe, .Om, .On, .EyKftc {\nbackground-color: rgba(245,245,245," + Posts_Opacity + ") !important;\n-webkit-border-radius: 0px !important;\nborder-radius: 0px !important;\n}\n\n.ZuZuKf, .xe, .i-j-h-tb-x, .Od.esw, .dk, .iYjCM, .wH3YRe, .c-b-T, .Rm {\nbackground-color: rgba(245,245,245," + Posts_Opacity + ") !important;\n}\n\n.a-q, .u8yTrb {\nbackground-color: rgba(255,255,255," + Posts_Opacity + ") !important;\n}\n.dJa, .Yo, .Bb, .Xp, .YA {\nbackground-color: transparent !important;\n}\n\n.Xb {\nbackground-color: rgba(245,245,245," + Posts_Opacity + ") !important;\n}\n\n.Teb, .gbnotify, .jt {\nbackground-color: rgba(245, 245, 245, " + Posts_Opacity + ") !important;\n}\n\n.woHNpb {\nopacity: 0 !important;\n}\n}", css_Relevance_Aprox = ".gbrlvc:hover {opacity: 1;-webkit-transition: all .5s ease-in-out;font-weight: bold;}.gbrlvc {opacity: 0.9;position: absolute;background-color: #fff;-webkit-transition: all .5s ease-in-out;z-index: 1;font-weight: normal;font-size: 12px;}", css_Time_Div = ".Yc {font: 11px arial,sans-serif;margin-top: -7px;position: relative;-webkit-transition: opacity .218s;-moz-transition: opacity .218s;-o-transition: opacity .218s;transition: opacity .218s;filter: alpha(opacity=0);opacity: 0;}.Yc:hover {font: 11px arial,sans-serif;margin-top: -7px;position: relative;-webkit-transition: opacity .218s;-moz-transition: opacity .218s;-o-transition: opacity .218s;transition: opacity .218s;filter: alpha(opacity=1);opacity: 1;}", css_Time_Text = ".time {\n-webkit-transition:all 2s ease;\n-moz-transition:all 2s ease;\n-o-transition:all 2s ease;\nmax-height: 300px;\n}\n\n.time_Text{\nborder-radius: 16px;\nline-height: 32px;\nmargin-right: 6px;\n}\n}", css_Flip_Cards = ".Tr.TA {\n-webkit-perspective: 800;\npadding-top: 0px !important;\n}\n\n.Tr.TA .card.flipped {\n-webkit-transform: rotatey(180deg);\n}\n\n.Tr.TA .card {\n-webkit-transform-style: preserve-3d;\n-webkit-transition: 0.8s;\n}\n\n.Tr.TA .card .ge.lO {\nz-index: 2;\n}\n.Tr.TA .card .front {\nz-index: 1;\ncursor: pointer;\n}\n\n.Tr.TA .card .back {\n-webkit-transform: rotatey(180deg);\ncursor: pointer;\nheight: auto;\nwidth: auto;\n}\n\n.On {\nbackground-color: #fff;\nwidth: auto;\nmargin: 10px 0 20px 0;\n}\n}", css_Weather_Now = ".content-box {\nborder-radius:3px;\nbox-shadow: rgba(0, 0, 0, 0.2) 0px 2px 2px, rgba(0, 0, 0, 0.0470588) 0px 0px 0px 1px;\ndisplay: -webkit-box;\ncolor: #666;\n}\n\n.content-box h2 {\nfont-size: 22px;\nfont-weight: normal;\n}\n\n#box-weather {\n-webkit-box-orient: vertical;\npadding: 20px;\n}\n\n#box-weather h2 {\nmargin: 0px;\n}\n\n#weather-date {\nfont-size: 16px;\n}\n#weather-current {\n-webkit-box-align: center;\n-webkit-box-orient: horizontal;\ndisplay: -webkit-box;\npadding-top: 10px;\nwidth: 300px;\n}\n\n#weather-current-box {\n-webkit-box-orient: vertical;\ndisplay: -webkit-box;\nfont-size: 16px;\npadding-left: 10px;\nwidth: 140px;\n}\n\n#weather-current-icon {\nwidth: 96px;\nheight: 96px;\n}\n\n#weather-current-temperature {\n-webkit-box-align: start;\n-webkit-box-orient: horizontal;\ndisplay: -webkit-box;\n}\n\n#weather-temperature {\ncolor: #666;\ndisplay: -webkit-box;\nfont-size: 96px;\npadding-left: 20px;\n}\n\n#celsius {\ndisplay: -webkit-box;\nposition: relative;\ntop: 10px;\n}\n\n#weather-forecast-box {\n-webkit-box-orient: horizontal;\n-webkit-box-pack: justify;\ndisplay: -webkit-box;\npadding: 15px 0px 0 8px;\n}\n\n.weather-forecast div {\ncolor: #666;\nfont-size: 14px;\ntext-align: center;\ntext-transform: uppercase;\n}\n\n.weather-forecast img {\nwidth: 64px;\nheight: 64px;\n}\n\n.temperature-high {\ncolor: #666;\n}\n\n.temperature-low {\ncolor: #AAA;\n}\n\n#weather-geolocation-permission {\ndisplay: -webkit-box;\noverflow: hidden;\npadding-top: 16px;\n-webkit-transition: height 200ms;\n}\n\n#weather-geolocation-permission.hidden {\nheight: 0;\n}\n\n#weather-geolocation-permission a:hover {\ncolor: #000;\ntext-decoration: none;\n}\n\n.weather-forecast {\nborder-right: 2px solid #DDD;\npadding-right: 20px;\n}\n\n#weather-condition {\ntext-transform: uppercase;\n}\n\n.weather-forecast.last-forecast {\nborder: none;\n}\n}", css_Posts_Overflow = ".ee3yFe>.ChZ7Rc {\noverflow-x: hidden;\n}\n}"; GM_addStyle(css_Stream_Profile_Photo); GM_addStyle(css_Profile_Photo_Animations); GM_addStyle(css_Flip_Cards); GM_addStyle(css_Weather_Now); GM_addStyle(css_Posts_Overflow); if (IYC_Animations == "Enabled") GM_addStyle(css_Upper_Right); else GM_addStyle(css_Icons); GM_addStyle(css_Settings_Card_Your_Photo); GM_addStyle(css_Mention_List); if (Remove_Borders == "Enabled") GM_addStyle(css_Notification_Photos_and_Border); if (NotiWin_Animations == "Enabled") GM_addStyle(css_Notifications_Animations); if (Btn_Animations == "Enabled") GM_addStyle(css_Buttons_Animations); if (ShareBox_Animations == "Enabled") GM_addStyle(css_Share_Box_Animations); if (Resize_NotiWindow !== "Default") GM_addStyle(css_Notifications_Resize_Arrangement); GM_addStyle(css_Notifications_Fix); if (Remove_Borders == "Enabled") GM_addStyle(css_Remove_Photos_Border); if (CmtBox_Animations == "Enabled") GM_addStyle(css_Comment_Box_Animations); GM_addStyle(css_Suggestions_Text_Arrangement); if (Background_Content_Type == "Image" && Background_Display == "Tile") { GM_addStyle(css_Background_Image_Tile); GM_addStyle(css_Posts_Opacity); } else if (Background_Content_Type == "Image" && Background_Display == "Normal") { GM_addStyle(css_Background_Image_Norm); GM_addStyle(css_Posts_Opacity); } else if (Background_Content_Type == "Color") { GM_addStyle(css_Background_Color); }; GM_addStyle(css_Relevance_Aprox); if (Clock_Show == 'Show') { GM_addStyle(css_Time_Text); } if (GIF_Avatars == "Enabled") { function replaceImg(i) { if (i && i.src) { var e = i.clientHeight != 0 ? i.clientHeight * 2 : 64; i.src = i.src.replace(/s\d{2,}-c-k/g, 's' + e + '-c').replace('photo.jpg', 'photo.gif').replace(/\?sz=\d{2,}/, ''); return i.src; } }; function batchReplace(i) { if (i && i.length) for (var e = 0; e < i.length; e++) replaceImg(i[e]); }; batchReplace(document.body.getElementsByClassName('hE')); batchReplace(document.body.getElementsByClassName('ho')); batchReplace(document.body.getElementsByClassName('go')); document.body.addEventListener('DOMNodeInserted', function (i) { if (i.target.nodeType != 3 && i.target.tagName == 'DIV') { batchReplace(i.target.getElementsByClassName('hE')); batchReplace(i.target.getElementsByClassName('ho')); batchReplace(i.target.getElementsByClassName('go')); batchReplace(i.target.getElementsByClassName('we')); batchReplace(i.target.getElementsByClassName('e4a')); batchReplace(i.target.getElementsByClassName('t-C-J')); } }, false); }; function fillZero(i) { if (i < a5a.T) { i = '0' + i; } return i; } function currentWeather() { var W1 = { '首页': { language: 'zh-CN' }, '主頁': { language: 'zh-HK' }, '首頁': { language: 'zh-TW' }, 'ホーム': { language: 'ja' }, 'Default': { language: a5a.f0 } }, I, X1, B1, G0, L0, Q0, X0, S, R1, N1, J1, H1, O1, S1, U0, Y1, m2, d2, e2, Q1, Z1, n2, g2, f2, T1, b2, o2, i2, h2, U1, a2, j2; if (document.getElementsByClassName(a5a.A0).length > 0) { j2 = W1[document.getElementsByClassName(a5a.A0)[0].textContent]; if (!j2) j2 = W1[a5a.D]; } else j2 = W1[a5a.D]; var l2 = j2.language, p2 = setInterval(function () { var a = '°</span></div></div><div class="weather-forecast"><div>', u = '°</span><br><span class="temperature-low">', a0 = '"><div><span class="temperature-high">', P1 = '</div><img src="', z0 = "https://ssl.gstatic.com/onebox/weather/64/sunny.png", V1 = "https://ssl.gstatic.com/onebox/weather/64/fog.png", M1 = "https://ssl.gstatic.com/onebox/weather/64/cloudy.png", A = "https://ssl.gstatic.com/onebox/weather/64/rain.png", L1 = "https://ssl.gstatic.com/onebox/weather/64/rain_s_cloudy.png", I1 = "https://ssl.gstatic.com/onebox/weather/64/partly_cloudy.png", n = "https://ssl.gstatic.com/onebox/weather/128/partly_cloudy.png"; if (localStorage[a5a.R] == a5a.C || localStorage[a5a.R] == undefined || localStorage[a5a.n1] == a5a.C || localStorage[a5a.n1] == undefined) { navigator.geolocation.getCurrentPosition(function (i) { console.log(i); localStorage[a5a.R] = i.coords.latitude; localStorage[a5a.n1] = i.coords.longitude; }, function (i) { console.error(i); }); } if (localStorage[a5a.h] == a5a.C || localStorage[a5a.h] == undefined) { var D0 = new XMLHttpRequest(); D0.onreadystatechange = function () { if (D0.readyState == 4 && D0.status == a5a.p) { var i = D0.responseXML; for (var e = 0; e < i.getElementsByTagName(a5a.C0).length; e++) { if (i.getElementsByTagName(a5a.C0)[e].textContent == a5a.B) { localStorage[a5a.h] = i.getElementsByTagName(a5a.C0)[e].parentNode.getElementsByTagName(a5a.A1)[0].textContent; break; } } if (localStorage[a5a.h] == a5a.C || localStorage[a5a.h] == undefined || localStorage[a5a.h] == a5a.W0 || localStorage[a5a.h] == a5a.d) { for (var e = 0; e < i.getElementsByTagName(a5a.C0).length; e++) { if (i.getElementsByTagName(a5a.C0)[e].textContent == a5a.O0) { localStorage[a5a.h] = i.getElementsByTagName(a5a.C0)[e].parentNode.getElementsByTagName(a5a.A1)[0].textContent; break; } } } if (localStorage[a5a.h] == a5a.C || localStorage[a5a.h] == undefined || localStorage[a5a.h] == a5a.W0 || localStorage[a5a.h] == a5a.d) { for (var e = 0; e < i.getElementsByTagName(a5a.C0).length; e++) { if (i.getElementsByTagName(a5a.C0)[e].textContent == a5a.H0) { localStorage[a5a.h] = i.getElementsByTagName(a5a.C0)[e].parentNode.getElementsByTagName(a5a.A1)[0].textContent; break; } } } if (localStorage[a5a.h] == a5a.C || localStorage[a5a.h] == undefined || localStorage[a5a.h] == a5a.W0 || localStorage[a5a.h] == a5a.d) { for (var e = 0; e < i.getElementsByTagName(a5a.C0).length; e++) { if (i.getElementsByTagName(a5a.C0)[e].textContent == a5a.d0) { localStorage[a5a.h] = i.getElementsByTagName(a5a.C0)[e].parentNode.getElementsByTagName(a5a.A1)[0].textContent; break; } } } } }; D0.open(a5a.S0, a5a.m + l2 + '&&latlng=' + localStorage[a5a.R] + ',' + localStorage[a5a.n1] + a5a.H + (new Date().getTime() % a5a.N) + a5a.k0, a5a.Y0); D0.send(); } var k2 = new Date(); GM_xmlhttpRequest({ method: "GET", url: 'https://www.google.com/ig/api?hl=' + l2 + '&weather=' + localStorage[a5a.F1] + '&expflags=Dispatchers__force_signed_weather_api%3Afalse&oauth_signature=en&referrer=igoogle&_reqid=' + (new Date().getTime() % a5a.N) + a5a.k0, headers: { "User-Agent": "Mozilla/5.0", "Accept": "text/xml" }, onload: function (v) { var j = 32, q = 'United States', x = "forecast_conditions", K = "data", M = "current_conditions", G = a5a.W0; if (!v.responseXML) { G = new DOMParser().parseFromString(v.responseText, "text/xml"); } if (localStorage[a5a.F1] == a5a.C || localStorage[a5a.F1] == undefined) { var K1 = new XMLHttpRequest(); K1.onreadystatechange = function () { if (K1.readyState == 4 && K1.status == a5a.p) { var i = K1.responseXML; for (var e = 0; e < i.getElementsByTagName(a5a.C0).length; e++) { if (i.getElementsByTagName(a5a.C0)[e].textContent == a5a.B) { localStorage[a5a.F1] = i.getElementsByTagName(a5a.C0)[e].parentNode.getElementsByTagName(a5a.A1)[0].textContent; break; } } if (localStorage[a5a.F1] == a5a.C || localStorage[a5a.F1] == undefined || localStorage[a5a.F1] == a5a.W0 || localStorage[a5a.F1] == a5a.d) { for (var e = 0; e < i.getElementsByTagName(a5a.C0).length; e++) { if (i.getElementsByTagName(a5a.C0)[e].textContent == a5a.O0) { localStorage[a5a.F1] = i.getElementsByTagName(a5a.C0)[e].parentNode.getElementsByTagName(a5a.A1)[0].textContent; break; } } } if (localStorage[a5a.F1] == a5a.C || localStorage[a5a.F1] == undefined || localStorage[a5a.F1] == a5a.W0 || localStorage[a5a.F1] == a5a.d) { for (var e = 0; e < i.getElementsByTagName(a5a.C0).length; e++) { if (i.getElementsByTagName(a5a.C0)[e].textContent == a5a.H0) { localStorage[a5a.F1] = i.getElementsByTagName(a5a.C0)[e].parentNode.getElementsByTagName(a5a.A1)[0].textContent; break; } } } if (localStorage[a5a.F1] == a5a.C || localStorage[a5a.F1] == undefined || localStorage[a5a.F1] == a5a.W0 || localStorage[a5a.F1] == a5a.d) { for (var e = 0; e < i.getElementsByTagName(a5a.C0).length; e++) { if (i.getElementsByTagName(a5a.C0)[e].textContent == a5a.d0) { localStorage[a5a.F1] = i.getElementsByTagName(a5a.C0)[e].parentNode.getElementsByTagName(a5a.A1)[0].textContent; break; } } } localStorage[a5a.T0] = i.getElementsByTagName('result')[5].getElementsByTagName(a5a.g)[1].textContent; } }; K1.open(a5a.S0, 'https://maps.googleapis.com/maps/api/geocode/xml?language=en-US&latlng=' + localStorage[a5a.R] + ',' + localStorage[a5a.n1] + a5a.H + (new Date().getTime() % a5a.N) + a5a.k0, a5a.Y0); K1.send(); } else { I = G.getElementsByTagName(M)[0].childNodes[0].getAttribute(K); X1 = G.getElementsByTagName(M)[0].childNodes[1].getAttribute(K); B1 = G.getElementsByTagName(M)[0].childNodes[2].getAttribute(K); L0 = G.getElementsByTagName(M)[0].childNodes[3].getAttribute(K); Q0 = G.getElementsByTagName(M)[0].childNodes[5].getAttribute(K); X0 = G.getElementsByTagName(x)[0].childNodes[2].getAttribute(K); S = G.getElementsByTagName(x)[0].childNodes[1].getAttribute(K); R1 = G.getElementsByTagName("forecast_information")[0].childNodes[6].getAttribute(K); H1 = G.getElementsByTagName(x)[0].childNodes[0].getAttribute(K); O1 = G.getElementsByTagName(x)[0].childNodes[1].getAttribute(K); S1 = G.getElementsByTagName(x)[0].childNodes[2].getAttribute(K); U0 = G.getElementsByTagName(x)[0].childNodes[4].getAttribute(K); m2 = G.getElementsByTagName(x)[1].childNodes[0].getAttribute(K); d2 = G.getElementsByTagName(x)[1].childNodes[1].getAttribute(K); e2 = G.getElementsByTagName(x)[1].childNodes[2].getAttribute(K); Q1 = G.getElementsByTagName(x)[1].childNodes[4].getAttribute(K); n2 = G.getElementsByTagName(x)[2].childNodes[0].getAttribute(K); g2 = G.getElementsByTagName(x)[2].childNodes[1].getAttribute(K); f2 = G.getElementsByTagName(x)[2].childNodes[2].getAttribute(K); T1 = G.getElementsByTagName(x)[2].childNodes[4].getAttribute(K); o2 = G.getElementsByTagName(x)[3].childNodes[0].getAttribute(K); i2 = G.getElementsByTagName(x)[3].childNodes[1].getAttribute(K); h2 = G.getElementsByTagName(x)[3].childNodes[2].getAttribute(K); U1 = G.getElementsByTagName(x)[3].childNodes[4].getAttribute(K); if (localStorage[a5a.T0] != q && l2 == a5a.f0) { if (document.getElementsByClassName(a5a.b).length > 0 && document.getElementsByClassName(a5a.b)[0].clientWidth >= 420) { G0 = ((parseInt(X1) - j) / 9 * 5).toFixed(1); X0 = ((parseInt(X0) - j) / 9 * 5).toFixed(1); S = ((parseInt(S) - j) / 9 * 5).toFixed(1); S1 = ((parseInt(S1) - j) / 9 * 5).toFixed(1); O1 = ((parseInt(O1) - j) / 9 * 5).toFixed(1); e2 = ((parseInt(e2) - j) / 9 * 5).toFixed(1); d2 = ((parseInt(d2) - j) / 9 * 5).toFixed(1); f2 = ((parseInt(f2) - j) / 9 * 5).toFixed(1); g2 = ((parseInt(g2) - j) / 9 * 5).toFixed(1); h2 = ((parseInt(h2) - j) / 9 * 5).toFixed(1); i2 = ((parseInt(i2) - j) / 9 * 5).toFixed(1); } else { G0 = B1; X0 = Math.round((parseInt(X0) - j) / 9 * 5); S = Math.round((parseInt(S) - j) / 9 * 5); S1 = Math.round((parseInt(S1) - j) / 9 * 5); O1 = Math.round((parseInt(O1) - j) / 9 * 5); e2 = Math.round((parseInt(e2) - j) / 9 * 5); d2 = Math.round((parseInt(d2) - j) / 9 * 5); f2 = Math.round((parseInt(f2) - j) / 9 * 5); g2 = Math.round((parseInt(g2) - j) / 9 * 5); h2 = Math.round((parseInt(h2) - j) / 9 * 5); i2 = Math.round((parseInt(i2) - j) / 9 * 5); } N1 = "C"; } else if ((localStorage[a5a.T0] == q && l2 == a5a.f0)) { G0 = X1; N1 = "F"; } else { if (document.getElementsByClassName(a5a.b).length > 0 && document.getElementsByClassName(a5a.b)[0].clientWidth >= 420) G0 = ((parseInt(X1) - j) / 9 * 5).toFixed(1); else G0 = B1; N1 = "C"; } } GM_log([v.status, v.statusText, v.readyState, v.responseHeaders, v.responseText, v.finalUrl, G].join("\n")); } }); if (I != undefined) { if (document.getElementsByClassName(a5a.p0)[0] != undefined) { if (I.match(/Partly Cloudy|Mostly Cloudy|局部多云|局部有雲|ところにより曇り/gi)) { J1 = n; } else if (I.match(/Thunderstorm|storm|雷|激しい風雨/gi)) { J1 = "https://ssl.gstatic.com/onebox/weather/128/rain_s_cloudy.png"; } else if (I.match(/rain|drizzle|showers|雨/gi)) { J1 = "https://ssl.gstatic.com/onebox/weather/128/rain.png"; } else if (I.match(/cloudy|overcast|云|雲|阴|陰|曇り/gi)) { J1 = "https://ssl.gstatic.com/onebox/weather/128/cloudy.png"; } else if (I.match(/fog|haze|hazy|雾|霧|曇/gi)) { J1 = "https://ssl.gstatic.com/onebox/weather/128/fog.png"; } else if (I.match(/Partly Sunny|Mostly Sunny|晴间多云|多雲時晴|ところにより晴れ/gi)) { J1 = n; } else if (I.match(/clear|晴/gi)) { J1 = "https://ssl.gstatic.com/onebox/weather/128/sunny.png"; } if (U0.match(/Partly Cloudy|Mostly Cloudy|局部多云|局部有雲|ところにより曇り/gi)) { Y1 = I1; } else if (U0.match(/Thunderstorm|storm|雷|激しい風雨/gi)) { Y1 = L1; } else if (U0.match(/rain|drizzle|showers|雨/gi)) { Y1 = A; } else if (U0.match(/cloudy|overcast|云|雲|阴|陰|曇り/gi)) { Y1 = M1; } else if (U0.match(/fog|haze|hazy|雾|霧|曇/gi)) { Y1 = V1; } else if (U0.match(/Partly Sunny|Mostly Sunny|晴间多云|多雲時晴|ところにより晴れ/gi)) { Y1 = I1; } else if (U0.match(/clear|晴/gi)) { Y1 = z0; } if (Q1.match(/Partly Cloudy|Mostly Cloudy|局部多云|局部有雲|ところにより曇り/gi)) { Z1 = I1; } else if (Q1.match(/Thunderstorm|storm|雷|激しい風雨/gi)) { Z1 = L1; } else if (Q1.match(/rain|drizzle|showers|雨/gi)) { Z1 = A; } else if (Q1.match(/cloudy|overcast|云|雲|阴|陰|曇り/gi)) { Z1 = M1; } else if (Q1.match(/fog|haze|hazy|雾|霧|曇/gi)) { Z1 = V1; } else if (Q1.match(/Partly Sunny|Mostly Sunny|晴间多云|多雲時晴|ところにより晴れ/gi)) { Z1 = I1; } else if (Q1.match(/clear|晴/gi)) { Z1 = z0; } if (T1.match(/Partly Cloudy|Mostly Cloudy|局部多云|局部有雲|ところにより曇り/gi)) { b2 = I1; } else if (T1.match(/Thunderstorm|storm|雷|激しい風雨/gi)) { b2 = L1; } else if (T1.match(/rain|drizzle|showers|雨/gi)) { b2 = A; } else if (T1.match(/cloudy|overcast|云|雲|阴|陰|曇り/gi)) { b2 = M1; } else if (T1.match(/fog|haze|hazy|雾|霧|曇/gi)) { b2 = V1; } else if (T1.match(/Partly Sunny|Mostly Sunny|晴间多云|多雲時晴|ところにより晴れ/gi)) { b2 = I1; } else if (T1.match(/clear|晴/gi)) { b2 = z0; } if (U1.match(/Partly Cloudy|Mostly Cloudy|局部多云|局部有雲|ところにより曇り/gi)) { a2 = I1; } else if (U1.match(/Thunderstorm|storm|雷|激しい風雨/gi)) { a2 = L1; } else if (U1.match(/rain|drizzle|showers|雨/gi)) { a2 = A; } else if (U1.match(/cloudy|overcast|云|雲|阴|陰|曇り/gi)) { a2 = M1; } else if (U1.match(/fog|haze|hazy|雾|霧|曇/gi)) { a2 = V1; } else if (U1.match(/Partly Sunny|Mostly Sunny|晴间多云|多雲時晴|ところにより晴れ/gi)) { a2 = I1; } else if (U1.match(/clear|晴/gi)) { a2 = z0; } } } var c2 = '<div class="content-box" id="box-weather"><h2>' + localStorage[a5a.h] + '</h2><div id="weather-date">' + new Date().toLocaleString().replace(new Date().toLocaleString().match(/\d+:\d{2}:\d{2}\s*\w*/), new Date().toLocaleString().match(/(\d+:\d{2}):\d{2}(\s*\w*)/)[1] + new Date().toLocaleString().match(/(\d+:\d{2}):\d{2}(\s*\w*)/)[2]) + '</div><div id="weather-current"><div><img id="weather-current-icon" src="' + J1 + a5a.h1 + I + '"><div id="weather-current-box"><div id="weather-condition">' + I + '</div><div id="weather-wind">' + Q0 + '</div><div id="weather-humidity">' + L0 + '</div></div></div><div id="weather-current-temperature"><div id="weather-temperature">' + G0 + '°</div></div></div><div id="weather-forecast-box"><div class="weather-forecast"><div>' + H1 + P1 + Y1 + a5a.h1 + U0 + a0 + S1 + u + O1 + a + m2 + P1 + Z1 + a5a.h1 + Q1 + a0 + e2 + u + d2 + a + n2 + P1 + b2 + a5a.h1 + T1 + a0 + f2 + u + g2 + '°</span></div></div><div class="weather-forecast last-forecast"><div>' + o2 + P1 + a2 + a5a.h1 + U1 + a0 + h2 + u + i2 + '°</span></div></div></div><div id="weather-geolocation-permission" class="hidden">Using current location.</div></div>'; if (G0 != undefined) { if (document.getElementsByClassName('Ee fP back')[0] != undefined) document.getElementsByClassName(a5a.p0)[0].innerHTML = c2; } }, 10000); } currentWeather();
