/// ==UserScript==
// @name			The Pirate Bay
// @namespace		http://use.i.E.your.homepage/
// @version			0.26
// @description     A better layout, many addition servers

// @match			http*://thepiratebay.se/*

// @match			http://bayproxy.ch/*
// @match			http://www.thepiratebeach.com/*
// @match			http://www.pyr0.cf/*
// @match			http://thepiratebay.org.in/*
// @match			http://proxybay.pw/*
// @match			http://tpb.webproxy.eu/*
// @match			https://thepiratebay.blackc.at/*
// @match			http://tpbuk.co.uk/*

// @match			http://proxyduck.com/proxyid/browse.php?u=http://thepiratebay.se

// @match			https://thepiratebay.hk/*
// @match			http*://pirateproxy.bz/*
// @match			https://labaia.in/*
// @match			http*://bay.dragonflame.org/*
// @match			http*://thepiratebay.mine.nu/*
// @match			http*://rghmodding.com/*
// @match			http*://torrentula.se/*
// @match			http*://baytorrent.eu/*
// @match			http*://thepiratebay.net.co/*
// @match			http*://tpb-proxy.com/*
// @match			http*://piratebayguru.com/*
// @match			http*://ilikerainbows.co.uk/*
// @match			http*://thepiratebay.se.net/*
// @match			http*://thepiratebay.si/*
// @match			http*://bayproxy.uk/*
// @match			https://zeroproxy.me/*
// @match			http*://proxybay.biz/*
// @match			http*://bay.piratenpartei.at/*
// @match			http*://thevirtualbay.net/*
// @match			http*://btor.org/*
// @match			http*://thebootlegbay.com/*
// @match			http*://tpb.ic0nic.de/*
// @match			http*://thepiratebay.asia/*
// @match			http*://thepiratebay.cc/*
// @match			http*://tpb.antoinedg.com/*
// @match			http*://tpb.eduardofortes.com.ar/*
// @match			http*://tpb.monolidthz.com/*
// @match			http*://piratebay1.com/*
// @match			http*://proxybay.eu/*
// @match			http*://freetpb.cf/*
// @match			http*://bayproxy.li/*
// @match			http*://fastpiratebay.com/*
// @match			http*://thefastbay.com/*
// @match			http*://tpb.exodica.com.ar/*
// @match			http*://tpb.derp.pw/*
// @match			http*://pirateproxy.nl/*
// @match			http*://tpb.joodle.nl/*
// @match			http*://proxy.arrr.nl/*
// @match			https://tpb.jorritkleinbramel.nl/*
// @match			http*://tpb.co.pl/*
// @match			http*://tpb.tf/*
// @match			http*://thepiratebay.torrentnerd.com/*
// @match			http*://tpb.evil.org.pl/*
// @match			http*://proxytpb.nl/*
// @match			http*://torrentfusion.com/*
// @match			http*://tpbproxy.me/*
// @match			http*://piratebaybyproxy.com/*
// @match			http*://tpb.index.hm/*
// @match			http*://tpb.ukhack.com/*
// @match			http*://bayproxy.nl/*
// @match			http*://www.thepiratebay2.se/*
// @match			http*://tpb.par-anoia.net/*
// @match			http*://kuiken.co/*
// @match			http*://baymirror.com/*
// @match			http*://proxy.rickmartensen.nl/thepiratebay.se/*
// @match			http*://tpb.kleisauke.nl/*
// @match			http*://tpbargentina.entrydns.org/*
// @match			http*://tpbproxy.cremoznik.si/*
// @match			http*://pirabay.come.in/*
// @match			http*://tpb.genyaa.org/*
// @match			http*://www.dieroschtibay.org/*
// @match			http*://pirateshore.org/*
// @match			https://tpb.pirateparty.ca/*
// @match			http*://piraattilahti.org/*
// @match			http*://tpb.ninja.so/*
// @match			http*://91.121.194.115:82/*
// @match			http*://pirateshit.com/*
// @match			http*://lanunbay.org/*
// @match			http*://tpb.madfedora.site40.net/*
// @match			http*://www.bayproxy.com/*
// @match			http*://bich.in/*
// @match			http*://tpb.piraten.lu/*
// @match			http*://piratebayproxy.se/*
// @match			http*://tpb.qwertyoruiop.com/*
// @match			http*://tpb.cryptocloud.ca/*
// @match			http*://thepiratebay.filehound.co.uk/*
// @match			http*://proxybay.fr/*
// @match			http*://tpb.linuxthefish.net/*
// @match			http*://tpbuk.co.uk/*
// @match			https://piratebay.blackc.at/*
// @match			http*://thepiratebeach.com/*
// @match			http*://tpb.pleb.me/*
// @match			http*://tpb.5gg.biz/*
// @match			http*://chuta.org/tpb/*
// @match			http*://campeche.zapto.org/*
// @match			http*://www.battleit.ee/tpb/*
// @match			http*://piratebay.skey.sk/*
// @match			http*://www.dapiratebay.eu/*
// @match			http*://pirateproxy.be/* 





// @match			https://pirateproxy.sx/*
// @match			https://labaia.me/*
// @match			http*://mybay.pw/*
// @match			https://ilikerainbows.co.uk/*
// @match			http*://www.the-pirate-bay.org/*
// @match			http*://privatebay.club/*
// @match			http*://thebay.me/*
// @match			http*://torrentula.se/*
// @match			http*://bayproxy.ovh/*
// @match			https://thepairatebay.net/*
// @match			http*://www.thepiratebay.st/*
// @match			http*://bayproxy.uk/*
// @match			http*://dc7800.mufthosting.net/*
// @match			http*://thepiratebay.siriane.org/*
// @match			http*://tpb.website/*
// @match			http*://tpb.proxy.pm/*
// @match			http*://proxypirate.eu/*
// @match			http*://pirproxy.com/*
// @match			http*://tpb.cryptostorm.is/*
// @match			http*://thepirateboat.eu/*
// @match			http*://thepiratebay.website/*
// @match			http*://baytorrent.nl/*
// @match			http*://tpb-proxy.com/*
// @match			http*://piratebayguru.com/*
// @match			https://tpbt.org/*
// @match			http*://thepiratebay.mine.nu/*
// @match			http*://bay.dragonflame.org/*
// @match			http*://www.thepiratebay.hk/*
// @match			http*://proxybay.xyz/*
// @match			http*://tpb.webi.pw/*
// @match			http*://piratebay.rocks/*
// @match			http*://bay.piratenpartei.at/*
// @match			http*://proxybay.eu/*
// @match			http*://proxyduck.com/proxyid/browse.php?u=http://thepiratebay.se
// @match			http*://bayproxy.li/*
// @match			http*://fastpiratebay.com/*
// @match			http*://outlaw.is/*
// @match			http*://tpb.exodica.com.ar/*
// @match			http*://tpbproxy.cremoznik.si/*
// @match			http*://tpb.derp.pw/*
// @match			http*://tpb.thevoidgroup.co.uk/*
// @match			http*://tpb.issavagegay.com/*
// @match			http*://iloverainbows.net84.net/*
// @match			http*://piratebay.helpamillionpeople.com/*
// @match			http*://baiedespirates.hunez.eu/*
// @match			http*://ilikechristmas.twomini.com/*
// @match			https://yar.okhin.fr/*
// @match			http*://rekt.club/*
// @match			http*://tpb.jeunespirates.fr/*
// @match			http*://tpb.lokun.is/*
// @match			http*://tpb-uk.info/*
// @match			http*://tpb.fastshit.net/*
// @match			http*://thepb.libfoobar.so/*
// @match			http*://shaunyeldhams.zz.vc/*
// @match			http*://cloudbay.tk/*
// @match			http*://tpb.proxie.us/*
// @match			http*://pirateproxy.nl/*
// @match			https://tpb.jorritkleinbramel.nl/*
// @match			http*://proxytpb.nl/*
// @match			http*://tpbproxy.me/*
// @match			http*://thebay.ws/*
// @match			http*://www.thepiratebay2.se/*
// @match			http*://tpb.par-anoia.net/*
// @match			http*://kuiken.co/*
// @match			http*://baymirror.com/*
// @match			https://proxy.rickmartensen.nl/thepiratebay.se/*
// @match			http*://pirbay.come.in/*
// @match			http*://tpb.genyaa.org/*
// @match			http*://www.dieroschtibay.org/*
// @match			http*://tpb.ninja.so/*
// @match			http*://91.121.194.115:82/*
// @match			http*://www.bayproxy.com/*
// @match			http*://tpb.piraten.lu/*
// @match			http*://tpb.qwertyoruiop.com/*
// @match			https://piratebay.blackc.at/*
// @match			http*://thepiratebeach.com/*
// @match			http*://thebootlegbay.com/*
// @match			http*://piraattilahti.org/*
// @match			http*://daspirateproxy.ga/*
// @match			http*://clonebay.ga/*
// @match			http*://piratebayproxy.se/*
// @match			https://tpb.pirateparty.ca/*
// @match			http*://tpb.ic0nic.de/*
// @match			http*://thepiratebay.se.websiteproxies.co.uk/*
// @match			http*://tpb.madfedora.site40.net/*
// @match			http*://pirateshore.org/*
// @match			http*://freetpb.cf/*
// @match			http*://piratebay1.com/*
// @match			http*://themoviesbay.com/*
// @match			http*://tpb-se.info/*
// @match			http*://onlinetpb.webs.pm/*
// @match			http*://mobiletorrents.in/*
// @match			http*://tpb.ovh/*
// @match			http*://8la2.com/*
// @match			http*://thegameerbay.com/*
// @match			http*://bayproxy.nl/*
// @match			http*://tpb.index.hm/*
// @match			http*://baytorrent.eu/*
// @match			http*://piratebay.skey.sk/*

// @match			https://pirateproxy.sx/*
// @match			https://labaia.me/*
// @match			https://thepirateboat.eu/*
// @match			https://www.dieroschtibay.org/*
// @match			https://tpb.thetorrentbay.so/*
// @match			http*://tpbunblock.info/*
// @match			http*://baytorrent.nl/*
// @match			http*://thepiratebay.to/*
// @match			https://thehiddenbay.net/*
// @match			https://proxy.rickmartensen.nl/thepiratebay.se/*
// @match			https://oldpiratebay.org/*
// @match			https://uberpirate.com/*
// @match			http*://mypirateproxy.org/*
// @match			https://piratebay.blackc.at/*
// @match			https://thepiratebayv2.org/*
// @match			http*://superbay.info/*
// @match			https://thepiratebeach.eu/*
// @match			http*://tpb.gorontaloindie.com/*
// @match			http*://thepiratebay.se.websiteproxies.co.uk/*
// @match			http*://pirateshore.org/*
// @match			https://tpbt.org/*
// @match			https://thepiratebay.hk/*
// @match			http*://ejhgroup.co.uk/*
// @match			http*://www.thepiratebay.st/*
// @match			http*://outlaw.is/*
// @match			http*://tpb.genyaa.org/*
// @match			https://ilikerainbows.co.uk/*
// @match			http*://www.thepiratebay2.se/*
// @match			https://tpb.piraten.lu/*
// @match			http*://piratebay1.com/*



// @require			http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js

// @resource		TPB_logo_543 http://s25.postimg.org/nib3757vz/543px_The_Pirate_Bay_logo_svg.png
// @resource		TPB_logo_240 http://s25.postimg.org/4anyajpkf/240px_The_Pirate_Bay_logo_svg.png
// @resource		TPB_logo_212 http://s25.postimg.org/uk90tcbhr/212px_The_Pirate_Bay_logo_svg.png
// @resource		TPB_logo_424 http://upload.wikimedia.org/wikipedia/commons/thumb/1/16/The_Pirate_Bay_logo.svg/424px-The_Pirate_Bay_logo.svg.png
// @resource		TPB_BodyBGR1 http://s25.postimg.org/fe2z2elgv/light_brown_tan_paper_texture_with_flecks_copy.jpg

// @run-at			document-start

// @created			2014-09-16
// @released		2014-00-00
// @updated			2014-00-00
// @compatible		Greasemonkey, Tampermonkey
// @history         @version 0.0 - first version: @released - 2014-00-00
// @license         GNU GPL v3 (http://www.gnu.org/copyleft/gpl.html) 
// @copyright		2014+, Magnus Fohlström
// ==/UserScript==

$('<style id="StyleBody"> body { background-image: url("' + GM_getResourceURL("TPB_BodyBGR1") + '"); </style>').appendTo('head');
//$('<style id="StyleBody"> body { background-image: url("http://s25.postimg.org/fe2z2elgv/light_brown_tan_paper_texture_with_flecks_copy.jpg"); </style>').appendTo('head');

$( '#fp h1 a').css('cssText','background: url('+GM_getResourceURL("TPB_logo_424")+') no-repeat; background-size: 100% 100% !important; width: 480px; height: 543px;');

var basic,
    MultiString = function(f) {
    return f.toString().split('\n').slice(1, -1).join('\n');
};

basic = MultiString(
    function() {/**
        #main-content iframe, .ad {
            display: none !important;
        }
        #main-content, #content {
            width: 100%;
            margin: 0 !important;
            max-width: none !important;
            font-size: 105%;
        }
        #content div[align="center"] {
            padding-top: 7px;
        }
        #content div[align="center"] a {
            margin-left: 4px;
            font-size: 109%;
        }
        
        #SearchResults {
	        border: solid 1px rgb(199, 190, 168);
			padding-bottom: 10px;
        }
        
        
        #searchResult tr {
            height: 30px;
        }
        #searchResult tr:nth-child(even) {
            background: #ECE4DF !important;
        }
        #searchResult tr:hover {
            background: #fff !important;
        }
        
        #searchResult td {
            padding: 0 0 0 8px !important;
        }
        #searchResult td[align="right"] {
            padding-right: 10px !important;
        }

        #searchResult .name a {
            width: 100%;
            display: block;
            line-height: 30px;
        }
        body {
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
            width: 1200px;
            margin: 0 auto;
        }
        #header {
            display: -webkit-box;
        }
        
        form a img {
            width: 125px;
            margin-top: -30px !important;
            margin-bottom: 13px;
            margin-right: 25px;
            margin-left: 30px;
        }
        form {
            padding-top: 45px;
            background-color: rgba(191, 222, 248, 0.3);;
			display: block;
            width: 100%;
        }
        form p {
            margin: 0 auto;
            display: block;
        }
        
        #fp form {
            background-color: transparent;
            margin-bottom: 28px;
        }
        #fp form p {
            padding-bottom: 10px;
        }
        **/});

$('<style id="Stylebasic">'+ basic +'</style>').appendTo('head');

$(document).ready(function(){
    
    $( 'form a img').attr('src', GM_getResourceURL("TPB_logo_240") );
    
    var classArray = ['category','name','added','buttons','size','seed','peer'],
        classValue = [ 0, 0, 0, 0, 0, 0, 0],
        txt, txtLen,
        muliplices = 8,
        buttonsM = 33,
        thisValue = 0,
        thisValuePlus = 0,
        returnThis = ' ';
    
    $('#searchResult tr').each(function() {
        
        $( this ).find('td').each(function(Index) {
            
            if( $( this ).attr('colspan') === '9' ) return false;
            
            $( this ).addClass( classArray[Index] );
            
            if( classArray[Index] !== 'buttons')
            {
				txt = $( this ).text();
                txtLen = txt.length;
            }
            else 
            {
                txt = '';
                txtLen = $( this ).find('a').size();
            }
            
            txtLen = classArray[Index] == 'category' ? txtLen + 0.5 : txtLen ; 
            txtLen = classArray[Index] == 'size' ? txtLen - 1 : txtLen ; 
            if ( classValue[Index] < txtLen ) classValue[Index] = txtLen;  
            
//            console.log( classArray[Index] , txt + '  ' +  txtLen + '  ' + classValue[Index]);          
        });
        
    });
    
    $.each( classArray, function( Index ) {
        
        if( classArray[Index] !== 'name' )
        {      
            thisValue = classArray[Index] !== 'buttons' ? classValue[Index] * muliplices : classValue[Index] * buttonsM;                
            returnThis += '.' + classArray[Index] + ' { width: ' + ( thisValue + thisValuePlus ) + 'px; }  ';
        }
        
    });  
    
	$('<style id="StyleColumns">'+ returnThis +'</style>').appendTo('head');
    
//    console.log( 'css' , returnThis );
     
//    $( 'body').css('cssText','display:block;background-image: url("' + GM_getResourceURL("TPB_BodyBGR1") + '")' );
//    $( 'form a img').attr('src','http://www.userlogos.org/files/logos/samcockrell/Pirate%20Bay.png' );   
});





