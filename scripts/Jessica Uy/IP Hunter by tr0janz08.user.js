// ==UserScript==
// @name         IP Hunter by tr0janz08
// @namespace    http://www.symbianize.com/showthread.php?t=1397083
// @version      3.1.2
// @description  This userscript automatically reconnects the mobile data for some HUAWEI modems until it connects to a matching IP address.
// @author       tr0janz08
// @icon         http://www.symbianize.com/images/symb_avatars/avatar456082_9.gif
// @match        http://192.168.8.1/html/home.html
// @match        http://192.168.1.1/html/home.html
// @match        http://192.168.254.254/html/home.html
// @grant        GM_info
// ==/UserScript==

/*
 * IP Hunter by tr0janz08
 * http://www.symbianize.com/showthread.php?t=1397083
 *
 * THIS WORK IS COPYRIGHT PROTECTED
 * http://www.copyrighted.com/copyrights/view/v6tm-qzys-ym79-9saw
 *
 * MODIFYING THE TOOL FOR YOUR PERSONAL USE IS PERMITTED
 * HOWEVER, RE-BRANDING OR REMOVING THIS COPYRIGHT NOTICE IS NOT ALLOWED.
 *
 * IF YOU HAVE ANY SUGGESTIONS TO IMPROVE THIS TOOL,
 * YOU CAN PM ME ON SYMBIANIZE OR ON FACEBOOK.
 */

!function(){"use strict";$(document).ready(function(){function log(l){setTimeout(function(){var a=$("#iph-log")[0];a.value+="\n"+l,a.scrollTop=a.scrollHeight},200)}function loginToDashboard(){$("#username")[0]?($("#username").val($("#iph-username").val()),$("#password").val($("#iph-password").val())):($('<input type="hidden" id="username" />').val(username).appendTo("body"),$('<input type="hidden" id="password" />').val(password).appendTo("body")),login(g_destnation,function(){console.clear(),log("Login successful."),scan()}),setTimeout(function(){$(".error_message").text().length>1&&(log($(".error_message").text()),$(".error_message").hide())},300)}function scan(){log("Scanning..."),getAjaxData("api/monitoring/status",function(l){var a=xml2object(l);if("response"==a.type){var e=a.response.WanIPAddress,o=!1;e&&""!==e?(log("Current IP: "+e),$("#iph-mini-log").text(e),validIps.split(";").forEach(function(l,a){e.startsWith(l)&&(log("Matched pattern: "+l),excptIps.split(";").forEach(function(l,a){e.startsWith(l)?(log("Matches an exception pattern: "+l),$("#iph-enable-reboot")[0].checked&&e==prevIp?($("<script />").attr({type:"text/javascript",src:"../js/ping.js"}).appendTo("body"),$("<script />").attr({type:"text/javascript",src:"../js/reboot.js"}).appendTo("body"),log("Rebooting..."),setTimeout(function(){reboot()},1e3*rbootDly)):reconnectData(),prevIp=e):o=!0})),a+1===validIps.split(";").length&&(o?log("Scan complete."):($("#iph-enable-reboot")[0].checked&&e==prevIp?($("<script />").attr({type:"text/javascript",src:"../js/ping.js"}).appendTo("body"),$("<script />").attr({type:"text/javascript",src:"../js/reboot.js"}).appendTo("body"),log("Rebooting..."),setTimeout(function(){reboot()},1e3*rbootDly)):reconnectData(),prevIp=e))})):setTimeout(function(){log("Rescanning..."),scan()},3e3)}},{sync:!0})}function reconnectData(){g_network_action={dataswitch:"0"},log("Disconnecting mobile data..."),saveAjaxData("api/dialup/mobile-dataswitch",object2xml("request",g_network_action),function(l){var a=xml2object(l);"OK"==a.response&&setTimeout(function(){g_network_action={dataswitch:"1"},log("Reconnecting mobile data..."),saveAjaxData("api/dialup/mobile-dataswitch",object2xml("request",g_network_action),function(l){xml2object(l);setTimeout(function(){scan()},3e3)})},3e3)})}var compLog=[];"undefined"==typeof jQuery&&compLog.push("jQuery"),"undefined"==typeof login&&compLog.push("login"),"undefined"==typeof getAjaxData&&compLog.push("getAjaxData"),"undefined"==typeof saveAjaxData&&compLog.push("saveAjaxData"),"undefined"==typeof xml2object&&compLog.push("xml2object"),"undefined"==typeof object2xml&&compLog.push("object2xml"),compLog.length>0&&prompt("Sorry, this tool is currently not compatible with your dashboard. To request for support, copy the highlighted error log below and send it to the developer.","undefined:"+compLog.join(";")),0===compLog.length&&$("body").append(atob("PHN0eWxlIHR5cGU9InRleHQvY3NzIj4gI3RyMGphbnowOC1pcGh7Zm9udC1mYW1pbHk6IENhbGlicmksIFNlZ29lIFVJLHNhbnMtc2VyaWYgIWltcG9ydGFudDsgZm9udC1zaXplOiAxM3B4ICFpbXBvcnRhbnQ7fSN0cjBqYW56MDgtaXBoIGF7Zm9udC13ZWlnaHQ6IGJvbGQ7IHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO30jdHIwamFuejA4LWlwaCBsaXtsaXN0LXN0eWxlOiBkaXNjICFpbXBvcnRhbnQ7IG1hcmdpbi1sZWZ0OiAyMHB4O30jdHIwamFuejA4LWlwaCAud3JhcHBlcntwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgcmlnaHQ6IDA7IGJvdHRvbTogMDsgbGVmdDogMDsgYmFja2dyb3VuZDogcmdiYSgyMjksIDI0MywgMjQ5LCAwLjgpOyBkaXNwbGF5Om5vbmU7fSN0cjBqYW56MDgtaXBoIC5taW5pLWxvZ3twb3NpdGlvbjogZml4ZWQ7IHJpZ2h0OiAzMnB4OyBib3R0b206IDMycHg7IHdpZHRoOiAxODVweDsgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjgpOyBjb2xvcjogI2ZmZjsgcGFkZGluZzogNXB4OyBib3gtc2hhZG93OiAwIDAgMTBweCAtMXB4ICMwMDA7IGN1cnNvcjogcG9pbnRlcjsgaGVpZ2h0OiAzMHB4O30jdHIwamFuejA4LWlwaCAubWluaS1sb2cgaW1ne3dpZHRoOiA0OHB4OyBib3JkZXItcmFkaXVzOiA1MCU7IGJveC1zaGFkb3c6IDAgMCAxMHB4IC0xcHggIzAwMDsgZmxvYXQ6IHJpZ2h0OyBtYXJnaW46IC05cHggLTIwcHg7fSN0cjBqYW56MDgtaXBoIC5taW5pLWxvZzphY3RpdmV7Ym94LXNoYWRvdzogMCAwIDVweCAtMXB4ICMwMDA7fSN0cjBqYW56MDgtaXBoIC5ndWl7d2lkdGg6IDY1MHB4OyBtYXJnaW46IDQwcHggYXV0bzsgYmFja2dyb3VuZDogI2ZmZjsgYm9yZGVyLXJhZGl1czogNXB4OyBib3gtc2hhZG93OiAwIDAgNXB4IC0xcHggIzAwMDsgcGFkZGluZy1ib3R0b206IDFweDt9I3RyMGphbnowOC1pcGggLmd1aSA+IGZvcm17d2lkdGg6IDMyNXB4OyBmbG9hdDogbGVmdDt9I3RyMGphbnowOC1pcGggLmd1aSAuY2xlYXItZmxvYXR7Y2xlYXI6IGJvdGg7fSN0cjBqYW56MDgtaXBoIC5ndWkgPiBoMXtmb250LXNpemU6IDEuM2VtICFpbXBvcnRhbnQ7IGNvbG9yOiAjZmZmOyBiYWNrZ3JvdW5kOiAjM2E0ZjUzOyBwYWRkaW5nOiA1cHggMDsgYm9yZGVyLXJhZGl1czogNXB4IDVweCAwIDA7IHRleHQtYWxpZ246IGNlbnRlcjt9I3RyMGphbnowOC1pcGggZm9ybSA+IGZpZWxkc2V0LCAjdHIwamFuejA4LWlwaCBmb3JtIGlucHV0LCAjdHIwamFuejA4LWlwaCBmb3JtIHRleHRhcmVhe2JvcmRlcjogMXB4IHNvbGlkICNlZWU7IGJvcmRlci1yYWRpdXM6IDNweDsgbWFyZ2luOiA1cHg7IHBhZGRpbmc6IDVweDt9I3RyMGphbnowOC1pcGggZm9ybSBpbnB1dCwgI3RyMGphbnowOC1pcGggZm9ybSB0ZXh0YXJlYXtwYWRkaW5nOiA1cHg7IHdpZHRoOiA5MCU7IG1hcmdpbjogMi41cHggYXV0bzsgZGlzcGxheTogYmxvY2s7IGZvbnQtZmFtaWx5OiBtb25vc3BhY2UgIWltcG9ydGFudDt9I3RyMGphbnowOC1pcGggZm9ybSAuY2hlY2tib3ggaW5wdXRbdHlwZT0iY2hlY2tib3giXXtkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdpZHRoOiAxM3B4OyBtYXJnaW46IDAgMTBweDt9I3RyMGphbnowOC1pcGggZm9ybSAuY2hlY2tib3ggc3BhbntkaXNwbGF5OiBibG9jazsgbWFyZ2luOiAtMTRweCAxMHB4IDEwcHggMzVweDt9I3RyMGphbnowOC1pcGggZm9ybSBidXR0b257cGFkZGluZzogNXB4IDEwcHg7fTwvc3R5bGU+PGRpdiBpZD0idHIwamFuejA4LWlwaCI+IDxkaXYgaWQ9ImlwaC1zaG93IiBjbGFzcz0ibWluaS1sb2ciPiA8aW1nIHNyYz0iZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwvOWovNEFBUVNrWkpSZ0FCQVFFQVNBQklBQUQvMndCREFBZ0dCZ2NHQlFnSEJ3Y0pDUWdLREJRTkRBc0xEQmtTRXc4VUhSb2ZIaDBhSEJ3Z0pDNG5JQ0lzSXh3Y0tEY3BMREF4TkRRMEh5YzVQVGd5UEM0ek5ETC8yd0JEQVFrSkNRd0xEQmdORFJneUlSd2hNakl5TWpJeU1qSXlNakl5TWpJeU1qSXlNakl5TWpJeU1qSXlNakl5TWpJeU1qSXlNakl5TWpJeU1qSXlNakl5TWpML3dBQVJDQUJrQUdRREFTSUFBaEVCQXhFQi84UUFIQUFCQUFJREFRRUJBQUFBQUFBQUFBQUFBQVFHQWdNRkFRY0kvOFFBTUJBQUFnRUVBQVFGQXdNRUF3QUFBQUFBQVFJREFBUUZFUVlTSVRFVFFWRmhjUWNpZ1JRamtSWkNvZUVYTTdIL3hBQWFBUUFDQXdFQkFBQUFBQUFBQUFBQUFBQUFCQUVDQXdVRy84UUFLeEVBQWdJQ0FRTUJCd1VCQUFBQUFBQUFBQUVDQXdRUk1SSWhRUVVHRXlKUmNZSHdNbUdoc2NIeC85b0FEQU1CQUFJUkF4RUFQd0Q4L3dCS1VvQVVwVHZRQXIwQXNRQUNTZWdBcnAyZkRtWnY3bUMydDhiY05MY2I4SldRcno2N2tFNkdoNjFZOEp3WmxjWHhoallzbFp4aDQ3aUIyZ01vMndaaVIxR3gvYWQvRlJ0RmxDVDRSV0k3aTd3dDNOREc2aVFmWklOYjBSM0g0UFNvRE1YY3N4MlNkbXIxbHZwemxZTDkzdmNoam9IdUpXS0s4ckZtSk8rZ0M5ZTljMGNBWnRzbmNZNUZ0MnVJRUVoVXloUXluelVudUtqVVU5K1dhT2RzcTFCdDlLNFhoZlBSVnFWMU12dzdsc0Z5SEpXVWtDdVNxT1NDckVlaEIxWExxeGlLVXBRQXBTbEFDbEtVQUt2ZjBpaFNYajJEblJXNVlKV1VFYjBlWC9kVVVEZFdUaE1aQzF2bXZyS2MyNUNORVpRTm5URFJBOTllZmxWSjJSaEhxa01ZdUxibFdLcXBiYlB0MEdXZ3luMURTSzJtTjFIYTJrdk0yL3RnWWxWSUhUcnZRL0o5SzRuRTdYRVgxRXhrOFU2SXNvV0lBTU5vVkRBNzlEOSt4OGlxMVpYMTFqWkxLVzFsQ3lXU3VJaVVCM3o5VzV1bjNiOTYzWnk2ajRuc3hOQmpvNHNuR1pKcmxvdTB5OG8yM1hyc2E3ZjdwU09UR3hhWEozN3ZSYjhTYWxZdmdhMXZuWDE0TFlrYzNFRjVCa21sOE5yQzFnaEw4dTJNenFzanNQUWFJWGZ1ZFZ5M3ZHdFBxVHl6QkNsMWJyREdRZXFkTmdmSklJL05kK3lDMm5DNlp4SlRFazFoRTA5czQ1aEk2SUZRaHU2c2RBZWUrblRwWHp6SUVaTEp5NUNaU2tqbFdDSzNSQ0FOYVBmeTcxZTY2TlNUZkl2NmI2YmRuVG5HQytGTFcvQ2Y1My82US9xRklKYmpJSzBpUk5GY3g2Z1hyNG0xTzVDZDk5Y28xNzE4K3E3Wm5IdGtYZVdXZVF6T2VZdXgzekgzcW5Ud3ZCSzBVZzA2blJGWG91all1d3Q2cjZiZGh6WFd1Mmt0K042L09UVlNsS1lPU0tVcFFBb0tWa3RCS00xV3J6aUVWTVRiQlIzVForVDNxa29Lc1dGeWl3Ui9wcHlRZzZvM3A3R2tjeUVwdzdlRDFQczNrVlkrUzNaMjJ0Yis2TEZXekJQSkh4RFltRTZjM0NxTmpZMFRvN0htTkUxR0U4Y2cxRTZ5TVJzQkRzbjhDckJ3UmJ3cE5jNTY4amwvU1dLZ3hrSWYzSkdPaHlqejEvNlJTT05YSnpSNmoxck1wcnhaSnROdE5KZlBmWkVxL043YThDV1ZqY3VTMXZmeTI3OU93VGZLUGpyMC9GVnFyNExKYmpoMjd0THlYeGNqZDNUM0VoZ1V2SEJMdm91K3cwQVFmelZGdUkydGJ1VzFtMGswUjA2NzdiN0gzQjlhMXphcEpxWGpRaDdNNXRNcTUwYlNsMU4vWGZ5TkUvOEExL21xbHhBZ0Y4ckR1WXh2L05XYSt1NGJkUDNIQTg5RHFUVlB2WjJ1cmg1V0d0OWg2RDBxY0tFdDlYZ3A3VDVGVHE5eW51VzE5aUFSWGxac0t3cnJJOEExcGlsS1VFQ3MxckNzMXFHV2p5YjA4cWxSYUI2K2xSVThxa29heG1kUEhPaGpyMjV4dDVGZVdjendYRVIya2lIUkZXV2ZqTzZ2TVJZNCthQlZqdHJvM0RHRnVUeGZ2NXRjdllkU2RhL2lxM2k3Ujhoa3JhemlLaDVwRlFGem9EWjgvYXIyZUg0RjRKdHA1R2dEMzF3Sm1XTGxNaXgrRzRUVyt1dDZKOWpXUzZ2SEE3SjByVGwrcitmUDlGaXl2SCtOZ2pqWVd0d0lwTnZFSTFYbGZ5SkIyUFBwdlhrYStlNVhpeTZ1YjNKUzJnRU1kOHFJNGRRektxaldnZkxlelgwVEVmb3IzZ3UzdnJnV3JYVWNKNWJjUnhra0lXQWpWVDFBYnB2enI1M2xlSEo3VEhwSzhzSGllQzF3WTR6czY1bERMc2RQdDVsL0c2MW01UFRRbGp3b2oxS3hhZkhmdnZ1VmlZN2pSZDlBS2h2VWlRMUhlb2dYeVhzanRXdXRqVnJyZEhLbnlLVXBVbEJYcTk2OHBRU2lRaHJlalZFVTF1VnF6a2h5bXpSMXNiZG16dlk3Z0hSUU1SODhwQS95YXR0dzdqRjQ0eXVqTTFqR0U1VjEwMGRENTBLcW1HdExhNUY1Y1hrd2pndFlESVJyYlNNV0NxcWpZNjdPL3dBVjBZZUlyZUt3Z3RKYlJiZzJsd0hodUNTcGVJYi9BRzNYME8rNDZqdDFwYTJ0emowbll3TTJPUGY3M25zMGJnSmtzSXpwV2owSDJPaDEzMVcrYThhM3RiQ1NZcUk1UmRSR1BYOXJJbzJUOGtmeFhjdGVJT0JreEQyMDFuY1NTSVdWSDhOdVl4azdYKzdYTUFlWDhiODZxbDFmWTdPWlNLSWxNWmpvVTVZbGZtY2tranF4RzlFK1o3QUNpcWx3ZTJXenZVWVpOYXFpbWt0YzhjTmZYeVY5MnFPNXFYazdTVEhaSzVzNVNwZUNSb3lWT3dkSHVENlZBWnFZaWpqMjI3TVdOWVY2YThyVkNMZTJLVXBRUUtVcFFCNkRxc3cxYTZicU5GbExSSUQrOWQrNlNXMjRSdFVrc2xqV2FZWEszRy91a1VobEErQVZQOCs5Vm9OVjZ1Ykt3LzQvOFVabXltdUFzY2tkdXNtblU2WG1RZzlkalI3VlZ4TjQyclQyVkJKZ3ZNQ044dzE4VjNlSTdCUkJaWk8yaVZZcml6aGxtQ2RsZHVaU2RlN0lmNXFzYzFXYTN5TWN1Qm50cmlWQXBzUENUcjJaWERxUG5lLzVxcldqU00zWW4reS8xRmZsa2xtTHpPWGM3KzV6MTYrNXJLMng5OWZLeldsbmNYQVU2SmlpWjlIOEN2b0dFaHlPUjRTeE5uaS8xMHVQZGJtSEoyK1BWR0psWnlWTW9ZNlVGQW1wRzZMeW5YVUdvOXRoTHJGWi9pM0RZbWVkb29MZDRZeTB3VGI4OGVnVHNLVG9OMUhjQStWYWFGSExaUlpNZmV3MmlYY3RwT2x0SWRKTTBiQkcrRzFvMUdxL3daekdmMFBaNDdKcEs3U1N2WTNNc1Z6KzdERWpyTEdSR2RxdzI3RGZRL2JvRVZTc2xaSEc1TzVzek5ITjRNaFFTeE1HVng1TUNQSWpScVNwRnBTbEFDbEtVQUtVcFFBcFNsQUNsS1VBWkpJOFlZSTdMekRsYlIxc2VockthZVc0bWVhZVI1WlhPMmQyNWl4OXlhVW9BMTBwU2dCU2xLQVAvOWs9IiB0aXRsZT0iSVAgSHVudGVyIGJ5IHRyMGphbnowOCIvPiBJUCBIdW50ZXIgYnkgdHIwamFuejA4PGJyLz4gQ3VycmVudCBJUDogPHNwYW4gaWQ9ImlwaC1taW5pLWxvZyI+PC9zcGFuPiA8L2Rpdj48ZGl2IGNsYXNzPSJ3cmFwcGVyIj4gPGRpdiBjbGFzcz0iZ3VpIj4gPGgxPklQIEh1bnRlciBieSB0cjBqYW56MDg8L2gxPiA8Zm9ybSBhY3Rpb249ImphdmFzY3JpcHQ6dm9pZCgwKTsiPiA8ZmllbGRzZXQ+IDxsZWdlbmQ+QWNjb3VudDwvbGVnZW5kPiA8bGFiZWw+VXNlcm5hbWU6IDwvbGFiZWw+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iaXBoLXVzZXJuYW1lIi8+IDxsYWJlbD5QYXNzd29yZDogPC9sYWJlbD4gPGlucHV0IHR5cGU9InBhc3N3b3JkIiBpZD0iaXBoLXBhc3N3b3JkIi8+IDwvZmllbGRzZXQ+IDxmaWVsZHNldD4gPGxlZ2VuZD5JUCBQYXR0ZXJuczwvbGVnZW5kPiA8bGFiZWw+VmFsaWQ6PC9sYWJlbD4gPGlucHV0IHR5cGU9InRleHQiIGlkPSJpcGgtdmFsaWQiLz4gPGxhYmVsPkV4Y2VwdGlvbnM6PC9sYWJlbD4gPGlucHV0IHR5cGU9InRleHQiIGlkPSJpcGgtZXhjZXB0aW9ucyIvPiA8L2ZpZWxkc2V0PiA8ZmllbGRzZXQ+IDxsZWdlbmQ+TG9nPC9sZWdlbmQ+IDx0ZXh0YXJlYSByb3dzPSI4IiBpZD0iaXBoLWxvZyIgcmVhZG9ubHk+PC90ZXh0YXJlYT4gPC9maWVsZHNldD4gPGZpZWxkc2V0PiA8YnV0dG9uIGlkPSJpcGgtc2F2ZSI+U2F2ZSBDaGFuZ2VzPC9idXR0b24+IDxidXR0b24gaWQ9ImlwaC1yZWNvbm5lY3QiPlJlY29ubmVjdDwvYnV0dG9uPiA8YnV0dG9uIGlkPSJpcGgtaGlkZSI+SGlkZTwvYnV0dG9uPiA8L2ZpZWxkc2V0PiA8L2Zvcm0+IDxmb3JtIGFjdGlvbj0iamF2YXNjcmlwdDp2b2lkKDApOyI+IDxmaWVsZHNldD4gPGxlZ2VuZD5BdXRvLXJlYm9vdCBtZXRob2Q8L2xlZ2VuZD4gPGRpdj4mbmJzcDs8L2Rpdj48bGFiZWwgY2xhc3M9ImNoZWNrYm94Ij4gPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0iaXBoLWVuYWJsZS1yZWJvb3QiLz4gPHNwYW4+RW5hYmxlIGF1dG8tcmVib290IHdoZW4gSVAgaXMgbm90IGNoYW5naW5nLjwvc3Bhbj4gPC9sYWJlbD4gPGxhYmVsPkRlbGF5IChzZWNvbmRzKTo8L2xhYmVsPiA8aW5wdXQgdHlwZT0ibnVtYmVyIiBtaW49IjMiIGlkPSJpcGgtcmVib290LWRlbGF5Ii8+IDwvZmllbGRzZXQ+IDxmaWVsZHNldD4gPGxlZ2VuZD5Ob3RlPC9sZWdlbmQ+IDx1bD4gPGxpPkF1dG8tcmVib290IHdpbGwgdGFrZSBtb3JlIHRpbWUgYXMgaXQgd2lsbCB3YWl0IGZvciB0aGUgbW9kZW0gdG8gcmVjb25uZWN0IGFuZCB0aGUgZGFzaGJvYXJkIHRvIHJlbG9hZCBiZWZvcmUgaXQgc2NhbnMgYWdhaW4gZm9yIGNoYW5nZXMuPC9saT48bGk+PHNwYW4gc3R5bGU9ImNvbG9yOnJlZDsiPkJlIG1pbmRmdWwgb2YgY2hhbmdpbmcgdGhlIHJlYm9vdCBkZWxheSE8L3NwYW4+IEl0IHNob3VsZCBiZSBlbm91Z2ggdGhhdCB5b3Ugc3RpbGwgaGF2ZSB0aW1lIHRvIGRpc2FibGUgdGhpcyBmdW5jdGlvbiBpZiB5b3Ugd2FudC4gT3IgZWxzZSB0aGUgcHJvY2VzcyB3aWxsIGxvb3AgYW5kIHdpbGwganVzdCBzdG9wIHVudGlsIGl0IGNvbm5lY3RzIHRvIGEgdmFsaWQgSVAuPC9saT48L3VsPiA8L2ZpZWxkc2V0PiA8ZmllbGRzZXQ+IDxsZWdlbmQ+Tm90ZSB0byB0aG9zZSB3aG8gbWFuYWdlJ3MgYSBWUE4gY29tbXVuaXR5LjwvbGVnZW5kPiA8dWw+IDxsaT5JZiB5b3UnbGwgY2hlY2sgdGhlIDxhIGhyZWY9Imh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvZW4vc2NyaXB0cy8yNjA4Ni1pcC1odW50ZXItYnktdHIwamFuejA4L3N0YXRzIiB0YXJnZXQ9Il9ibGFuayI+c3RhdHMgb2YgdGhpcyB0b29sPC9hPiwgdGhlcmUgYXJlIGFsbW9zdCAxMDAgb3IgbW9yZSB1c2VyIHVwZGF0ZXMgYW5kIDMwKyBuZXcgaW5zdGFsbHMgZXZlcnlkYXkuIEkgd2FzIHRoaW5raW5nIG9mIHNldHRpbmcgdXAgYW4gQWQgc3BhY2UgaWYgeW91IHdhbnQgdG8gYWR2ZXJ0aXNlIHlvdXIgbmV0d29yay4gPGEgaHJlZj0iaHR0cDovL3d3dy5zeW1iaWFuaXplLmNvbS9wcml2YXRlLnBocD9kbz1uZXdwbSZ1PTQ1NjA4MiIgdGFyZ2V0PSJfYmxhbmsiPkxldCBtZSBrbm93PC9hPiB5b3VyIHRob3VnaHRzIGFuZCBpZiB5b3UgYXJlIGludGVyZXN0ZWQuIFRoYW5rIHlvdSE8L2xpPjwvdWw+IDwvZmllbGRzZXQ+IDwvZm9ybT4gPGRpdiBjbGFzcz0iY2xlYXItZmxvYXQiPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2Pg=="));const username=localStorage.iphUsername||"admin",password=localStorage.iphPassword||"",validIps=localStorage.iphValidIps||"10.;100.12;100.13;100.14;100.15;100.16;100.17;100.18;100.19;100.2",excptIps=localStorage.iphExcptIps||"10.116;100.116",rbootDly=localStorage.rbootDly||5,enableReboot=localStorage.enableReboot||!1;$("#iph-show").click(function(){$("#tr0janz08-iph .wrapper").fadeIn();var l=function(){$("<img />").css({margin:"5px auto",display:"block"}).attr({id:"iph-counter",src:"http://www.reliablecounter.com/count.php?page=www.symbianize.com/showthread.php?t=1397083&digit=style/plain/6/&reloads=0",title:"Usage Counter"}).error(function(){$(this).remove(),setTimeout(function(){l(),console.clear()},3e3)}).appendTo("#tr0janz08-iph .wrapper")};l()}),$("#iph-hide").click(function(){$("#tr0janz08-iph .wrapper").fadeOut(),$("#iph-counter").remove()}),$("#iph-reconnect").click(function(){reconnectData()}),$("#iph-enable-reboot").change(function(){localStorage.enableReboot=this.checked}),$("#iph-reboot-delay").change(function(){localStorage.rbootDly=this.value}),$("#iph-reboot-delay").keyup(function(){localStorage.rbootDly=this.value}),$("#iph-reboot-delay").blur(function(){this.value||(alert("Reboot delay should not be empty. Defaults to 5 seconds."),this.value=5,this.focus())}),$("#iph-save").click(function(){localStorage.iphUsername=$("#iph-username").val(),localStorage.iphPassword=$("#iph-password").val(),localStorage.rbootDly=$("#iph-reboot-delay").val();var l=$("#iph-valid").val().split(";");l.forEach(function(a,e){a||l.splice(e)}),$("#iph-valid").val(l.join(";")),localStorage.iphValidIps=l.join(";");var a=$("#iph-exceptions").val().split(";");a.forEach(function(l,e){l||a.splice(e)}),$("#iph-exceptions").val(a.join(";")),localStorage.iphExcptIps=a.join(";"),log("Changes has been saved."),loginToDashboard()}),$("#iph-username").val(username),$("#iph-password").val(password),$("#iph-valid").val(validIps),$("#iph-exceptions").val(excptIps),$("#iph-reboot-delay").val(rbootDly),$("#iph-enable-reboot")[0].checked=eval(enableReboot);var prevIp=null;loginToDashboard(),$("#iph-log").val("Current version: "+GM_info.script.version)})}();