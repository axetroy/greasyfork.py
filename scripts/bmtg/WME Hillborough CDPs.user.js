// ==UserScript==
// @name                WME Hillborough CDPs
// @namespace           https://greasyfork.org/en/users/5920-rickzabel
// @description         Creates polygons for CDPs in Hillsborough Co FL
// @include             https://www.waze.com/editor/*
// @include             https://www.waze.com/*/editor/*
// @include             https://editor-beta.waze.com/*
// @version             1.9 HC 0.01
// @grant               none
// @copyright           2015 rickzabel based off work by 2014 davielde
// ==/UserScript==


//---------------------------------------------------------------------------------------


//generated by rickzabel's overlay generator
//special thanks to t0cableguy for helping with the census data


//RZ RaidName will be replaced by the name of the layer in your KML file
//RZ RaidNameNoSpaces will be replaced by the name of the layer in your KML file
//RZ AreaPoints will be replaced by the names, colors, and area points from your KML file



function bootstrap_MapRaidOverlay()
{
  var bGreasemonkeyServiceDefined = false;

  try {
    bGreasemonkeyServiceDefined = (typeof Components.interfaces.gmIGreasemonkeyService === "object");
  }
  catch (err) { /* Ignore */ }

  if (typeof unsafeWindow === "undefined" || ! bGreasemonkeyServiceDefined) {
    unsafeWindow    = ( function () {
      var dummyElem = document.createElement('p');
      dummyElem.setAttribute('onclick', 'return window;');
      return dummyElem.onclick();
    }) ();
  }

    /* begin running the code! */
    setTimeout(InitMapRaidOverlay, 1000);
}

function AddRaidPolygon(raidLayer,groupPoints,groupColor,groupNumber){
    
    var mro_Map = unsafeWindow.Waze.map;
    var mro_OL = unsafeWindow.OpenLayers;
    var raidGroupLabel = groupNumber;
    var groupName = groupNumber;
    
    var style = {
        strokeColor: "Pink",
        strokeOpacity: .9,
        strokeWidth: 5,
        fillColor: groupColor,
        fillOpacity: 0.05,
        label: raidGroupLabel,
        labelOutlineColor: "Black",
        labelOutlineWidth: 3,
        fontSize: 14,
        fontColor: "Pink",
        fontOpacity: .85,
        fontWeight: "bold"  
    };
	
    var attributes = {
        name: groupName,
        number: groupNumber,
		holes: "false"
	};
    
    var pnt= [];
    for(i=0;i<groupPoints.length;i++){
        convPoint = new OpenLayers.Geometry.Point(groupPoints[i].lon,groupPoints[i].lat).transform(new OpenLayers.Projection("EPSG:4326"), mro_Map.getProjectionObject());
        //console.log('MapRaid: ' + JSON.stringify(groupPoints[i]) + ', ' + groupPoints[i].lon + ', ' + groupPoints[i].lat);
        pnt.push(convPoint);
    }
		       
    var ring = new mro_OL.Geometry.LinearRing(pnt);
    var polygon = new mro_OL.Geometry.Polygon([ring]);
    
    var feature = new mro_OL.Feature.Vector(polygon,attributes,style);
    raidLayer.addFeatures([feature]);

}

function generateholes(mro_Map, raid_mapLayer, UntitledPolygon){
	var mro_mapLayers = mro_Map.getLayersBy("uniqueName","__Virginia");
	var raid_mapLayerLength = raid_mapLayer.features.length;	
	
	var style = raid_mapLayer.features[raid_mapLayerLength-2].style;
	var attributes = raid_mapLayer.features[raid_mapLayerLength-2].attributes;
	
	//console.dir(style);	
	//console.dir(attributes);	
	
	var newFeature = Subtract(raid_mapLayer.features[raid_mapLayerLength-2], raid_mapLayer.features[1]);
    
	//console.dir(raid_mapLayer);	
	
	raid_mapLayer.addFeatures([newFeature]);

    raid_mapLayer.features[raid_mapLayerLength-1].destroy();
	raid_mapLayer.features[raid_mapLayerLength-2].destroy();
		
	//console.dir(mro_mapLayers);	
	var mro_mapLayersFeaturesLength = mro_mapLayers[0].features.length;
    mro_mapLayers[0].features[mro_mapLayersFeaturesLength-1].style =  style;
	mro_mapLayers[0].features[mro_mapLayersFeaturesLength-1].attributes = attributes;
    mro_mapLayers[0].features[mro_mapLayersFeaturesLength-1].attributes.holes = "true";
	//raid_mapLayer.features[1].style = {label: "Updated label"};
    mro_mapLayers[0].redraw(); 
	
	//console.dir(raid_mapLayer);	
}

function Subtract(bigFeature, smallFeature) {

    var newPolygon = new OpenLayers.Geometry.Polygon(bigFeature.geometry.components);
    var newFeature = new OpenLayers.Feature.Vector(newPolygon);

    newPolygon.addComponent(smallFeature.geometry.components[0]);

    return newFeature;
}

function CurrentRaidLocation(raid_mapLayer){
    var mro_Map = unsafeWindow.Waze.map;

    for(i=0;i<raid_mapLayer.features.length;i++){
        var raidMapCenter = mro_Map.getCenter();
        var raidCenterPoint = new OpenLayers.Geometry.Point(raidMapCenter.lon,raidMapCenter.lat);
        var raidCenterCheck = raid_mapLayer.features[i].geometry.components[0].containsPoint(raidCenterPoint);
		var holes = raid_mapLayer.features[i].attributes.holes
		
        
        if(raidCenterCheck === true){
			
			//console.log('MapRaid: ' + i + " " + raid_mapLayer.features[i].attributes.number + ': ' + raidCenterCheck + ' holes: ' + holes );
			
        	var raidLocationLabel = 'County - ' + raid_mapLayer.features[i].attributes.number + ' - ' + $('.WazeControlLocationInfo').text();
    		//setTimeout(function(){$('.WazeControlLocationInfo').text(raidLocationLabel);},200);
			setTimeout(function(){$('.WazeControlLocationInfo').text(raidLocationLabel);},50);
			var str = $('.WazeControlLocationInfo').text();
			
			var n2 = str.indexOf(" - ");
			
			if(n2 > 0){
				var n = str.length;
				var res = str.substring(n2+2, n);
				var rescount = res.indexOf(" - ");
				if(rescount>0){
					var n3 = res.length;
					var res2 = res.substring(rescount+2, n3);
						
				}
				var raidLocationLabel = 'City - ' + raid_mapLayer.features[i].attributes.number + ' - ' + res2;
			} else {
				var raidLocationLabel = 'City - ' + raid_mapLayer.features[i].attributes.number + ' - ' + $('.WazeControlLocationInfo').text();
			}	
    		setTimeout(function(){$('.WazeControlLocationInfo').text(raidLocationLabel);},200);
			 if (holes === "false") { break; }
		}
    }
}


function InitMapRaidOverlay(){

    var mro_Map = unsafeWindow.Waze.map;
    var mro_OL = unsafeWindow.OpenLayers;

    //if (!mro_Map) return;
    //if (!mro_OL) return;

    var mro_mapLayers = mro_Map.getLayersBy("uniqueName","__Florida");
        
    var raid_mapLayer = new mro_OL.Layer.Vector("Hillsborough CDPs", {
        displayInLayerSwitcher: true,
        uniqueName: "__Florida"
    });
        
    I18n.translations.en.layers.name["__Florida"] = "Hillsborough CDPs";
    mro_Map.addLayer(raid_mapLayer);
    raid_mapLayer.setVisibility(true);
    


var VTampa0 = [{lon:'-82.64882',lat:'27.979497'},{lon:'-82.648527',lat:'28.01808'},{lon:'-82.647837',lat:'28.01751'},{lon:'-82.645646',lat:'28.016828'},{lon:'-82.645',lat:'28.016873'},{lon:'-82.644754',lat:'28.017225'},{lon:'-82.644709',lat:'28.016904'},{lon:'-82.644228',lat:'28.016838'},{lon:'-82.643644',lat:'28.017199'},{lon:'-82.640332',lat:'28.016513'},{lon:'-82.639872',lat:'28.015428'},{lon:'-82.640143',lat:'28.014678'},{lon:'-82.639438',lat:'28.013631'},{lon:'-82.639477',lat:'28.011171'},{lon:'-82.639241',lat:'28.010882'},{lon:'-82.639522',lat:'28.009989'},{lon:'-82.638806',lat:'28.009603'},{lon:'-82.637778',lat:'28.007478'},{lon:'-82.636724',lat:'28.006456'},{lon:'-82.636644',lat:'28.005984'},{lon:'-82.631831',lat:'28.00255'},{lon:'-82.622607',lat:'27.99987'},{lon:'-82.623313',lat:'27.999105'},{lon:'-82.623332',lat:'27.998036'},{lon:'-82.62271',lat:'27.997502'},{lon:'-82.621569',lat:'27.997579'},{lon:'-82.621113',lat:'27.996816'},{lon:'-82.620966',lat:'27.99525'},{lon:'-82.621881',lat:'27.99403'},{lon:'-82.621926',lat:'27.992995'},{lon:'-82.621123',lat:'27.994578'},{lon:'-82.620281',lat:'27.995025'},{lon:'-82.620211',lat:'27.994662'},{lon:'-82.61987',lat:'27.994868'},{lon:'-82.619227',lat:'27.993756'},{lon:'-82.61789',lat:'27.992693'},{lon:'-82.614622',lat:'27.990507'},{lon:'-82.613323',lat:'27.990138'},{lon:'-82.613171',lat:'27.991117'},{lon:'-82.613577',lat:'27.991188'},{lon:'-82.613392',lat:'27.991518'},{lon:'-82.613683',lat:'27.991454'},{lon:'-82.613336',lat:'27.991645'},{lon:'-82.61404',lat:'27.991813'},{lon:'-82.615453',lat:'27.993448'},{lon:'-82.615627',lat:'27.994059'},{lon:'-82.615912',lat:'27.993978'},{lon:'-82.615976',lat:'27.994309'},{lon:'-82.615624',lat:'27.994237'},{lon:'-82.615591',lat:'27.994481'},{lon:'-82.616083',lat:'27.994616'},{lon:'-82.616232',lat:'27.995132'},{lon:'-82.615856',lat:'27.994744'},{lon:'-82.615896',lat:'27.994955'},{lon:'-82.615718',lat:'27.995322'},{lon:'-82.615761',lat:'27.994749'},{lon:'-82.615449',lat:'27.994958'},{lon:'-82.615452',lat:'27.994629'},{lon:'-82.61495',lat:'27.994755'},{lon:'-82.614636',lat:'27.994339'},{lon:'-82.614454',lat:'27.994644'},{lon:'-82.613999',lat:'27.994559'},{lon:'-82.613533',lat:'27.994004'},{lon:'-82.613179',lat:'27.993977'},{lon:'-82.613398',lat:'27.994255'},{lon:'-82.61296',lat:'27.994537'},{lon:'-82.613011',lat:'27.995005'},{lon:'-82.611956',lat:'27.994716'},{lon:'-82.612854',lat:'27.995796'},{lon:'-82.612314',lat:'27.997156'},{lon:'-82.61142',lat:'27.997303'},{lon:'-82.611137',lat:'27.996769'},{lon:'-82.610887',lat:'27.997114'},{lon:'-82.610141',lat:'27.99576'},{lon:'-82.610272',lat:'27.994698'},{lon:'-82.609971',lat:'27.994672'},{lon:'-82.611153',lat:'27.994484'},{lon:'-82.610742',lat:'27.994103'},{lon:'-82.612204',lat:'27.993765'},{lon:'-82.612551',lat:'27.993856'},{lon:'-82.612337',lat:'27.994252'},{lon:'-82.612756',lat:'27.993858'},{lon:'-82.61286',lat:'27.994161'},{lon:'-82.612796',lat:'27.993436'},{lon:'-82.613078',lat:'27.993281'},{lon:'-82.612883',lat:'27.992331'},{lon:'-82.612323',lat:'27.99252'},{lon:'-82.612254',lat:'27.991729'},{lon:'-82.611853',lat:'27.991808'},{lon:'-82.612641',lat:'27.990415'},{lon:'-82.612249',lat:'27.990224'},{lon:'-82.612322',lat:'27.990504'},{lon:'-82.6119',lat:'27.990845'},{lon:'-82.610905',lat:'27.9911'},{lon:'-82.610259',lat:'27.990797'},{lon:'-82.610117',lat:'27.99099'},{lon:'-82.609857',lat:'27.990474'},{lon:'-82.609066',lat:'27.990665'},{lon:'-82.609529',lat:'27.989702'},{lon:'-82.609444',lat:'27.988746'},{lon:'-82.609522',lat:'27.989009'},{lon:'-82.610073',lat:'27.98881'},{lon:'-82.61052',lat:'27.989416'},{lon:'-82.611165',lat:'27.989455'},{lon:'-82.611522',lat:'27.989229'},{lon:'-82.611361',lat:'27.988439'},{lon:'-82.60822',lat:'27.986665'},{lon:'-82.608644',lat:'27.988319'},{lon:'-82.607857',lat:'27.988729'},{lon:'-82.60802',lat:'27.98841'},{lon:'-82.60757',lat:'27.987952'},{lon:'-82.607393',lat:'27.98683'},{lon:'-82.606742',lat:'27.98613'},{lon:'-82.606845',lat:'27.984733'},{lon:'-82.605253',lat:'27.98393'},{lon:'-82.604046',lat:'27.982697'},{lon:'-82.602479',lat:'27.982304'},{lon:'-82.602024',lat:'27.982571'},{lon:'-82.600351',lat:'27.981331'},{lon:'-82.600299',lat:'27.980585'},{lon:'-82.596439',lat:'27.979846'},{lon:'-82.5935',lat:'27.979698'},{lon:'-82.592528',lat:'27.97929'},{lon:'-82.591623',lat:'27.979618'},{lon:'-82.590908',lat:'27.979592'},{lon:'-82.590836',lat:'27.979347'},{lon:'-82.590747',lat:'27.979858'},{lon:'-82.59039',lat:'27.97999'},{lon:'-82.590651',lat:'27.980451'},{lon:'-82.590349',lat:'27.98064'},{lon:'-82.590128',lat:'27.979978'},{lon:'-82.590713',lat:'27.97975'},{lon:'-82.590678',lat:'27.979374'},{lon:'-82.583677',lat:'27.979134'},{lon:'-82.58282',lat:'27.976386'},{lon:'-82.570083',lat:'27.971068'},{lon:'-82.570079',lat:'27.970789'},{lon:'-82.568328',lat:'27.970781'},{lon:'-82.568268',lat:'27.971383'},{lon:'-82.567148',lat:'27.972181'},{lon:'-82.565119',lat:'27.972738'},{lon:'-82.561642',lat:'27.972546'},{lon:'-82.560895',lat:'27.972223'},{lon:'-82.559201',lat:'27.971351'},{lon:'-82.55878',lat:'27.970139'},{lon:'-82.558898',lat:'27.968413'},{lon:'-82.550015',lat:'27.9683'},{lon:'-82.550008',lat:'27.970994'},{lon:'-82.546615',lat:'27.97115'},{lon:'-82.548906',lat:'27.973991'},{lon:'-82.55813',lat:'27.974079'},{lon:'-82.558824',lat:'27.974385'},{lon:'-82.558744',lat:'27.981811'},{lon:'-82.546501',lat:'27.981716'},{lon:'-82.546989',lat:'27.974322'},{lon:'-82.542637',lat:'27.974451'},{lon:'-82.542618',lat:'27.985613'},{lon:'-82.538018',lat:'27.98563'},{lon:'-82.537939',lat:'27.989524'},{lon:'-82.534143',lat:'27.989412'},{lon:'-82.534237',lat:'27.994126'},{lon:'-82.533962',lat:'27.997047'},{lon:'-82.517359',lat:'27.996814'},{lon:'-82.517301',lat:'27.999999'},{lon:'-82.485324',lat:'27.999724'},{lon:'-82.485266',lat:'28.010756'},{lon:'-82.486082',lat:'28.013189'},{lon:'-82.486352',lat:'28.018103'},{lon:'-82.48627',lat:'28.025367'},{lon:'-82.485215',lat:'28.025364'},{lon:'-82.4852',lat:'28.027'},{lon:'-82.486153',lat:'28.027004'},{lon:'-82.486152',lat:'28.027447'},{lon:'-82.487157',lat:'28.027473'},{lon:'-82.487182',lat:'28.028244'},{lon:'-82.485416',lat:'28.028228'},{lon:'-82.485252',lat:'28.036322'},{lon:'-82.484138',lat:'28.036319'},{lon:'-82.483091',lat:'28.038127'},{lon:'-82.482977',lat:'28.039499'},{lon:'-82.480245',lat:'28.040891'},{lon:'-82.480014',lat:'28.044249'},{lon:'-82.480181',lat:'28.055158'},{lon:'-82.47517',lat:'28.055151'},{lon:'-82.475107',lat:'28.055951'},{lon:'-82.474625',lat:'28.056319'},{lon:'-82.474029',lat:'28.055817'},{lon:'-82.474557',lat:'28.055657'},{lon:'-82.475109',lat:'28.054796'},{lon:'-82.455303',lat:'28.054653'},{lon:'-82.454901',lat:'28.054995'},{lon:'-82.440808',lat:'28.054993'},{lon:'-82.436973',lat:'28.054756'},{lon:'-82.434559',lat:'28.05479'},{lon:'-82.432279',lat:'28.055218'},{lon:'-82.430586',lat:'28.054908'},{lon:'-82.42559',lat:'28.054901'},{lon:'-82.425885',lat:'28.058829'},{lon:'-82.42596',lat:'28.06909'},{lon:'-82.40982',lat:'28.06902'},{lon:'-82.410131',lat:'28.080286'},{lon:'-82.409643',lat:'28.081837'},{lon:'-82.409593',lat:'28.082565'},{lon:'-82.409852',lat:'28.082616'},{lon:'-82.409324',lat:'28.083308'},{lon:'-82.409406',lat:'28.109438'},{lon:'-82.425699',lat:'28.109886'},{lon:'-82.424708',lat:'28.110732'},{lon:'-82.423503',lat:'28.112853'},{lon:'-82.422892',lat:'28.115266'},{lon:'-82.417296',lat:'28.126422'},{lon:'-82.413777',lat:'28.126515'},{lon:'-82.413757',lat:'28.127662'},{lon:'-82.40782',lat:'28.127655'},{lon:'-82.407825',lat:'28.131512'},{lon:'-82.401646',lat:'28.131557'},{lon:'-82.401668',lat:'28.13449'},{lon:'-82.397394',lat:'28.134488'},{lon:'-82.397397',lat:'28.138279'},{lon:'-82.393772',lat:'28.138278'},{lon:'-82.393774',lat:'28.141818'},{lon:'-82.385671',lat:'28.141818'},{lon:'-82.385671',lat:'28.145562'},{lon:'-82.39392',lat:'28.145546'},{lon:'-82.393945',lat:'28.149387'},{lon:'-82.38578',lat:'28.149409'},{lon:'-82.385804',lat:'28.153954'},{lon:'-82.39344',lat:'28.161677'},{lon:'-82.393077',lat:'28.162117'},{lon:'-82.393499',lat:'28.164946'},{lon:'-82.392259',lat:'28.165233'},{lon:'-82.390858',lat:'28.164789'},{lon:'-82.389667',lat:'28.164911'},{lon:'-82.386854',lat:'28.166572'},{lon:'-82.385806',lat:'28.168605'},{lon:'-82.389758',lat:'28.168543'},{lon:'-82.389759',lat:'28.170046'},{lon:'-82.392095',lat:'28.170943'},{lon:'-82.382872',lat:'28.170938'},{lon:'-82.382506',lat:'28.170881'},{lon:'-82.382513',lat:'28.170102'},{lon:'-82.381082',lat:'28.169924'},{lon:'-82.381155',lat:'28.170448'},{lon:'-82.375543',lat:'28.16987'},{lon:'-82.375573',lat:'28.168863'},{lon:'-82.362174',lat:'28.167476'},{lon:'-82.36148',lat:'28.167489'},{lon:'-82.359759',lat:'28.171281'},{lon:'-82.353925',lat:'28.171281'},{lon:'-82.353733',lat:'28.163776'},{lon:'-82.3653',lat:'28.163813'},{lon:'-82.3653',lat:'28.160141'},{lon:'-82.372833',lat:'28.160138'},{lon:'-82.372826',lat:'28.156379'},{lon:'-82.368725',lat:'28.156039'},{lon:'-82.353315',lat:'28.156156'},{lon:'-82.353217',lat:'28.144328'},{lon:'-82.353608',lat:'28.143076'},{lon:'-82.354439',lat:'28.141926'},{lon:'-82.321331',lat:'28.141871'},{lon:'-82.308121',lat:'28.142119'},{lon:'-82.308834',lat:'28.142533'},{lon:'-82.312246',lat:'28.142303'},{lon:'-82.312312',lat:'28.145181'},{lon:'-82.311931',lat:'28.145861'},{lon:'-82.312252',lat:'28.156656'},{lon:'-82.314899',lat:'28.156562'},{lon:'-82.315058',lat:'28.157192'},{lon:'-82.313999',lat:'28.157309'},{lon:'-82.31392',lat:'28.157916'},{lon:'-82.314899',lat:'28.158173'},{lon:'-82.32469',lat:'28.158096'},{lon:'-82.325911',lat:'28.156283'},{lon:'-82.326716',lat:'28.15625'},{lon:'-82.326334',lat:'28.165768'},{lon:'-82.325219',lat:'28.171013'},{lon:'-82.326941',lat:'28.171465'},{lon:'-82.259741',lat:'28.171462'},{lon:'-82.260749',lat:'28.170804'},{lon:'-82.27859',lat:'28.148891'},{lon:'-82.288767',lat:'28.148903'},{lon:'-82.281172',lat:'28.14547'},{lon:'-82.28206',lat:'28.143623'},{lon:'-82.28874',lat:'28.143451'},{lon:'-82.288757',lat:'28.142178'},{lon:'-82.291474',lat:'28.142133'},{lon:'-82.291441',lat:'28.139281'},{lon:'-82.291071',lat:'28.139109'},{lon:'-82.294936',lat:'28.138595'},{lon:'-82.294933',lat:'28.134535'},{lon:'-82.291348',lat:'28.134556'},{lon:'-82.291316',lat:'28.133979'},{lon:'-82.290311',lat:'28.133926'},{lon:'-82.290311',lat:'28.133405'},{lon:'-82.287614',lat:'28.133686'},{lon:'-82.289183',lat:'28.131331'},{lon:'-82.293237',lat:'28.131487'},{lon:'-82.293113',lat:'28.129074'},{lon:'-82.294931',lat:'28.129074'},{lon:'-82.294934',lat:'28.129574'},{lon:'-82.298371',lat:'28.130343'},{lon:'-82.298409',lat:'28.129794'},{lon:'-82.299041',lat:'28.129802'},{lon:'-82.299036',lat:'28.128254'},{lon:'-82.301236',lat:'28.128246'},{lon:'-82.301271',lat:'28.126822'},{lon:'-82.302686',lat:'28.126807'},{lon:'-82.311385',lat:'28.129884'},{lon:'-82.320619',lat:'28.129624'},{lon:'-82.322437',lat:'28.127545'},{lon:'-82.352421',lat:'28.127697'},{lon:'-82.35262',lat:'28.120607'},{lon:'-82.361802',lat:'28.120457'},{lon:'-82.361813',lat:'28.124894'},{lon:'-82.357184',lat:'28.129125'},{lon:'-82.357309',lat:'28.132906'},{lon:'-82.359716',lat:'28.136165'},{lon:'-82.362541',lat:'28.133203'},{lon:'-82.362358',lat:'28.131344'},{lon:'-82.366693',lat:'28.126417'},{lon:'-82.366413',lat:'28.11879'},{lon:'-82.365053',lat:'28.117965'},{lon:'-82.364719',lat:'28.099269'},{lon:'-82.35916',lat:'28.095093'},{lon:'-82.356647',lat:'28.092569'},{lon:'-82.354716',lat:'28.088899'},{lon:'-82.354274',lat:'28.087276'},{lon:'-82.353943',lat:'28.084779'},{lon:'-82.353977',lat:'28.07637'},{lon:'-82.354236',lat:'28.074492'},{lon:'-82.355782',lat:'28.069663'},{lon:'-82.359027',lat:'28.069384'},{lon:'-82.369082',lat:'28.069555'},{lon:'-82.369038',lat:'28.081339'},{lon:'-82.370206',lat:'28.080409'},{lon:'-82.372665',lat:'28.079872'},{lon:'-82.372883',lat:'28.079283'},{lon:'-82.372548',lat:'28.079037'},{lon:'-82.372686',lat:'28.077954'},{lon:'-82.373391',lat:'28.078172'},{lon:'-82.373625',lat:'28.077588'},{lon:'-82.374684',lat:'28.076858'},{lon:'-82.375527',lat:'28.077238'},{lon:'-82.375776',lat:'28.078434'},{lon:'-82.376935',lat:'28.078176'},{lon:'-82.378869',lat:'28.078439'},{lon:'-82.379083',lat:'28.078666'},{lon:'-82.378819',lat:'28.079341'},{lon:'-82.37937',lat:'28.078871'},{lon:'-82.379314',lat:'28.078056'},{lon:'-82.379869',lat:'28.077137'},{lon:'-82.380605',lat:'28.077388'},{lon:'-82.380854',lat:'28.076641'},{lon:'-82.381779',lat:'28.076732'},{lon:'-82.382368',lat:'28.0762'},{lon:'-82.382862',lat:'28.076514'},{lon:'-82.383773',lat:'28.076754'},{lon:'-82.382389',lat:'28.07615'},{lon:'-82.381733',lat:'28.076649'},{lon:'-82.380728',lat:'28.07638'},{lon:'-82.380793',lat:'28.074011'},{lon:'-82.379434',lat:'28.07309'},{lon:'-82.379061',lat:'28.072028'},{lon:'-82.378047',lat:'28.071477'},{lon:'-82.377383',lat:'28.069417'},{lon:'-82.40199',lat:'28.069336'},{lon:'-82.402296',lat:'28.069014'},{lon:'-82.4023',lat:'28.059819'},{lon:'-82.401989',lat:'28.056379'},{lon:'-82.400684',lat:'28.056393'},{lon:'-82.400711',lat:'28.055059'},{lon:'-82.39753',lat:'28.055053'},{lon:'-82.397528',lat:'28.025222'},{lon:'-82.397741',lat:'28.023518'},{lon:'-82.40114',lat:'28.022959'},{lon:'-82.404605',lat:'28.021633'},{lon:'-82.405131',lat:'28.021801'},{lon:'-82.404858',lat:'28.021514'},{lon:'-82.405778',lat:'28.021191'},{lon:'-82.406135',lat:'28.020325'},{lon:'-82.407097',lat:'28.020359'},{lon:'-82.409128',lat:'28.019761'},{lon:'-82.410073',lat:'28.019091'},{lon:'-82.410043',lat:'27.999731'},{lon:'-82.401916',lat:'27.999718'},{lon:'-82.401643',lat:'27.981465'},{lon:'-82.393611',lat:'27.981482'},{lon:'-82.393575',lat:'27.974439'},{lon:'-82.393135',lat:'27.973998'},{lon:'-82.393558',lat:'27.970393'},{lon:'-82.393508',lat:'27.967319'},{lon:'-82.380359',lat:'27.967082'},{lon:'-82.367225',lat:'27.967598'},{lon:'-82.367269',lat:'27.961198'},{lon:'-82.368457',lat:'27.957696'},{lon:'-82.36906',lat:'27.957016'},{lon:'-82.36909',lat:'27.955417'},{lon:'-82.370702',lat:'27.950855'},{lon:'-82.372945',lat:'27.949066'},{lon:'-82.374256',lat:'27.948512'},{lon:'-82.375689',lat:'27.948508'},{lon:'-82.377082',lat:'27.946015'},{lon:'-82.378043',lat:'27.945103'},{lon:'-82.380254',lat:'27.945236'},{lon:'-82.382369',lat:'27.946617'},{lon:'-82.383477',lat:'27.946716'},{lon:'-82.385334',lat:'27.948286'},{lon:'-82.386548',lat:'27.948435'},{lon:'-82.390007',lat:'27.946749'},{lon:'-82.389807',lat:'27.945618'},{lon:'-82.39084',lat:'27.946317'},{lon:'-82.393124',lat:'27.945412'},{lon:'-82.393186',lat:'27.944725'},{lon:'-82.394017',lat:'27.945092'},{lon:'-82.3952',lat:'27.944841'},{lon:'-82.397469',lat:'27.945132'},{lon:'-82.403458',lat:'27.945127'},{lon:'-82.404453',lat:'27.944498'},{lon:'-82.405416',lat:'27.94433'},{lon:'-82.40597',lat:'27.943091'},{lon:'-82.407527',lat:'27.942744'},{lon:'-82.409825',lat:'27.941622'},{lon:'-82.40992',lat:'27.940723'},{lon:'-82.409654',lat:'27.940612'},{lon:'-82.409933',lat:'27.940262'},{lon:'-82.409893',lat:'27.941681'},{lon:'-82.409161',lat:'27.942266'},{lon:'-82.410439',lat:'27.941731'},{lon:'-82.409629',lat:'27.923053'},{lon:'-82.412649',lat:'27.921518'},{lon:'-82.423588',lat:'27.914468'},{lon:'-82.425076',lat:'27.91201'},{lon:'-82.427316',lat:'27.9106'},{lon:'-82.435358',lat:'27.904313'},{lon:'-82.43855',lat:'27.902483'},{lon:'-82.449016',lat:'27.894701'},{lon:'-82.449316',lat:'27.864702'},{lon:'-82.45012',lat:'27.838639'},{lon:'-82.449928',lat:'27.817568'},{lon:'-82.565819',lat:'27.817603'},{lon:'-82.566819',lat:'27.858002'},{lon:'-82.567916',lat:'27.883701'},{lon:'-82.568719',lat:'27.8929'},{lon:'-82.570019',lat:'27.8999'},{lon:'-82.573419',lat:'27.909'},{lon:'-82.577519',lat:'27.916'},{lon:'-82.581819',lat:'27.921699'},{lon:'-82.587819',lat:'27.928299'},{lon:'-82.597219',lat:'27.935199'},{lon:'-82.601419',lat:'27.937299'},{lon:'-82.61292',lat:'27.940999'},{lon:'-82.62262',lat:'27.943099'},{lon:'-82.64832',lat:'27.947398'},{lon:'-82.64882',lat:'27.979497'}];
AddRaidPolygon(raid_mapLayer, VTampa0,"#"," TampaSimp");

var VTownNC0 = [{lon:'-82.639495',lat:'28.038854'},{lon:'-82.567266',lat:'28.039976'},{lon:'-82.549533',lat:'28.038381'},{lon:'-82.526819',lat:'28.037084'},{lon:'-82.525818',lat:'28.036322'},{lon:'-82.525452',lat:'28.035402'},{lon:'-82.526083',lat:'27.996906'},{lon:'-82.533962',lat:'27.997047'},{lon:'-82.534237',lat:'27.994126'},{lon:'-82.534143',lat:'27.989412'},{lon:'-82.537939',lat:'27.989524'},{lon:'-82.538018',lat:'27.98563'},{lon:'-82.542618',lat:'27.985613'},{lon:'-82.542637',lat:'27.974451'},{lon:'-82.546989',lat:'27.974322'},{lon:'-82.546501',lat:'27.981716'},{lon:'-82.558744',lat:'27.981811'},{lon:'-82.558824',lat:'27.974385'},{lon:'-82.55813',lat:'27.974079'},{lon:'-82.548906',lat:'27.973991'},{lon:'-82.546615',lat:'27.97115'},{lon:'-82.550008',lat:'27.970994'},{lon:'-82.550015',lat:'27.9683'},{lon:'-82.558898',lat:'27.968413'},{lon:'-82.55878',lat:'27.970139'},{lon:'-82.559201',lat:'27.971351'},{lon:'-82.561642',lat:'27.972546'},{lon:'-82.565483',lat:'27.972675'},{lon:'-82.567148',lat:'27.972181'},{lon:'-82.568268',lat:'27.971383'},{lon:'-82.568328',lat:'27.970781'},{lon:'-82.570079',lat:'27.970789'},{lon:'-82.570083',lat:'27.971068'},{lon:'-82.58282',lat:'27.976386'},{lon:'-82.583677',lat:'27.979134'},{lon:'-82.590678',lat:'27.979374'},{lon:'-82.590713',lat:'27.97975'},{lon:'-82.590128',lat:'27.979978'},{lon:'-82.590349',lat:'27.98064'},{lon:'-82.590651',lat:'27.980451'},{lon:'-82.59039',lat:'27.97999'},{lon:'-82.590747',lat:'27.979858'},{lon:'-82.590836',lat:'27.979347'},{lon:'-82.590908',lat:'27.979592'},{lon:'-82.591623',lat:'27.979618'},{lon:'-82.592528',lat:'27.97929'},{lon:'-82.5935',lat:'27.979698'},{lon:'-82.596439',lat:'27.979846'},{lon:'-82.600209',lat:'27.980543'},{lon:'-82.60051',lat:'27.980947'},{lon:'-82.600351',lat:'27.981331'},{lon:'-82.602024',lat:'27.982571'},{lon:'-82.602479',lat:'27.982304'},{lon:'-82.604046',lat:'27.982697'},{lon:'-82.605253',lat:'27.98393'},{lon:'-82.606845',lat:'27.984733'},{lon:'-82.606742',lat:'27.98613'},{lon:'-82.607393',lat:'27.98683'},{lon:'-82.60757',lat:'27.987952'},{lon:'-82.60802',lat:'27.98841'},{lon:'-82.607857',lat:'27.988729'},{lon:'-82.608644',lat:'27.988319'},{lon:'-82.60822',lat:'27.986665'},{lon:'-82.611361',lat:'27.988439'},{lon:'-82.611522',lat:'27.989229'},{lon:'-82.611165',lat:'27.989455'},{lon:'-82.61052',lat:'27.989416'},{lon:'-82.610073',lat:'27.98881'},{lon:'-82.609522',lat:'27.989009'},{lon:'-82.609444',lat:'27.988746'},{lon:'-82.609529',lat:'27.989702'},{lon:'-82.609066',lat:'27.990665'},{lon:'-82.609857',lat:'27.990474'},{lon:'-82.610117',lat:'27.99099'},{lon:'-82.610259',lat:'27.990797'},{lon:'-82.610905',lat:'27.9911'},{lon:'-82.6119',lat:'27.990845'},{lon:'-82.612322',lat:'27.990504'},{lon:'-82.612249',lat:'27.990224'},{lon:'-82.612641',lat:'27.990415'},{lon:'-82.611853',lat:'27.991808'},{lon:'-82.612254',lat:'27.991729'},{lon:'-82.612323',lat:'27.99252'},{lon:'-82.612883',lat:'27.992331'},{lon:'-82.613078',lat:'27.993281'},{lon:'-82.612796',lat:'27.993436'},{lon:'-82.61286',lat:'27.994161'},{lon:'-82.612756',lat:'27.993858'},{lon:'-82.612337',lat:'27.994252'},{lon:'-82.612551',lat:'27.993856'},{lon:'-82.612204',lat:'27.993765'},{lon:'-82.610742',lat:'27.994103'},{lon:'-82.611153',lat:'27.994484'},{lon:'-82.609971',lat:'27.994672'},{lon:'-82.610272',lat:'27.994698'},{lon:'-82.610141',lat:'27.99576'},{lon:'-82.610887',lat:'27.997114'},{lon:'-82.611137',lat:'27.996769'},{lon:'-82.61142',lat:'27.997303'},{lon:'-82.612314',lat:'27.997156'},{lon:'-82.612854',lat:'27.995796'},{lon:'-82.611956',lat:'27.994716'},{lon:'-82.613011',lat:'27.995005'},{lon:'-82.61296',lat:'27.994537'},{lon:'-82.613398',lat:'27.994255'},{lon:'-82.613179',lat:'27.993977'},{lon:'-82.613999',lat:'27.994559'},{lon:'-82.614454',lat:'27.994644'},{lon:'-82.614636',lat:'27.994339'},{lon:'-82.61495',lat:'27.994755'},{lon:'-82.615452',lat:'27.994629'},{lon:'-82.615449',lat:'27.994958'},{lon:'-82.615761',lat:'27.994749'},{lon:'-82.615718',lat:'27.995322'},{lon:'-82.615856',lat:'27.994744'},{lon:'-82.616232',lat:'27.995132'},{lon:'-82.616083',lat:'27.994616'},{lon:'-82.615591',lat:'27.994481'},{lon:'-82.615624',lat:'27.994237'},{lon:'-82.615976',lat:'27.994309'},{lon:'-82.615912',lat:'27.993978'},{lon:'-82.615627',lat:'27.994059'},{lon:'-82.615453',lat:'27.993448'},{lon:'-82.61404',lat:'27.991813'},{lon:'-82.613336',lat:'27.991645'},{lon:'-82.613683',lat:'27.991454'},{lon:'-82.613392',lat:'27.991518'},{lon:'-82.613577',lat:'27.991188'},{lon:'-82.613171',lat:'27.991117'},{lon:'-82.613323',lat:'27.990138'},{lon:'-82.614622',lat:'27.990507'},{lon:'-82.61789',lat:'27.992693'},{lon:'-82.619227',lat:'27.993756'},{lon:'-82.61987',lat:'27.994868'},{lon:'-82.620211',lat:'27.994662'},{lon:'-82.620281',lat:'27.995025'},{lon:'-82.621123',lat:'27.994578'},{lon:'-82.621926',lat:'27.992995'},{lon:'-82.621881',lat:'27.99403'},{lon:'-82.620966',lat:'27.99525'},{lon:'-82.621201',lat:'27.997224'},{lon:'-82.621736',lat:'27.99765'},{lon:'-82.622618',lat:'27.997483'},{lon:'-82.623181',lat:'27.997766'},{lon:'-82.623313',lat:'27.999105'},{lon:'-82.622607',lat:'27.99987'},{lon:'-82.623914',lat:'28.000478'},{lon:'-82.624248',lat:'28.001257'},{lon:'-82.619411',lat:'27.998015'},{lon:'-82.618851',lat:'27.998719'},{lon:'-82.618771',lat:'27.998517'},{lon:'-82.618387',lat:'27.999569'},{lon:'-82.618064',lat:'27.999353'},{lon:'-82.616271',lat:'28.001223'},{lon:'-82.617106',lat:'28.003067'},{lon:'-82.617477',lat:'28.003098'},{lon:'-82.617434',lat:'28.003415'},{lon:'-82.617849',lat:'28.003707'},{lon:'-82.617575',lat:'28.003982'},{lon:'-82.617171',lat:'28.003365'},{lon:'-82.616321',lat:'28.003316'},{lon:'-82.615644',lat:'28.002703'},{lon:'-82.615561',lat:'28.002302'},{lon:'-82.615912',lat:'28.002197'},{lon:'-82.615547',lat:'28.002145'},{lon:'-82.614955',lat:'28.00252'},{lon:'-82.615281',lat:'28.002929'},{lon:'-82.614886',lat:'28.003287'},{lon:'-82.615331',lat:'28.003294'},{lon:'-82.614728',lat:'28.003705'},{lon:'-82.614579',lat:'28.004299'},{lon:'-82.616016',lat:'28.005582'},{lon:'-82.615892',lat:'28.006759'},{lon:'-82.616386',lat:'28.006699'},{lon:'-82.616936',lat:'28.00738'},{lon:'-82.617806',lat:'28.007535'},{lon:'-82.617992',lat:'28.007971'},{lon:'-82.618558',lat:'28.008086'},{lon:'-82.618477',lat:'28.008997'},{lon:'-82.619286',lat:'28.009693'},{lon:'-82.620184',lat:'28.009547'},{lon:'-82.619982',lat:'28.009939'},{lon:'-82.620469',lat:'28.010668'},{lon:'-82.620195',lat:'28.010967'},{lon:'-82.620732',lat:'28.011244'},{lon:'-82.62062',lat:'28.012037'},{lon:'-82.62122',lat:'28.012802'},{lon:'-82.62307',lat:'28.012542'},{lon:'-82.62494',lat:'28.013168'},{lon:'-82.624228',lat:'28.011717'},{lon:'-82.625024',lat:'28.01086'},{lon:'-82.624739',lat:'28.010673'},{lon:'-82.625113',lat:'28.009935'},{lon:'-82.624825',lat:'28.008477'},{lon:'-82.625242',lat:'28.008898'},{lon:'-82.625478',lat:'28.008592'},{lon:'-82.62568',lat:'28.009281'},{lon:'-82.626562',lat:'28.009233'},{lon:'-82.626744',lat:'28.008899'},{lon:'-82.627554',lat:'28.009994'},{lon:'-82.627844',lat:'28.010011'},{lon:'-82.627768',lat:'28.009692'},{lon:'-82.628173',lat:'28.009898'},{lon:'-82.628106',lat:'28.010814'},{lon:'-82.62846',lat:'28.011814'},{lon:'-82.627155',lat:'28.013417'},{lon:'-82.627119',lat:'28.014716'},{lon:'-82.626701',lat:'28.0155'},{lon:'-82.627736',lat:'28.018692'},{lon:'-82.628102',lat:'28.019078'},{lon:'-82.628928',lat:'28.018992'},{lon:'-82.630047',lat:'28.01998'},{lon:'-82.629866',lat:'28.020506'},{lon:'-82.629318',lat:'28.020424'},{lon:'-82.628752',lat:'28.020497'},{lon:'-82.629067',lat:'28.020051'},{lon:'-82.62838',lat:'28.01967'},{lon:'-82.627065',lat:'28.021346'},{lon:'-82.627836',lat:'28.021749'},{lon:'-82.628837',lat:'28.02051'},{lon:'-82.630725',lat:'28.020605'},{lon:'-82.630659',lat:'28.020963'},{lon:'-82.631826',lat:'28.022491'},{lon:'-82.631874',lat:'28.023163'},{lon:'-82.632383',lat:'28.023601'},{lon:'-82.63209',lat:'28.024304'},{lon:'-82.630998',lat:'28.024699'},{lon:'-82.631392',lat:'28.024711'},{lon:'-82.631927',lat:'28.025541'},{lon:'-82.632126',lat:'28.025261'},{lon:'-82.632812',lat:'28.025874'},{lon:'-82.634036',lat:'28.025981'},{lon:'-82.634449',lat:'28.027155'},{lon:'-82.633333',lat:'28.028474'},{lon:'-82.632358',lat:'28.028134'},{lon:'-82.633241',lat:'28.028798'},{lon:'-82.631774',lat:'28.028055'},{lon:'-82.633728',lat:'28.029422'},{lon:'-82.634115',lat:'28.030041'},{lon:'-82.632049',lat:'28.030614'},{lon:'-82.631352',lat:'28.031416'},{lon:'-82.631352',lat:'28.031898'},{lon:'-82.633289',lat:'28.031164'},{lon:'-82.635201',lat:'28.03121'},{lon:'-82.634116',lat:'28.032608'},{lon:'-82.636208',lat:'28.033227'},{lon:'-82.636054',lat:'28.034648'},{lon:'-82.637113',lat:'28.035313'},{lon:'-82.637966',lat:'28.036458'},{lon:'-82.639309',lat:'28.037238'},{lon:'-82.639495',lat:'28.038854'}];
AddRaidPolygon(raid_mapLayer, VTownNC0,"#"," Town N Country");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
//generateholes(mro_Map, raid_mapLayer);



    
	
    setTimeout(function(){CurrentRaidLocation(raid_mapLayer);},3000);
    mro_Map.events.register("moveend", Waze.map, function(){CurrentRaidLocation(raid_mapLayer);});
    mro_Map.events.register("zoomend", Waze.map, function(){CurrentRaidLocation(raid_mapLayer);});
       
}

bootstrap_MapRaidOverlay(); 