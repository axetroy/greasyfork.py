// ==UserScript==
// @name         Tagless manga
// @namespace    http://tampermonkey.net/
// @version      0.21
// @description  Tagless manga on Anilist.co
// @author       hoh
// @match        https://anilist.co/*
// @grant        none
// ==/UserScript==
(function(){



var handleResponse = function(response){
	return response.json().then(function(json){
		return response.ok ? json : Promise.reject(json);
	});
}
var handleError = function(error){
	//alert("Error, check console"); //fixme
	console.error(error);
};
var url = 'https://graphql.anilist.co';//Current Anilist API location

var generalAPIcall = function(query,variables,callback){
	var handleData = function(data){
		callback(data);
	};
	var options = {
		method: 'POST',
		headers: {
			'Content-Type': 'application/json',
			'Accept': 'application/json',
		},
		body: JSON.stringify({
			query: query,
			variables: variables
		})
	};
	fetch(url,options).then(handleResponse).then(handleData).catch(handleError);
};

var pending = 0;

var cache = [
30912,85282,53419,30054,35113,48619,39726,35801,30373,31282,49671,85506,30773,33126,98346,40376,31037,72867,30965,53718,87284,73921,30229,33992,85939,36444,53751,30338,33645,85504,42917,74227,82435,55547,43841,36604,76818,97277,100557,31238,30173,38158,82277,31702,85224,30707,73999,101756,34333,30749,100293,32179,46791,74733,34628,62097,58107,31265,31215,35802,31504,30405,99616,99588,31410,79305,98563,85865,67917,35114,30668,51274,98564,31147,87138,93940,85623,41330,85825,30580,98232,40970,30357,97741,46648,40580,33941,87233,30296,81527,33407,98826,98701,35630,30967,30662,30728,31902,55191,31264,85964,32914,30900,42549,34068,31476,30845,93006,30278,38937,50096,101521,32561,75509,45764,30356,99920,63687,30413,62347,85367,32563,31604,59651,85192,85926,78479,101721,72005,100693,94270,99573,31315,39429,39057,94659,40016,31239,54464,77533,99886,86467,64571,30526,30175,97362,76582,40112,43513,72905,30886,97363,35356,40690,37653,98886,46104,34660,85385,95840,53778,30456,42292,34642,54339,30486,64841,31675,45921,49465,39709,101428,87350,33303,65315,30174,53067,99773,85539,87536,87309,100770,101625,78283,37404,31933,100068,87042,85635,63581,65261,31189,54397,40956,42322,65313,31827,54438,33284,99465,31670,100685,30780,30406,97128,99759,59185,86899,86411,42386,49672,100136,31823,30551,64485,82149,48553,103156,103034,55916,83537,31322,101722,87306,46759,87285,95332,67923,85474,39760,31266,99543,40954,101553,77048,65865,30782,98367,54530,49551,35413,44439,39468,97653,55946,33485,98912,85270,77030,97789,98284,40447,92494,71027,87537,76604,98795,54518,36758,100310,80993,51132,101122,31043,40809,30954,99587,100316,99928,86390,30978,36642,30438,101853,101141,93313,30955,99189,92798,66129,30632,86273,73707,33232,31253,98802,63671,45426,44085,30732,85838,35239,99640,66283,30141,85668,39129,33229,31118,63043,54499,30287,101038,97615,87353,101863,85348,82571,51231,33128,33020,97371,102476,100355,97713,34615,32966,101686,99853,98490,48127,44475,33239,101449,69859,42316,35930,33120,85343,75347,99559,87444,63619,56474,30741,99334,98009,33873,92671,77028,50302,36997,67405,64329,30182,99933,98415,96969,95378,63125,35402,99545,77957,61129,44411,38434,103894,99260,97923,92224,30937,86272,35038,33881,30377,95221,63059,30499,31592,51443,100660,97671,70281,31822,101641,97704,85431,84983,31355,92130,87207,43026,31819,64989,56771,44152,98283,86230,63113,47644,64029,54619,67403,65593,48251,43238,96463,51785,44998,36028,84775,55079,41496,34327,98219,94756,81769,54934,41310,103609,100477,85205,38847,30557,40259,33395,98030,66803,34519,101735,101591,98280,87334,85767,85523,51582,36070,33310,31156,103215,101129,99670,98836,93014,85748,81773,48162,38743,33580,31343,98413,97240,59005,51555,37223,31717,31698,31665,86785,98282,98013,41760,101845,85844,53205,45943,40265,38016,33920,102048,101822,100763,87512,86401,56012,44625,97466,43326,33961,98837,71607,55149,40410,35699,33272,30328,100126,54190,60763,33714,101700,98819,55588,40245,30709,102492,76222,45001,31539,30072,86487,85454,76004,43056,41968,34342,99039,85283,62561,33697,31618,31350,99891,86794,86159,74587,55426,54908,42137,30162,49018,44377,87141,35390,33870,32564,31788,86293,54659,44603,42293,31829,100935,48196,42371,30432,104133,102023,98275,97723,65585,51178,40428,87272,85272,78625,97549,86823,54839,52830,43027,49067,39134,31395,30723,99719,38706,103238,101828,101134,100196,97651,50128,85405,34967,30201,87197,62773,103612,101769,98418,89976,56531,42723,38198,93080,92936,86825,85602,51587,34594,101175,99377,97353,31693,98262,87317,59175,42929,86163,85346,72851,51697,44667,36920,31062,101159,92509,91321,103875,103655,101131,98157,33825,30216,100872,95806,88547,57361,55594,50963,49969,47294,36901,33874,98327,96260,95406,94218,87011,44931,42230,40230,35599,34080,33334,31922,99962,56706,52625,36818,59013,56006,44066,40491,35472,32913,32912,103184,99751,99326,97837,96808,30517,103180,102853,94345,86366,86275,85209,34102,30840,99560,99541,99370,71957,101640,99620,97929,66119,55280,41128,35421,32985,31621,30511,30464,45318,39273,37754,33396,30283,30140,101252,100758,98799,42990,42932,34963,100733,100311,99533,95177,86851,85757,80007,43559,41263,36446,38558,34153,98824,69349,51907,35852,34485,34242,30529,30349,97849,92177,85744,61093,50598,56097,36292,72755,64871,55857,53568,41608,38799,36914,35490,34010,31443,99890,98720,94246,91996,73903,71681,56203,102202,101770,101617,100086,99248,98958,93495,86573,86454,73155,62765,34117,31780,31254,30846,100828,88241,86245,85720,85580,74589,37579,35929,35434,34429,33202,30876,30672,102169,100175,99899,53061,47390,43259,39889,33043,32178,31010,103195,101710,86085,85513,82525,65739,53630,30788,30322,100751,100008,97729,41271,35826,35689,33843,31071,99815,98364,97726,87418,82825,77613,76920,52632,46101,30125,101762,100074,100054,99852,98813,92659,89883,86946,40306,38808,37453,31775,30506,103850,103798,101851,99758,98273,98241,73111,49137,46066,85425,64075,50983,43333,41350,34331,97845,73539,73065,31705,31643,31387,99142,98887,96112,94247,90097,70437,54901,49317,48033,46324,41454,38655,34143,32973,31910,31689,31081,31038,101667,100725,100426,99913,98278,87372,86191,85553,77669,70019,64239,52502,44807,72915,68155,55574,55075,44205,42408,97233,95578,87139,68989,66813,54813,45516,38535,37314,34695,31296,31160,101894,100425,99665,97369,95441,95068,88279,34639,32958,30532,99756,91951,88933,88145,41420,41153,38458,36236,32562,30497,104057,100760,98008,97722,41694,40817,30593,102029,101144,100915,56939,38858,38671,40346,35366,82495,82131,81945,74719,72971,66015,41028,33602,31857,98023,96036,90902,83611,63899,59979,52976,50962,44638,36566,34152,30887,98803,86189,74583,70615,63837,61289,57083,51133,44218,33176,31359,30228,101893,100731,100233,100139,98782,97597,97217,87333,86048,94006,91517,85836,68727,64031,61183,59167,54252,49463,43666,102533,99028,98821,98740,98019,93193,91407,90994,48690,43467,43312,42547,42129,40354,35786,33533,31406,100670,100559,86306,82343,68423,64569,60819,53003,100205,98994,92453,86108,67863,63357,62961,54412,63593,63143,55722,50299,43375,38498,33827,32999,30341,103608,102011,101561,93988,85930,81745,68271,57205,54949,53864,53796,48293,46139,45156,103845,102961,86252,81921,73533,51617,50891,50378,49689,41762,41333,40925,33129,52387,46469,43071,42804,41352,39072,34814,34404,32701,31742,37405,34586,31901,103678,101202,100917,99484,98750,100571,100145,98545,94658,91680,87410,81771,72231,65155,95169,92818,85928,66491,64215,62613,73139,59401,51454,47319,41221,32929,31305,31132,30478,100730,99980,98236,95839,95265,92904,59015,55039,50437,49402,49283,43358,42847,38560,43286,42097,37091,33983,30719,33953,33826,33509,30519,30155,102904,99929,99737,99245,92511,92275,91258,88929,46546,43709,43605,42618,36874,36043,35405,34762,32537,31654,102250,101745,101256,100357,98356,98242,93538,87126,86790,73353,59507,54378,51908,51135,82515,72597,58541,55655,55441,54656,47993,47457,43603,33111,31091,31055,103738,100969,99747,99069,98102,97928,96450,96023,95249,98867,97705,90407,89067,85840,78977,69927,57147,53121,52520,43313,37238,35756,35165,34160,79401,70419,67477,54158,51539,48551,48098,45604,43867,42158,36682,31688,31116,30386,102751,102253,101896,101836,101482,101284,100163,98975,98830,98169,97900,96278,94808,44447,36488,34848,33421,31622,31462,31114,104066,102354,100734,100706,99760,99350,97652,95338,95285,51156,50964,46738,46109,43317,41248,39401,39170,37725,34940,34646,34007,33130,30289,103220,103029,102259,101439,100823,99952,99287,93075,93071,91579,35590,34755,34221,33905,33864,30346,30312,103908,103843,103677,103135,52602,48072,44994,44623,43583,43135,43109,86723,85583,84623,59361,53449,52126,85905,85368,82833,75059,73727,68789,66753,63391,61219,59697,47318,46368,44371,101824,101551,98119,91501,85528,71657,41474,41424,40411,39929,34911,33849,31936,31310,30367,103089,101826,100988,100779,100039,99346,41499,41184,40402,39958,35584,33823,33070,30596,89977,88846,84239,82847,73211,68987,65043,60729,59733,54163,50577,90869,86222,74789,68719,63585,55663,30408,98394,97501,93556,90006,85259,67577,66393,31115,101780,101644,100850,99752,98361,98124,97817,97536,97247,93312,61807,60275,60261,54782,53873,49611,42169,52606,49365,43641,40524,37661,37028,36324,54623,83813,39023,75131,31873,62083,38540,36752,86938,50336,97699,48993,47362,45689,44304,43629,38322,36458,42130,37805,32700,85742,97006,35851,98321,96792,33053,37556,101559,57785,31678,80835,46282,38859,101590,35705,35652,35110,32559,102171,99025,98530,98279,97699,97564,97006,96855,95266,91672,90918,88098,86938,86862,85742,85273,102216,101590,101559,101436,93665,93389,91629,90205,87067,86979,86745,86461,85815,80005,68825,67651,66555,65663,65149,61215,64819,84037,89422,101978,52829,45918,81517,63075,33131,31855,92536,99979,40078,88464,49811,77204,34197,74141,42654,98724,60325,42410,101120,69889,40194,68871,51719,83977,47635,45076,103192,100384,33316,80937,39977,73259,38960,82519,50527,99168,52576,86455,97721,60345,100029,38078,103641,95198,40158,60127,100076,39916,101613,81137,103867,40394,97740,100300,37584,53974,52702,99042,101606,39913,85497,55537,53749,34606,31540,43063,95544,37118,68359,38407,90377,103186,39960,78873,42530,41254,88103,41268,50610,103859,41913,100809,100566,77529,88044,98165,49538,54406,93593,97196,31916,86197,34603,46130,73273,101957,51036,60767,34105,30525,93504,41280,65863,103246,69713,91729,103253,86107,52084,86915,54407,82573,96405,97435,91038,33696,68265,99502,103610,103866,100033,94416,33496,82657,33510,43496,40440,37761,101764,100236,72333,93069,32910,68515,56498,100531,102069,65021,88849,101412,87081,39987,101692,101954,86083,51269,100428,82771,82523,43611,45941,41580,31094,90238,92822,82599,82601,92345,38597,90573,71891,59093,61397,55002,68837,56045,87026,94100,93084,50335,50595,51878,82603,39086,75697,96699,33211,97725,41059,54634,98158,104305,38770,55669,45436,55686,102641,54514,99071,39939,76548,90117,93447,45077,40727,43546,87324,84509,46365,76574,44230,103884,75725,60117,96744,100075,96756,99572,35067,52512,73263,98358,55445,49305,44445,39847,78271,100799,88773,94410,37688,33087,55363,73291,33376,90473,60009,43884,52089,56420,55920,85878,54391,96888,92537,86141,43650,85123,103814,36999,41106,62101,41115,93857,99233,57255,82605,62387,100535,30138,49082,98350,103217,99892,54838,73025,30274,81733,98641,101205,33110,45402,51493,44853,88133,101192,42062,36947,86358,41561,103102,52930,79555,97987,56269,86479,64719,30161,55511,70623,37092,92134,44777,91115,89582,57593,69885,38401,81669,37637,101127,85769,81931,44811,57611,85260,97299,86814,101892,45580,92941,55061,88860,97310,97316,41427,78037,40157,92660,52468,39925,40693,41256,45353,34610,90931,101427,86075,38719,98368,38467,92233,55115,98643,85644,94605,57745,101271,75417,73115,95643,91293,103840,32931,100529,34999,82619,93631,41300,82517,82775,90455,102750,61279,31842,83305,94072,44416,91778,33410,98949,38237,41821,69471,66659,86127,51573,33923,50313,103564,73103,79505,88130,104014,77903,34128,40020,92760,31833,98393,41052,42596,35109,59947,47150,63797,92982,103229,38976,43585,93508,30533,99910,80969,97868,31311,63573,94041,83291,44960,90532,101801,103853,33467,103868,102078,35822,34035,31481,44805,93708,30480,69905,77585,64019,85525,104216,41247,100565,42223,99313,73209,60667,69887,91400,34317,102170,38426,44584,54312,55850,100396,53043,96308,96149,93850,41885,31646,42913,40869,93103,102831,103855,51887,99762,55733,61261,62545,99411,104022,99927,37723,42595,101739,42351,71793,40049,36033,30402,97738,59343,77008,92883,89561,103644,98271,53222,54758,88296,39912,41450,89557,103897,89062,39914,52458,35053,39921,41971,93175,102137,91392,65795,40451,56069,50697,103075,31140,68521,42409,69037,88244,96695,96951,101560,104121,39865,57787,33212,50109,57703,67947,97899,34155,48254,91781,34186,68865,89862,39942,39943,38159,34065,63761,33812,42529,62737,87318,98840,49690,93470,90911,46879,99617,59687,103212,30253,94244,103204,49202,33589,30270,103230,43070,96833,103233,89671,77256,98250,38091,97744,39888,42960,52432,38097,99284,98018,79587,58341,90854,96232,96749,50932,100150,103227,46653,100424,45131,95564,31053,56909,59981,68949,100949,41050,93557,46456,104322,53634,86148,32134,57735,88712,103562,101006,102287,94608,69265,85396,76182,82589,55941,57733,95366,89482,42127,97680,90513,52897,101035,30636,48301,82865,95413,48730,101988,62573,84079,98160,90481,31601,40822,90232,84089,94589,103294,68223,103295,52866,33411,100162,101698,101955,100933,86086,70731,41549,31054,52307,42836,104282,40796,33373,104030,80479,94047,104031,71117,95181,97742,98770,91606,101335,37080,93145,64217,37851,103907,87269,53410,53923,30378,32426,82863,103606,54202,42171,100035,95995,36866,91399,96777,98825,83981,30477,53520,46866,69909,104221,34846,101151,59937,68143,48948,85558,56630,56120,96825,30527,90177,93505,37863,37096,99053,36852,40182,95479,102139,67583,32777,95499,42182,88012,53708,62671,49106,30675,100315,40414,48865,50403,62691,36839,92910,55887,58963,45148,30558,82783,52832,61281,66915,102243,101736,101742,99702,61815,104061,31871,97408,43393,101251,30340,103816,50312,86155,80525,53389,88723,33429,47254,33433,100708,53860,95595,97390,85874,68729,94336,91266,46468,101766,54918,56461,58001,52122,95901,51102,94111,31393,103073,44962,102052,30376,93358,50353,54194,36790,63933,73153,85441,60709,56873,34346,43055,56883,101687,33339,58939,64573,101438,94787,46917,30535,94024,83425,95969,56035,66533,85478,101357,93169,81141,104438,81143,102136,47352,103165,46590,73731,34566,35777,100041,95180,34771,89556,67031,94167,30679,98264,91355,56032,76044,49165,37134,101136,103187,92183,39959,95778,50982,83495,35625,40798,43363,82533,37222,31851,30060,37998,99439,53872,94578,92544,87430,31368,90474,50540,52077,82543,94064,99953,94071,96131,93068,54415,68753,101269,61845,34971,101592,98011,103651,63203,87012,88039,33768,91371,44015,39926,73207,85245,48637,59133,95744,44081,78899,96051,91966,100672,44100,45382,55626,38748,101806,44207,74931,101562,102586,91324,41916,77252,47816,99529,38095,73425,35286,101007,82577,89489,70293,52373,86166,45462,52375,64151,102808,101022,69025,41122,100007,42565,96330,82507,35660,98894,40541,51293,38496,68961,100454,95473,48882,102901,37113,51193,96250,97278,73729,100098,41986,34310,87048,101643,34316,104206,41999,98832,49681,88836,52228,55822,40720,103185,87060,95253,95254,98071,98839,98329,39967,51232,84513,99777,60359,43720,91604,103636,81885,95454,98276,98277,62697,103146,44963,51115,48306,68793,79801,96703,79041,90561,30484,88347,96795,100638,56096,84005,59689,103213,100913,30258,35639,99898,30523,38715,45095,36917,37686,55865,63289,55100,103232,103236,42820,43332,89478,50311,92040,40328,84107,46991,75927,30359,102811,58781,89502,98463,103072,68257,82593,38461,100927,103231,36931,104005,102731,81229,96849,31314,89172,41556,89432,83035,58204,83293,83039,81505,88162,31843,44646,33648,99440,92546,94596,47269,33453,87218,50869,97206,68281,72377,67777,41921,92354,72645,62661,30150,55756,53711,68817,33489,100819,41428,55512,97241,103899,42715,68573,70621,92637,59869,97759,46047,73189,53990,87276,95324,95325,41056,93537,88163,37738,52844,98670,47727,33094,74567,36935,62537,95562,36428,102733,88656,46675,104020,68437,94806,34649,46475,92813,45197,102030,38798,97429,49558,103074,79271,83369,30122,39923,58871,90107,101884,37128,51209,60681,47882,101133,89619,98325,50709,83993,40217,40220,68381,100383,93474,101414,33320,49704,83753,73515,96299,96555,44333,95542,48440,98366,100415,89560,87004,78301,103133,67807,57825,55525,48102,95719,47847,94184,34538,69357,83437,98798,85745,52977,81139,89526,40889,54203,63675,82621,32959,103876,53956,50117,103120,73715,57079,82681,38140,89344,41216,50948,57097,95754,91659,104204,42771,74777,56437,93558,94326,45944,61817,30842,35706,100987,37756,104060,38781,39808,92545,35459,98181,65157,38539,100124,99615,101413,101670,37926,49703,33832,69417,94762,103211,60719,31024,68657,60721,87349,93494,30520,96312,103736,98362,88416,101479,33896,37489,41843,35700,60533,76406,89974,83321,57977,83647,98758,31175,97483,31182,37332,41172,30168,92893,98781,101691,58427,104002,103235,33860,51012,39751,103240,99914,42827,95310,76370,86357,44374,83033,33114,100443,52377,83867,46491,83105,95907,33701,40617,96683,51373,33967,104113,36020,100277,79291,94651,62591,44160,92547,72839,53129,58505,42380,92815,99983,91792,68499,96150,50838,98270,45026,49634,88035,82663,96488,83433,83947,35051,33261,41713,52470,53238,88567,60663,53752,31634,89493,51605,97430,32152,86170,91546,92826,42401,53412,54180,98728,100521,91306,95914,101803,68379,37920,46117,33834,77100,96300,66093,81203,90934,81975,40248,95548,103234,49730,92997,36934,46151,82761,93001,104011,91214,88401,50002,87125,42838,52312,91993,99674,39002,94815,52064,82789,88677,39013,88684,95084,100460,44915,55667,35702,42416,86194,39859,88245,96693,42935,96700,55746,103108,82119,47047,38344,55754,50123,35277,46910,101951,89922,89923,98373,84039,89934,88399,39759,31056,104273,30547,91342,98001,104145,86996,42710,103895,53719,104154,63459,60645,54781,49918,101888,83969,44803,99593,93707,73229,88077,44813,103182,39953,61969,31252,88087,59483,86876,89436,40287,99427,88676,68453,58981,88166,95336,104297,82795,83819,99947,42447,90577,91098,91099,98267,94179,102884,53221,96998,70631,34279,34222,100014,54195,104118,54711,54712,62651,100802,88005,63685,100806,78791,101832,95692,57975,47225,103292,33406,92801,97666,91779,101763,84101,60295,40841,96490,98796,73203,60659,61939,100856,41720,44024,52984,66299,50941,35582,59393,51714,50951,88180,69493,90233,102267,38525,46206,73087,89479,55432,88463,51724,88335,70673,104209,100882,63255,67097,40477,86302,66591,68895,40826,102014,97409,86146,48003,60035,91780,76936,59529,102540,83855,62609,95634,33939,44693,89496,50320,83857,88721,91029,64405,52374,57753,65177,100250,96414,92063,43425,73123,44711,54439,33449,83945,90857,53483,55275,33260,68591,77809,99314,83443,39924,103158,66295,57591,81917,91393,63491,68191,69473,94052,45925,97384,97896,44648,94829,103280,86129,94069,88694,54135,38008,48168,49705,65835,88111,93489,78387,89652,99896,52283,54843,51772,51008,56897,50975,61729,53797,89894,73257,68141,79149,96559,52788,33079,89656,98360,53048,103739,68367,100111,55056,37906,33304,85275,95516,67101,45342,34079,68385,96547,74021,31782,37158,51661,90576,34003,34772,31703,88025,55001,97498,103131,90844,88542,55006,55774,85472,85728,98272,45024,74721,74977,68323,82915,47332,51941,86249,83181,45294,55283,61683,36084,86518,39927,55099,97340,104254,83265,99908,37705,103242,86348,96588,93776,65619,33619,101203,68255,33445,59815,50344,69033,39849,99754,101802,48554,32939,88749,50093,31663,88752,41650,100278,41975,45303,33528,69113,72953,47866,96766,98815,30466,104194,30468,39940,61701,43784,37129,39946,50446,52238,69903,88847,85432,79545,54713,86204,81085,84413,38846,54975,54976,101827,34244,95686,57799,97737,37833,101678,41006,40496,49201,58673,43060,53812,75317,41525,97846,73017,101433,82747,97596,33596,69181,59965,89406,83519,49727,69443,44196,34981,38059,47019,47787,100524,53164,97711,48303,41136,102068,38068,55760,95697,46545,73173,50389,100055,52696,96480,82147,31715,88036,94182,99047,68843,70637,62701,69103,91631,52828,86877,86879,68193,92515,52579,53859,49509,30311,99432,98665,59497,99946,104042,98156,104045,91759,89969,99909,86088,95563,101963,76876,71501,87373,88653,64337,76114,68691,68695,96087,91480,101720,68955,94044,45939,83829,100726,43129,91002,55163,74621,35713,63617,103300,68487,91783,55431,63623,95112,89481,69259,102028,53132,63241,97292,61709,91662,84495,44815,99603,88340,96788,97044,54548,72981,69911,76058,33562,62747,94492,40732,40733,46621,102899,100084,72949,103157,60661,90618,48122,57341,34558,45310,45568,89857,52227,68613,40710,46342,51206,54534,72967,37127,86792,97288,93203,76308,100628,88088,103193,59419,83229,79903,100895,55074,73003,46379,93498,93499,68925,42301,84033,43586,91971,37443,55622,55623,79433,101709,47437,96335,62287,88400,73041,44372,92046,50319,92816,83859,69013,83861,62869,96920,89241,82843,91550,83871,89503,35488,49056,92577,101821,100292,56004,91846,41415,94153,99669,104277,44373,102742,80727,69721,42841,47962,84059,94814,61023,95073,40289,52321,60771,99433,43371,98159,82617,59065,99770,67771,97211,89022,60351,85184,95684,91589,35783,37319,103624,83913,88009,97187,68517,57253,89510,44966,83111,91047,95913,33706,54443,60843,102833,103092,90807,37303,93040,54384,36722,83317,74871,103799,104055,34428,53374,82309,91015,54919,68235,83339,100747,102950,48167,61991,86824,51240,98345,96560,100144,35632,40753,41266,94003,51764,91191,58170,30268,85823,91788,87181,89999,99988,48020,68247,93591,52376,99993,56217,88476,88222,53152,49870,103121,38609,100563,103126,55510,92375,97496,93914,92891,100572,83933,68575,97503,46559,91364,100896,43296,82723,51748,38437,97831,61223,88360,104238,90415,73009,79667,96819,84021,104246,61669,88038,103142,49126,83175,94183,49641,53994,56043,60395,103150,83439,95472,101872,47856,70641,56309,94710,100854,48886,60151,62881,91042,33442,82595,34723,57251,103844,52388,45733,60583,90793,57257,83371,93614,39854,57523,90617,33785,101627,45308,57599,94976,85763,57603,86791,69899,94783,58431,100929,41025,51010,84547,90179,91972,90182,46918,66121,100170,102475,42830,101200,33620,82773,33622,69465,48332,88013,97485,53454,91603,46291,69589,98774,68567,56025,36316,83165,72159,44124,37470,103264,49507,55139,97640,103272,84077,38765,104303,96627,51060,82549,44917,85882,94842,57467,99453,34430,48766,75391,102015,103807,55936,68225,33922,85636,57221,91782,102536,53128,97931,57739,97677,98445,83343,59281,56722,55187,55443,41108,88727,68761,91034,31392,101602,83431,58089,86506,48109,41203,40718,30479,99343,69137,84499,103190,55830,35353,39961,92187,43547,91164,68383,100897,44318,99104,51234,57123,89893,91429,68903,84519,61737,100650,43306,83499,102956,39981,86200,90296,79033,65465,68539,100284,68541,98498,82885,103877,103881,55051,60683,39948,91661,39949,58637,98062,100622,33808,39952,86801,49425,104210,90393,91673,97307,92412,68605,56062,68863,51199,88834,72963,49411,99332,68869,92677,104453,83975,73481,91914,97035,91206,50502,90441,82763,83787,101708,90702,44878,35407,98128,84049,93522,92503,82777,89689,101209,101977,92506,99949,83825,95089,34161,60785,61809,89459,46963,68469,93047,93304,54392,74873,93561,53625,83323,88700,45948,83325,75101,61021,89439,39012,55142,75367,89191,68457,84073,35180,39020,68403,102963,102966,68411,68923,57403,95549,54333,47678,92994,68783,30383,98737,89522,100787,96180,95669,101557,62645,54198,82875,87996,95679,103616,51137,82627,86981,95685,43717,47813,46281,94154,100299,101068,35788,45004,95950,82895,92624,83153,55761,91602,47058,91347,99027,50387,99990,52118,45979,53403,61341,103582,40352,62369,100260,77989,101797,50087,30121,103849,68523,99755,73133,52861,100736,103552,38531,88452,79493,53126,100487,86152,75403,103052,82575,43152,54418,90515,102803,51155,101588,83157,103893,53461,103128,90330,103898,83675,89821,92381,88030,92639,50399,101601,40930,61751,95288,49976,91962,94011,98363,75069,91453,91709,56125,34110,103999,97088,73029,94792,98120,56649,31052,44108,34125,84047,104271,53583,64079,89681,104017,55634,88917,95062,33623,33625,60765,97374,50015,60001,55651,38500,45926,89447,93543,94567,35431,90729,89450,95082,89453,96877,99437,91760,103025,39058,86419,92823,99736,68249,94618,97690,94620,88733,60061,44958,95137,98722,44450,42661,59559,100777,88747,88748,32940,54188,51374,53166,73135,93616,48561,98738,55731,41910,102071,44913,57201,99442,73075,86131,98163,89461,64629,90231,35704,57209,57465,51834,68731,78203,82555,88699,102524,84605,54655,68993,30337,44929,94338,68739,68995,91268,91900,104445,82689,101121,39426,91395,92676,97796,81413,97029,38917,91656,81673,82697,87049,104203,39947,56332,69901,100623,104207,46725,54920,98185,50570,55434,68491,82827,89483,91019,54924,103565,103821,90510,94607,98447,101263,53137,59025,54055,34345,91178,69931,44844,88109,93485,88878,88879,42546,97587,103734,83511,86802,53523,61715,103189,93206,50710,72983,95255,91416,46105,46617,101148,46364,101150,88097,93985,104229,51940,99814,68327,54759,51944,36841,56042,93165,103661,59629,100847,30451,98804,77557,87286,98550,89035,83661,53456,94161,83667,86483,103891,91605,98261,88790,89558,72151,58583,75483,99035,47799,88760,81849,88249,47290,34235,92604,73149,95678,33982,73151,91327,54719,37825,42178,83651,77765,43974,85191,55832,72985,95513,72987,60699,48668,60703,63007,35872,39968,103202,44067,83237,93989,41765,101416,39427,54788,56068,88838,85511,55303,99336,51208,91401,99337,55305,84491,41227,58891,47116,48654,101135,57103,91409,93714,51474,39955,34070,68887,91612,103646,83167,91103,88801,95462,38118,60649,94186,60651,33262,73199,39919,39920,31473,83699,47603,90357,93174,53495,97784,83449,89850,34554,68347,51195,51196,96765,41214,98816,52736,57601,59137,39938,40962,92675,91265,104065,88451,88196,82565,89477,88454,93574,103558,30600,92041,94601,54922,93324,55436,69005,88717,50061,62605,68495,39823,95632,33424,49040,88978,82579,52628,60769,101986,97380,97893,88678,39270,88681,55402,91756,49260,52332,83821,89454,91758,37951,35904,42563,57923,94788,42564,83525,104261,61253,104262,82759,89159,93255,100169,93258,83019,103245,40269,50253,100430,48207,55737,48829,88766,79039,101823,33984,68803,38596,103109,103623,97647,98161,103282,82547,44916,83319,103290,102012,46716,104317,62589,87166,92542,91008,102016,104320,83073,98731,52141,65201,88754,44981,59573,87990,103607,100536,103096,104272,68433,92497,73043,47959,57687,58711,42840,64089,48474,80219,94043,101723,96604,73053,83037,91487,89440,68759,98455,99479,55192,100761,37785,88474,88730,38298,66715,88731,48283,88477,82335,96927,83617,89505,102050,58531,103589,101798,101929,83755,40747,48174,88112,95536,98352,82739,46387,93492,75835,91964,97086,41534,73279,96968,33736,103112,103628,94159,63183,73169,101585,44242,76756,92372,83413,103637,89559,91351,91097,88028,89094,73479,91911,83721,91145,91146,55050,88332,95756,97548,104205,82193,88084,91159,55517,33246,62687,92129,46561,54241,62689,88034,89826,36834,85732,42982,44774,33512,101355,52462,82671,84463,101615,101616,83187,46326,56054,68343,68855,65527,35576,92666,92668,99836,56316,57597,68607,83711,99327,96513,31489,68611,96793,33818,101146,70683,46367,63519,85025,104225,68387,93475,54819,90916,51236,82725,61989,65831,74791,90920,100137,75371,82539,97131,55147,73069,91757,49261,52845,61805,90734,102254,90480,54642,97139,98419,58228,49783,101752,92809,93578,83853,89485,93325,103053,33422,54416,68241,66453,73109,84117,98453,55957,56470,36760,103064,88473,49049,41114,95070,38750,35423,95843,61795,62563,103268,104036,43620,90470,97126,36454,47206,87143,95080,30569,98409,89706,100458,72043,89899,69933,90159,97839,31281,94002,104242,91956,34100,102964,51252,41526,82999,94008,94009,32569,88697,90489,80253,57725,42625,94082,94594,35458,38788,41092,60293,101511,90760,101000,37768,81819,62619,68253,96925,94366,60319,68513,95649,55713,68259,94883,93094,57511,88488,44968,91049,98127,91984,73809,80721,101713,86356,95060,58196,90197,94037,96085,68951,84055,102744,84057,73051,99675,94812,103260,41053,61789,83663,41423,37073,90579,104403,53715,86484,54740,94423,61655,55000,82905,46041,91611,92892,98268,103901,59449,94010,93502,74047,92992,82753,88898,53826,100677,89670,96326,94791,61767,53064,94537,104265,55369,80971,90795,37291,36780,55724,88750,52910,57263,70833,41905,56242,62643,83381,92344,44984,47289,60601,61113,63929,101818,68795,59581,97215,103615,99008,100032,42176,69059,47812,52420,89798,58055,104136,41160,103113,42953,88778,36554,93644,79053,39951,68369,79377,93201,101137,59153,60689,88851,97043,47379,59923,98324,99604,39956,62485,94486,93975,93977,67867,80667,31004,91614,92128,83427,103653,90855,66281,54251,102892,92909,94190,103918,58095,45296,47645,64797,91166,93982,42015,51746,60195,33828,92197,43304,83241,95532,68397,68655,91968,83777,99393,41281,58945,96322,101699,89414,79175,57415,89672,90952,91208,102728,94793,96329,44362,51786,68939,44107,92928,84483,88067,88835,89091,91396,95494,100102,103686,83463,93192,94984,73225,39945,47369,61705,41228,68365,83469,82959,52979,70645,73205,47605,52469,52981,45560,92922,34556,43260,83197,101630,104446,72959,83967,84223,96815,52015,68401,88625,97585,57649,62769,100914,90163,44852,89653,53813,82743,92471,71993,41017,90939,58683,55102,83805,94557,100958,103262,52318,68447,103263,88672,94048,95072,80481,34146,69475,91748,30310,68455,82535,83047,83559,96871,55143,63591,88680,40296,93005,98637,68431,102993,95314,68435,90196,84053,61781,30550,86871,44375,101208,91482,93531,92508,94556,94874,86427,59035,68509,69789,95645,93598,90527,94367,92065,44449,56226,95651,61091,96420,56228,100264,92585,33705,60073,103594,96873,96362,43626,44651,92525,53101,98414,91761,58481,93555,62579,92532,98164,52085,61813,94070,43126,88696,99961,34231,59577,100538,46267,37820,42940,52668,55740,47805,83905,103106,69571,88455,88457,54921,86154,100746,101003,50059,91790,55438,69263,59535,90512,45202,90516,96148,100244,68757,89494,42646,90007,76440,92824,69017,73113,96707,57539,97476,95429,85447,99015,54984,68553,35785,59081,62665,82635,103883,88268,103116,101838,33707,62637,38062,49327,45232,54448,73905,46770,57267,100788,68533,97205,102837,68279,68535,52943,90832,97488,104401,103122,53714,75731,89555,68821,62677,68823,73177,42714,89820,55005,98682,104058,52346,40316,91007,44417,57729,103298,44162,91524,103556,67461,79237,33925,52869,61829,68999,58641,44819,60691,93972,36628,62741,93976,88089,46618,77595,97563,46620,95517,35871,79583,82655,88031,56799,70625,98274,75747,100323,40163,52708,81893,94949,50662,91140,83717,83973,88837,39941,61957,54022,68615,82695,33032,44552,68877,90125,93197,96525,97806,99854,46607,59151,38672,102902,88823,37112,51960,60153,89338,51962,98811,100091,60155,91133,34557,60669,96255,68353,60673,65281,34562,43267,31818,44106,58186,75595,96331,46155,61771,63819,96844,47948,54860,47438,89423,89679,34383,103247,62543,90192,96336,82513,101714,94803,103251,96596,84029,52285,36414,34111,61247,47936,104001,95042,73283,61251,61763,65091,68933,80965,83527,100936,90442,91978,53478,88040,68841,96745,44267,92908,95468,75759,50927,54511,69109,93685,38645,58869,35631,57647,93488,96304,98865,43057,43570,91955,61747,57653,68919,86071,94007,48951,77881,83513,91449,96569,100921,103200,103201,55073,50723,46116,69925,93990,74535,93991,68393,82729,46633,93738,100395,97324,51244,52012,73005,82733,43309,51245,59693,95534,93525,93526,90456,89433,94809,59737,60249,61785,57947,93532,68189,101726,55390,70239,101728,75105,99169,83811,101987
];

var style = document.createElement('style');
style.type = 'text/css';

style.innerHTML = `
.tagLessManga::after{
	content: "no tags";
	color: red;
	border-style: solid;
	border-color: red;
	border-width: 1px;
	padding: 2px;
	border-radius: 2px;
	position: absolute;
	background-color: rgb(31,35,45,0.8);
}
`;

document.getElementsByTagName('head')[0].appendChild(style);

var findUntagged = function(){
	var possible = document.getElementsByTagName("a");
	for(var i=0;i<possible.length;i++){
		if(!possible[i].hasOwnProperty("hohTagTaggedManga")){
			possible[i].hohTagTaggedManga = true;
			if(possible[i].href){
				if(possible[i].href.match(/^(https?:\/\/anilist\.co)?\/manga\/\d+\/?(.*?\/)?$/)){
					var idMatches = /manga\/(\d+)/;
					var ids = idMatches.exec(possible[i].href);
					var idNumber = parseInt(ids[1]);
					if(cache.indexOf(idNumber) != -1){
						possible[i].classList.add("tagLessManga");
						possible[i].idNumber = idNumber;
					};
				};
			};
		};
	};
	var possibleFalsePositives = document.getElementsByClassName("tagLessManga");
	for(var i=0;i<possibleFalsePositives.length;i++){
		if(!possibleFalsePositives[i].classList.contains("hohDoubleManga")){
			possibleFalsePositives[i].classList.add("hohDoubleManga");
			possibleFalsePositives[i].classList.add("hohSearchManga" + possibleFalsePositives[i].idNumber);
			var variables = {
				id: possibleFalsePositives[i].idNumber
			};
			var query = `
query ($id: Int!) {
  Media(id: $id) {
    id
    tags {
      name
    }
  }
}
`;
			var positiveCallback = function(data){
				var targetMedia = document.getElementsByClassName("hohSearchManga" + data.data.Media.id)[0];
				targetMedia.classList.remove("hohSearchManga" + data.data.Media.id);
				console.log("possible false positive checked" + data.data.Media.id);
				if(data.data.Media.tags.length != 0){
					targetMedia.classList.remove("tagLessManga");
					console.log("removed false positive");
					setTimeout(function(){
						var targetMedia = document.getElementsByClassName("hohSearchManga" + data.data.Media.id);
						for(var j=0;j<targetMedia.length;j++){
							targetMedia[j].classList.remove("tagLessManga");
							targetMedia[j].classList.remove("hohSearchManga" + data.data.Media.id);
						};
						},1000
					);
				};
			};
			if(pending != possibleFalsePositives[i].idNumber){
				generalAPIcall(query,variables,positiveCallback);
				pending = possibleFalsePositives[i].idNumber;
			};
			return;
		};
	};
};
setInterval(function(){
	findUntagged();
},1000);
console.log("Tagless manga 0.21");
})();